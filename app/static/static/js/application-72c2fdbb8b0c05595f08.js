webpackJsonp([12],[,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){function e(e,t,n,r){this._initialize(e),this.initialize(t,n,r),this._after_initialize()}return e.prototype.on=function(){return this.$node.on.apply(this.$node,arguments)},e.prototype.trigger=function(){return this.$node.trigger.apply(this.$node,arguments)},e.prototype.$=function(e){return $(e,this.$node)},e.prototype.html=function(e){return this.$node.html(e)},e.prototype._initialize=function(e){return this.$node=this.$root=$(e),this.node=this.root=this.$node[0],this.$node.view(this)},e.prototype._after_initialize=function(){},e.prototype._set_root=function(e){return this.$root=this.$node=$(e),this.root=this.node=this.$root[0],this.$root.data({view_object:this})},e}()},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(210),i=n.n(r),o=n(216);t.default=i.a.create({headers:Object.assign(Object(o.a)().headers,{"X-Requested-With":"XMLHttpRequest"})})},,function(e,t,n){"use strict";var r=n(473),i=n.n(r);i.a.options.progressBar=!0,i.a.options.closeDuration=250,i.a.options.timeOut=3e3,t.a={flash:function(e){"alert"in e||"error"in e?i.a.error(e.alert||e.error):"info"in e?i.a.info(e.info):i.a.success(e.notice)},error:function(e){e&&i.a.error(e)},info:function(e){e&&i.a.info(e)},notice:function(e){e&&i.a.success(e)}}},,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(503);t.default=r.keys().reduce(function(e,t){return e[t.replace(/^\.\/|\.\w+$/g,"")]=r(t),e},{})},,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"mobileDetect",function(){return i}),n.d(t,"isTablet",function(){return o}),n.d(t,"isMobile",function(){return a});var r=n(451),i=new(n.n(r).a)(window.navigator.userAgent),o=function(){return!!i.tablet()||document.documentElement.clientWidth<=768},a=function(){return!!i.mobile()||document.documentElement.clientWidth<=480}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var r=n(2),i=n.n(r),o=n(336),a=n.n(o),s=n(8),c=n(44),u=n(31),l=n(10),d=function(e,t){return function(){return e.apply(t,arguments)}},f={}.hasOwnProperty;t.default=function(t){function n(){return this._hide_preview=d(this._hide_preview,this),n.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)f.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,c["default"]),n.prototype.initialize=function(){var t,n,r,o;return t=this.$root,this.$form=this.$("form"),this.$form.exists()?this.is_inner_form=!0:(this.$form=t.closest("form"),this.is_inner_form=!1),this.$textarea=this.$("textarea"),this.on("focus",(o=this,function(){return o.$textarea.trigger("focus")})),this.$textarea.one("focus",function(e){return function(){return i()().then(function(){return a()(e.$textarea[0])})}}(this)),this.$textarea.on("keypress keydown",function(e){return function(t){if(27===t.keyCode)return e.$textarea.blur(),!1;if(t.metaKey||t.ctrlKey){if(10===t.keyCode||13===t.keyCode)return e.$form.submit(),!1;if(66===t.keyCode)return e.$(".editor-bold").click(),!1;if(73===t.keyCode)return e.$(".editor-italic").click(),!1;if(85===t.keyCode)return e.$(".editor-underline").click(),!1;if(83===t.keyCode)return e.$(".editor-spoiler").click(),!1;if(79===t.keyCode)return e.$textarea.insertAtCaret("[code]","[/code]"),!1}}}(this)),this.$form.on("ajax:before",function(t){return function(){return t.$textarea.val().replace(/\n| |\r|\t/g,"")?t._shade():(l.a.error(e.t("frontend.shiki_editor.text_cant_be_blank")),!1)}}(this)).on("ajax:complete",this._unshade).on("ajax:success",function(e){return function(){return e._hide_preview(),i()().then(function(){return e.$textarea[0].dispatchEvent(new Event("autosize:update"))})}}(this)),this.$(".editor-controls span").on("click",function(e){return function(t){if(!$(t.target).hasClass("selected"))return e.$(".editor-controls span.selected").trigger("click")}}(this)),this.$(".editor-bold").on("click",function(e){return function(){return e.$textarea.insertAtCaret("[b]","[/b]")}}(this)),this.$(".editor-italic").on("click",function(e){return function(){return e.$textarea.insertAtCaret("[i]","[/i]")}}(this)),this.$(".editor-underline").on("click",function(e){return function(){return e.$textarea.insertAtCaret("[u]","[/u]")}}(this)),this.$(".editor-strike").on("click",function(e){return function(){return e.$textarea.insertAtCaret("[s]","[/s]")}}(this)),this.$(".editor-spoiler").on("click",function(t){return function(){return t.$textarea.insertAtCaret("[spoiler="+e.t("frontend.shiki_editor.spoiler")+"]","[/spoiler]")}}(this)),["smiley","link","image","quote","upload"].forEach(function(e){return function(t){return e.$(".editor-"+t).on("click",function(n){var r,i;return i=$(n.target),r=e.$("."+t+"s"),i.hasClass("selected")?r.animatedCollapse():(r.animatedExpand(),r.trigger("click:open")),i.toggleClass("selected")})}}(this)),this.$(".b-button.ok").on("click",function(e){return function(t){var n,r;return r=$(t.target).data("type"),n=e.$("."+r+" input[type=text]"),"images"===r?n.trigger("keypress",[!0]):n.trigger("autocomplete:text",[n.val()])}}(this)),this.$(".links").on("click:open",function(e){return function(){return e.$(".links input[type=text]").val(""),e.$("#link_type_url").attr({checked:!0}).trigger("change")}}(this)),this.$(".links input[type=text]").completable().on("autocomplete:success autocomplete:text",function(e){return function(t,n){var r,i,o;if(o=(r=e.$(".links input[type=radio]:checked")).prop("id").replace("link_type_",""),i=Object.isString(n)?"url"===o?n:void 0:{id:n.id,text:n.name,type:o})return r.trigger("tag:build",i)}}(this)),this.$(".links input[type=radio]").on("change",function(){var e,n;return n=$(this),(e=$(".links input[type=text]",t)).attr({placeholder:n.data("placeholder")}),n.data("autocomplete")?e.data({autocomplete:n.data("autocomplete")}):e.data({autocomplete:null}),e.trigger("flushCache").focus()}),this.$(".links input[type=radio]").on("tag:build",function(e){return function(t,n){return e.$(".editor-link").trigger("click")}}(this)),this.$(".images").on("click:open",function(e){return function(){return e.$(".images input[type=text]").val("").focus()}}(this)),this.$(".images input[type=text]").on("keypress",function(e){return function(t,n){if(10===t.keyCode||13===t.keyCode||n)return e.$textarea.insertAtCaret("","[img]"+$(t.target).val()+"[/img]"),e.$(".editor-image").trigger("click"),!1}}(this)),this.$(".quotes").on("click:open",function(e){return function(){return e.$(".quotes input[type=text]").val("").focus()}}(this)),this.$(".quotes input[type=text]").on("keypress",function(e){return function(t){if(10===t.keyCode||13===t.keyCode)return e.$textarea.insertAtCaret("[quote"+(!e.value||e.value.isBlank()?"":"="+e.value)+"]","[/quote]"),e.$(".editor-quote").trigger("click"),!1}}(this)),this.$(".quotes input[type=text]").completable().on("autocomplete:success autocomplete:text",function(e){return function(t,n){var r;return r=Object.isString(n)?n:n.value,e.$textarea.insertAtCaret("[quote"+(!r||r.isBlank()?"":"="+r)+"]","[/quote]"),e.$(".editor-quote").trigger("click")}}(this)),this.$(".links #link_type_url").on("tag:build",function(e){return function(t,n){return e.$textarea.insertAtCaret("[url="+n+"]","[/url]",n.replace(/^https?:\/\/|\/.*/g,""))}}(this)),n=[".links #link_type_anime",".links #link_type_manga",".links #link_type_ranobe",".links #link_type_character",".links #link_type_person"],this.$(n.join(",")).on("tag:build",function(e){return function(t,n){return e.$textarea.insertAtCaret("["+n.type+"="+n.id+"]","[/"+n.type+"]",n.text)}}(this)),this.$(".smileys").on("click:open",function(e){return function(t){var n;if((n=$(t.target)).data("href"))return n.load(n.data("href"),function(){return n.data({href:null}),e.$(".smileys img").on("click",function(t){var n;return n=$(t.target).attr("alt"),e.$textarea.insertAtCaret("",n),e.$(".editor-smiley").trigger("click")})})}}(this)),this.$(".b-offtopic_marker").on("click",function(e){return function(){return e._mark_offtopic(e.$(".b-offtopic_marker").hasClass("off"))}}(this)),this.$(".b-summary_marker").on("click",function(e){return function(){return e._mark_review(e.$(".b-summary_marker").hasClass("off"))}}(this)),this.$("footer .unpreview").on("click",this._hide_preview),this.$("footer .preview").on("click",function(e){return function(){var t,n;return t={},n=e.is_inner_form?e.$form.serializeHash()[e._type()]:e.$root.triggerWithReturn("preview:params")||{body:e.$textarea.val()},t[e._type()]=n,e._shade(),s.default.post($("footer .preview",e.$root).data("preview_url"),t).then(function(t){return e._show_preview(t.data)}).catch().then(e._unshade)}}(this)),this.$(".item-apply").on("click",function(e){return function(t,n){return e.$form.submit()}}(this)),this.$textarea.val().length>0&&i()().then(function(e){return function(){return e.$textarea.focus(),e.$textarea.setCursorPosition(e.$textarea.val().length)}}(this)),$.browser.opera&&parseInt($.browser.version)<12&&this.$(".editor-file").hide(),r="["+e.t("frontend.shiki_editor.file")+" #@]",this.$textarea.shikiFile({progress:t.find(".b-upload_progress"),input:$(".editor-file input",t),maxfiles:6}).on("upload:started",function(e){return function(t,n){var i;return i=r.replace("@",n),e.$textarea.insertAtCaret("",i),e.$textarea.focus()}}(this)).on("upload:before upload:after",function(e){return function(t,n){return e.$(".editor-upload").trigger("click")}}(this)).on("upload:success",function(e){return function(t,n,i){var o,a;return o=r.replace("@",i),-1===e.$textarea.val().indexOf(o)?e.$textarea.insertAtCaret("","[image="+n.id+"]"):(a=n.id?"[image="+n.id+"]":"",e.$textarea.val(e.$textarea.val().replace(o,a))),e.$textarea.focus()}}(this)).on("upload:failed",function(e){return function(t,n,i){var o;return o=r.replace("@",i),-1!==e.$textarea.val().indexOf(o)&&e.$textarea.val(e.$textarea.val().replace(o,"")),e.$textarea.focus()}}(this))},n.prototype._show_preview=function(e){return this.$root.addClass("previewed"),$(".body .preview",this.$root).html(e).process().shikiEditor()},n.prototype._hide_preview=function(){if(this.$root.removeClass("previewed"),!this.$(".editor-controls").is(":appeared"))return $.scrollTo(this.$root)},n.prototype._mark_offtopic=function(e){return this.$("#comment_is_offtopic").val(e?"true":"false"),this.$(".b-offtopic_marker").toggleClass("off",!e)},n.prototype._mark_review=function(e){return this.$("#comment_is_summary").val(e?"true":"false"),this.$(".b-summary_marker").toggleClass("off",!e)},n.prototype.cleanup=function(){return this._mark_offtopic(!1),this._mark_review(!1),this.$textarea.val("").trigger("update")},n.prototype.reply_comment=function(e,t){return t&&this._mark_offtopic(!0),this.$textarea.val((this.$textarea.val()+"\n"+e).replace(/^\n+/,"")).focus().trigger("update").setCursorPosition(this.$textarea.val().length),setTimeout((n=this,function(){if((Object(u.isMobile)()||Object(u.isTablet)())&&!n.$textarea.is(":appeared"))return $.scrollTo(n.$form,null,function(){return n.$textarea.focus()})}));var n},n.prototype.edit_comment=function(e){var t,n;return t=e.children().detach(),e.append(this.$root),this.$(".cancel").on("click",(n=this,function(){return n.$root.remove(),e.append(t)})),this.on("ajax:success",function(t,n){return e.view()._replace(n.html,n.JS_EXPORTS)})},n.prototype._type=function(){return this.$textarea.data("item_type")},n}()}.call(t,n(1))},,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=function(e,t){return function(){return e.apply(t,arguments)}},a={}.hasOwnProperty;t.default=function(e){function t(){return this._reload=o(this._reload,this),this._unshade=o(this._unshade,this),this._shade=o(this._shade,this),this._check_height=o(this._check_height,this),t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)a.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,r["default"]),t.prototype.MAX_PREVIEW_HEIGHT=450,t.prototype.COLLAPSED_HEIGHT=150,t.prototype._initialize=function(){t.__super__._initialize.apply(this,arguments),this.$node.removeClass("unprocessed"),this.$inner=this.$(">.inner"),this.$inner.exists()},t.prototype._check_height=function(){if(window.SHIKI_USER.isCommentsAutoCollapsed)return this.$inner.checkHeight({max_height:this.MAX_PREVIEW_HEIGHT,collapsed_height:this.COLLAPSED_HEIGHT})},t.prototype._shade=function(){return this.$node.addClass("b-ajax")},t.prototype._unshade=function(){return this.$node.removeClass("b-ajax")},t.prototype._reload=function(){return this._shade(),i.default.get(this._reload_url()).then((e=this,function(t){return e._replace(t.data.content,t.data.JS_EXPORTS)}));var e},t.prototype._reload_url=function(){return this.$node.data("url")},t.prototype._replace=function(e,t){var n;return n=$(e),this.$node.replaceWith(n),n.process(t).yellowFade()},t}()},,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return t.is(e)?t.find(e).add(t):t.find(e)}},,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return o});var r=n(3),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["default"]),i(t,[{key:"initialize",value:function(){this.$root.on("click","[data-reason]",this._click)}},{key:"_click",value:function(e){var t=e.currentTarget;$(t).closest(".b-form").find('[name="ban[reason]"]').val($(t).data("reason"))}}]),t}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return u});var r=n(2),i=n.n(r),o=n(217),a=n.n(o),s=n(3),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s["default"]),c(t,[{key:"initialize",value:function(e){var t=this,n=e||{};this.$container=this.$(".container"),$(".b-image",this.$container).shikiImage(),this.$container.imagesLoaded(function(){t.packery=new a.a(t.$container[0],{columnWidth:".grid_sizer",containerStyle:null,gutter:0,isAnimated:!1,isResizeBound:!1,itemSelector:".b-image",transitionDuration:n.imageboard?0:"0.25s"}),t.$container.addClass("packery").data({packery:t.packery})}),n.shikiUpload&&this._addUpload(n.shikiUploadCustom)}},{key:"_addUpload",value:function(e){var t=this;this.$container.shikiFile({progress:this.$container.prev()}).on("upload:success",function(n,r){e||t._deployImage(r.html,50,"prepended")})}},{key:"_deployImage",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(t,n,r){var o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=$(t).shikiImage().css({left:-9999}).prependTo(this.$container),e.next=3,i()(n);case 3:this.packery[r](o[0]);case 4:case"end":return e.stop()}},e,this)}),function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}("next")})});return function(e,n,r){return t.apply(this,arguments)}}()}]),t}()},function(e,t,n){"use strict";t.a=function(e){return 1===e.button||0===e.button&&(e.ctrlKey||e.metaKey)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return p});var r,i=n(66),o=(n.n(i),n(3)),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var s,c,u,l,d,f,p=(r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o["default"]),a(t,[{key:"initialize",value:function(e){this.addText=this.$root.data("add_text"),this.removeText=this.$root.data("remove_text"),this._update(e),this.on("ajax:success",this._ajaxSuccess)}},{key:"_ajaxSuccess",value:function(){this._update(this.root.classList.contains("fav-add"))}},{key:"_update",value:function(e){e?this.$root.removeClass("fav-add").addClass("fav-remove").attr({title:this.removeText,"original-title":this.removeText,"data-text":this.removeText}).data("method","delete"):this.$root.removeClass("fav-remove").addClass("fav-add").attr({title:this.addText,"original-title":this.addText,"data-text":this.addText}).data("method","post")}}]),t}(),s=r.prototype,c="_ajaxSuccess",u=[i.bind],l=Object.getOwnPropertyDescriptor(r.prototype,"_ajaxSuccess"),d=r.prototype,f={},Object.keys(l).forEach(function(e){f[e]=l[e]}),f.enumerable=!!f.enumerable,f.configurable=!!f.configurable,("value"in f||f.initializer)&&(f.writable=!0),f=u.slice().reverse().reduce(function(e,t){return t(s,c,e)||e},f),d&&void 0!==f.initializer&&(f.value=f.initializer?f.initializer.call(d):void 0,f.initializer=void 0),void 0===f.initializer&&(Object.defineProperty(s,c,f),f=null),r)},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return o});var r=n(68),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["default"]),i(t,[{key:"initialize",value:function(){(function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this),this.rel="imageboards"}},{key:"_buildLoader",value:function(){var e=this;return n.e(8).then(function(r){var i=n(548).default,o=encodeURIComponent(e.$root.data("imageboard_tag")||"").trim();o&&(e.loader=new i(t.BATCH_SIZE,o))}.bind(null,n)).catch(n.oe)}}]),t}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return f});var r,i,o=n(2),a=n.n(o),s=n(63),c=n(24),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0};function d(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}("next")})}}var f=(i=r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s["default"]),u(t,[{key:"initialize",value:function(){var e=d(regeneratorRuntime.mark(function e(){var n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initialize",this).call(this,{shikiUpload:this.$root.data("can_upload"),shikiUploadCustom:!0}),this.rel=this.$root.data("rel"),this.canLoad=!0,this.destroyUrl=this.$container.data("destroy_url"),this.on("upload:success",function(e,t){return n._appendUploaded(t)}),this._buildLoader().then(function(){n.loader.on(n.loader.FETCH_EVENT,function(e){n._imagesLoad(e)}),n._appearMarker(),n._fetch()});case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_imagesLoad",value:function(e){var t=this,n=e.map(function(e){return t._imageToHtml(e)});$(n.join("")).imagesLoaded(function(e){return t._deployBatch(e)})}},{key:"_appendUploaded",value:function(e){var t=this,n=$(this._imageToHtml(e));n.imagesLoaded(function(){t._deployImage(n,0,"prepended")})}},{key:"_buildLoader",value:function(){var e=this;return n.e(9).then(function(r){var i=n(541).default,o=e.$container.data("images");e.loader=new i(t.BATCH_SIZE,o)}.bind(null,n)).catch(n.oe)}},{key:"_appearMarker",value:function(){var e=this;this.$appearMarker=$('<p class="ajax-loading vk-like b-appear_marker active" data-appear-top-offset="900"></p>').insertAfter(this.$container),this.$appearMarker.on("appear",function(){return e._fetch()})}},{key:"_fetch",value:function(){this.canLoad&&(this.loader.fetch(),this._stopPostload())}},{key:"_startPostload",value:function(){this.canLoad=!0,this.$appearMarker.is(":appeared")&&this._fetch()}},{key:"_stopPostload",value:function(){this.canLoad=!1}},{key:"_imageToHtml",value:function(e){return c.default["images/image"]({image:e,rel:this.rel,destroy_url:e.can_destroy?this.destroyUrl.replace("ID",e.id):void 0})}},{key:"_deployBatch",value:function(){var e=d(regeneratorRuntime.mark(function e(t){var n=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.elements.forEach(function(e,t){n._deployImage(e,100*t,"appended")}),e.next=3,a()(100*(t.elements.length+1));case 3:this.loader.isFinished()?this.$appearMarker.remove():this._startPostload();case 4:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()}]),t}(),r.BATCH_SIZE=5,i)},,,,,,,,,,,,function(e,t){var n,r;r=["#44bbff","#c09eda","#9bd51f","#f7b42c","#f27490","#fc575e","#f27624","#90d5ec","#f49ac1","#ca5","#b5e4f2","#9ab"],n=["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],e.exports=r.concat(n)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return a});var r=n(466),i=(n.n(r),n(3)),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["default"]),o(t,[{key:"initialize",value:function(){var e=this;this.root.volume=r.sessionStorage.get("video_volume")||1,this.on("click",function(){return e.click()}),this.on("volumechange",function(){return e.volumeChange()}),this.on("webkitfullscreenchange mozfullscreenchange fullscreenchange",function(){return e.switchFullscreen()})}},{key:"click",value:function(){return this.root.paused?this.root.play():this.root.pause(),!1}},{key:"volumeChange",value:function(){r.sessionStorage.set("video_volume",this.root.volume)}},{key:"switchFullscreen",value:function(){document.fullscreenElement===this.root?this.root.classList.add("fullscreen"):this.root.classList.remove("fullscreen")}}]),t}()},function(e,t,n){"use strict";(function(e){var r=n(10),i=n(3),o={}.hasOwnProperty;t.a=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)o.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,i["default"]),n.I18N_KEY="frontend.dynamic_elements.authorized_action",n.prototype.initialize=function(){return this.$node.on("click",function(t){if(!window.SHIKI_USER.isSignedIn)return r.a.info(e.t(n.I18N_KEY+".register_to_complete_action")),t.stopImmediatePropagation(),!1})},n}()}).call(t,n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n.n(r),o=function(){var e=void 0;return window.getSelection?e=window.getSelection():document.getSelection?e=document.getSelection():document.selection&&(e=document.selection.createRange().text),(e.toString()||"").trim()},a=n(8),s=n(44),c=function(e,t){return function(){return e.apply(t,arguments)}},u={}.hasOwnProperty;t.default=function(e){var t;function n(){return this._reload_url=c(this._reload_url,this),n.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)u.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,s["default"]),t=[".item-ignore",".item-quote",".item-reply",".item-edit",".item-summary",".item-offtopic",".item-cancel"],n.prototype._initialize=function(){var e,r;return n.__super__._initialize.apply(this,arguments),e=$(".b-new_marker",this.$inner),this.$(t.join(","),this.$inner).on("click",(r=this,function(){return r._close_aside()})),$(".item-delete",this.$inner).on("click",function(e){return function(){return $(".main-controls",e.$inner).hide(),$(".delete-controls",e.$inner).show()}}(this)),$(".item-delete-confirm",this.$inner).on("ajax:loading",function(e){return function(t,n,r,o){return $.hideCursorMessage(),e.$root.animatedCollapse(),i()(500).then(function(){return e.$root.remove()})}}(this)),$(".item-delete-cancel",this.$inner).on("click",function(e){return function(){return e._close_aside()}}(this)),$(".item-mobile",this.$inner).on("click",function(e){return function(){return e.$root.toggleClass("aside-expanded"),$(".item-mobile",e.$inner).toggleClass("selected"),e.$root.find(">.b-height_shortener").click()}}(this)),e.on("click",function(t){return function(){var n;return(e=$(".b-new_marker.active",t.$inner)).hasClass("off")?(e.removeClass("off").data({click_activated:!0}).trigger("reappear"),a.default.post(e.data("reappear_url"),{ids:t.$root.attr("id")})):e.data("click_activated")?(e.addClass("off").trigger("disappear"),a.default.post(e.data("appear_url"),{ids:t.$root.attr("id")})):(n=t.$(".b-appear_marker.active")).trigger("appear",[n,!0])}}(this)),this.on("faye:"+this._type()+":updated",function(e){return function(t,n){var r;return $(".was_updated",e.$inner).remove(),r="message"===e._type()?e._type_label()+" \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c":e._type_label()+" \u0438\u0437\u043c\u0435\u043d\u0451\u043d \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c",$("<div class='was_updated'> <div><span>"+r+"</span><a class='actor b-user16' href='/"+n.actor+"'><img src='"+n.actor_avatar+"' srcset='"+n.actor_avatar_2x+" 2x' /><span>"+n.actor+"</span></a>.</div> <div>\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u0434\u043b\u044f \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u044f.</div> </div>").appendTo(e.$inner).on("click",function(t){if(!$(t.target).closest(".actor").exists())return e._reload()}),!1}}(this)),this.on("faye:"+this._type()+":deleted",function(e){return function(t,n){var r;return r="message"===e._type()?e._type_label()+" \u0443\u0434\u0430\u043b\u0435\u043d\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c":e._type_label()+" \u0443\u0434\u0430\u043b\u0451\u043d \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u043c",e._replace("<div class='b-comment-info b-"+e._type()+"'><span>"+r+"</span><a class='b-user16' href='/"+n.actor+"'><img src='"+n.actor_avatar+"' srcset='"+n.actor_avatar_2x+" 2x' /><span>"+n.actor+"</span></a></div>"),!1}}(this))},n.prototype._after_initialize=function(){if(n.__super__._after_initialize.call(this),this.$body)return this.$body.on("mouseup",(e=this,function(){var t,n;if(n=o())return $(".item-quote").hide(),e.$root.data({selected_text:n}),t=$(".item-quote",e.$inner).css({display:"inline-block"}),i()().then(function(){return $(document).one("click",function(){return o().length?i()(250).then(function(){if(!o().length)return t.hide()}):t.hide()})})})),$(".item-quote",this.$inner).on("click",function(e){return function(t){var n,r,i;return n=[e.$root.prop("id"),e.$root.data("user_id"),e.$root.data("user_nickname")],i=e.$root.data("selected_text"),r="[quote="+e._type()[0]+n.join(";")+"]"+i+"[/quote]\n",e.$root.trigger("comment:reply",[r,"function"===typeof e._is_offtopic?e._is_offtopic():void 0])}}(this));var e},n.prototype._activate_appear_marker=function(){return this.$inner.children(".b-appear_marker").addClass("active"),this.$inner.children(".markers").find(".b-new_marker").addClass("active")},n.prototype._close_aside=function(){return $(".item-mobile",this.$inner).is(".selected")&&$("> .item-mobile",this.$inner).click(),$(".main-controls",this.$inner).show(),$(".delete-controls",this.$inner).hide(),$(".moderation-controls",this.$inner).hide()},n.prototype._reload_url=function(){return"/"+this._type()+"s/"+this.$root.attr("id")},n}()},function(e,t,n){"use strict";(function(e){n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a});var r=n(32),i=n.n(r),o={delay:150,predelay:250,position:"top right",defaultTemplate:"<div> <div class='tooltip-inner'> <div class='tooltip-arrow'></div> <div class='clearfix'> <div class='close'></div> <div class='tooltip-details'> <div class='ajax-loading' title='"+e.t("frontend.blocks.tooltip.loading")+"' /> </div> </div> <div class='dropshadow-top'></div> <div class='dropshadow-top-right'></div> <div class='dropshadow-right'></div> <div class='dropshadow-bottom-right'></div> <div class='dropshadow-bottom'></div> <div class='dropshadow-bottom-left'></div> <div class='dropshadow-left'></div> <div class='dropshadow-top-left'></div> </div> </div>",onBeforeShow:function(){var e,t,n,r;if((t=this.getTrigger()).find("[title]").attr({title:""}),!(e=this.getTip().find(".close")).data("binded")&&(e.data({binded:!0}).on("click",(r=this,function(){return r.hide()})),(n=(t.data("href")||t.attr("href")||"").replace(/\/tooltip/,""))&&this.getTip().find(".link").attr({href:n}),n.match(/\/genres\//)))return this.getTip().find(".link").hide()}},a=Object.add(o,{offset:[-4,10,-10],position:"top right",predelay:350,ignoreSelector:".text",onBeforeFetch:function(){var e,t,n;if((e=(t=this.getTrigger()).find(".image-decor img")).exists()&&e.width()>=110)return n=i()(t.data("tooltip_url")).search({minified:"1"}).toString(),t.data({tooltip_url:n}),this.getTip().addClass("minified")}})}).call(t,n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o=n(2),a=n.n(o),s=n(3),c={}.hasOwnProperty;i=function(e){return console.log("remove ad "+e),$("."+e).remove()},r=null,using("Ads"),Ads.View=function(e){var t;function n(){return n.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)c.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,s["default"]),t={LOADED:"loaded"},"<div class='close-ad'></div>",n.prototype.initialize=function(e,n,i){return this.html=e,this.css_class=n,this.ad_params=i,r!==t.LOADED&&this._load_ad_handler(),this._replace_node()},n.prototype._load_ad_handler=function(){return r=t.LOADED,$(window).on("message",function(e){var t;if("remove_ad"===(null!=(t=e.originalEvent.data)?t.type:void 0))return i(e.originalEvent.data.ad_class)})},n.prototype._replace_node=function(){var e,t,n;return t=$("<div class='close-ad'></div>"),$.cookie(this.css_class+"_disabled")?this.$node.remove():(e=$("<div>"+this.html+"</div>").addClass(this.css_class).append(t),this.$node.replaceWith(e),t.on("click",(n=this,function(){return $.cookie(n.css_class+"_disabled","1",{expires:7}),e.addClass("removing"),a()(1e3).then(function(){return i(n.css_class)})})))},n}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(64);r={kind:[],status:[],season:[],franchise:[],achievement:[],genre:[],studio:[],publisher:[],duration:[],rating:[],score:[],options:[],mylist:[],search:[],"order-by":[]},t.default=function(e,t,n){var o,a,s,c,u;return o=$(".b-collection-filters"),s=function(e){var t,n,r,i;return(t=e.attr("class").match(/([\w\-]+)-([\w.\-]+)/))?(r=t[1],i=t[2],(r.match(/genre-\d+/)||r.match(/studio-\d+/)||r.match(/publisher-\d+/)||r.match(/kind-\w+/)||r.match(/rating-\w+/)||r.match(/score-\d+/)||r.match(/duration-\w+/))&&(r=(n=r.split("-"))[0],i=n.slice(1).join("-")+"-"+i),{type:r,value:i}):null},u=function(e){return e.replace(/^!/,"").replace(/\?.*/,"")},a=function(e,t){var n,r,i,a;return a=(t=u(t)).replace(/^\d+-/,""),i=null,"publisher"===e&&a.match(/-/)?a=a.replace(/-/g," "):"season"===e&&t.match(/^\d+$/)&&(i=parseInt(t,10),a=t+" \u0433\u043e\u0434"),t=t.replace(/\./g,""),n=$("<li class='"+e+"-"+t+"'><input type='checkbox'/>"+a+"</li>"),i?(r=$("ul.seasons li",o).filter(function(e){var t,n;return!!(t=this.className.match(/season-(\d+)/))&&((n=parseInt(t[1],10))<1e3&&(n*=10),n<i)})).length?n.insertBefore(r.first()):$(".anime-params."+e+"s",o).append(n):$(".anime-params."+e+"s",o).prepend(n).parent().removeClass("hidden"),n},$(".anime-params",o).on("click","li",function(e){var t,r;if(!Object(i.a)(e)&&!e.target.classList.contains("b-question"))return t=this.classList.contains("selected"),!(r=s($(this)))||(t?c.remove(r.type,r.value):"type"in e.target&&"checkbox"===e.target.type?c.add(r.type,r.value):c.set(r.type,r.value),n(c.compile()),"type"in e.target&&"checkbox"===e.target.type&&void 0)}),$(".anime-params-block .block-filter",o).on("click",function(e){var t,r;return t=$(this).closest(".anime-params-block"),r=$(this).hasClass("item-sign")?t.find("li").length===t.find(".item-add").length:$(this).hasClass("item-add"),t.find("li").map(function(){return s($(this))}).each(function(e,t){return c.params[t.type][e]=r?"!"+t.value:t.value}),n(c.compile()),c.parse(c.compile())}),$(".anime-params li",o).on("click",".filter",function(e){var t,r,i;return r=$(this).hasClass("item-add"),$(this).removeClass(r?"item-add":"item-minus").addClass(r?"item-minus":"item-add"),t=s($(this).parent()),i=c.params[t.type].indexOf(r?t.value:"!"+t.value),c.params[t.type][i]=r?"!"+t.value:t.value,n(c.compile()),!1}),(c={params:null,set:function(e,t){var n;return n=this,this.params[e].forEach(function(t){return n.remove(e,t)}),this.add(e,t)},add:function(e,t){var n,r,i;if(e===Object.keys(this.params).last()&&this.params[e].length>0?this.set(e,t):this.params[e].push(t),"search"!==e)return(i=$("li."+e+"-"+u(t),o)).length||(i=a(e,t)),"none"===i.css("display")&&i.css({display:"block"}),i.addClass("selected"),(r=i.children("input")).length?(r.attr({checked:!0}),(n=i.children(".filter")).length?n.removeClass("item-add").removeClass("item-minus").addClass("!"===t[0]?"item-minus":"item-add").show():i.prepend('<span class="filter '+("!"===t[0]?"item-minus":"item-add")+'"></span>')):void 0},remove:function(e,t){var n;t=u(t),this.params[e]=this.params[e].subtract([t,"!"+t]);try{return(n=$("."+e+"-"+t,o)).removeClass("selected"),n.children("input").attr({checked:!1}),n.children(".filter").hide()}catch(e){}},compile:function(){var t;return t=Object.reduce(this.params,function(e,t,n){return t&&("order-by"!==n||"ranked"!==t[0]||location.href.match(/\/list\/(anime|manga)/))&&t.length?e+"/"+n+"/"+t.join(","):e},""),this.last_compiled=e+t+location.search},last_compiled:null,parse:function(t){var n;if($(".anime-params .selected",o).toggleClass("selected"),$(".anime-params input[type=checkbox]:checked",o).attr({checked:!1}),$(".anime-params .filter",o).hide(),this.params=JSON.parse(JSON.stringify(r)),(t.replace(location.protocol+"//"+location.hostname,"").replace(":"+location.port,"").replace(e,"").replace(/\?.*/,"").match(/[\w\-]+\/[^\/]+/g)||[]).forEach((n=this,function(e){var t;if("page"!==(t=e.split("/")[0])&&t in r)return e.split("/")[1].split(",").forEach(function(e){try{return n.add(t,e)}catch(e){if("order-by"===t)return n.add("order-by","ranked")}})})),Object.isEmpty(this.params["order-by"]))return this.add("order-by","ranked")}}).parse(t),c.params.genre.length&&o.find(".genres .b-spoiler").spoiler().trigger("spoiler:open"),c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){n.d(t,"default",function(){return l});var r=n(2),i=n.n(r),o=n(3),a=n(84),s=n(8),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function u(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}("next")})}}var l=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,o["default"]),c(n,[{key:"initialize",value:function(){var e=u(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._scoresStatsBar(),this._statusesStatsBar(),!this.isHistoryAllowed){e.next=6;break}return e.next=5,i()(100);case 5:this._history();case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"_scoresStatsBar",value:function(){this.$("#rates_scores_stats").empty().bar({filter:function(e,t){return t>=2},no_data:function(t){t.html("<p class='b-nothing_here'>"+e.t("frontend.pages.p_animes.no_data")+"</p>")}})}},{key:"_statusesStatsBar",value:function(){this.$("#rates_statuses_stats").empty().bar({title:function(e,t){return t>15?e.value:""},no_data:function(t){t.html("<p class='b-nothing_here'>"+e.t("frontend.pages.p_animes.no_data")+"</p>")}})}},{key:"_history",value:function(){var e=this,t=this.$historyBlock.attr("data-source_url");t&&(this.$historyBlock.one("mouseover",u(regeneratorRuntime.mark(function n(){var r,i;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,s.default.get(t);case 2:r=n.sent,i=r.data,e._tooltipContent(i);case 5:case"end":return n.stop()}},n,e)}))),$(".person-tooltip",this.$historyBlock).tooltip(Object.add(a.a,{position:"top right",offset:[-28,59],relative:!0,place_to_left:!0,predelay:100,delay:100,effect:"toggle"})))}},{key:"_tooltipContent",value:function(e){Object.forEach(e,function(e,t){var n=$(".tooltip-details","#history-entry-"+t+"-tooltip");n.length&&(e.length?n.html(e.map(function(e){return"<a class='b-link' href=\""+e.link+'">'+e.title+"</a>"}).join("")):$("#history-entry-"+t+"-tooltip").children().remove())})}},{key:"isHistoryAllowed",get:function(){return window.SHIKI_USER.isSignedIn&&window.SHIKI_USER.isDayRegistered&&window.SHIKI_USER.isIgnoreCopyright}},{key:"$historyBlock",get:function(){return this.$(".history")}}]),n}()}.call(t,n(1))},function(e,t,n){"use strict";var r=n(8),i={},o=[],a=300;t.a={fetch:function(e){if(i[e])return i[e];var t=r.default.get(e).catch(function(t){var n=t.response;return delete i[e],{status:n.status}});return i[e]=t,function(e,t){for(o.includes(e)&&(o=o.subtract(e)),o.push(e);!t&&o.length>a;){var n=o.shift();delete i[n]}}(e),t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return o});var r=n(3),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["default"]),i(t,[{key:"initialize",value:function(){var e=this;this.$modal=$('<div class="b-modal"><div class="inner"></div></div>'),this.$modal.find(".inner").append(this.$root),this.$modal.css("top",$(window).scrollTop()),this.$modal.children().css("top",$(window).scrollTop()),this.$modal.appendTo(document.body),this.checkCancel=this._onKeyPress.bind(this),$(window).on("keydown",this.checkCancel),this.$modal.on("click",".cancel",function(){return e.close()}),this._shade()}},{key:"close",value:function(){$(window).off("keydown",this.checkCancel),this.$modal.remove(),this._unshade()}},{key:"_shade",value:function(){var e=this;$(".b-shade").addClass("active").on("click",function(){return e.close()})}},{key:"_unshade",value:function(){var e=this;$(".b-shade").removeClass("active").off("click",function(){return e.close()})}},{key:"_onKeyPress",value:function(e){27===e.keyCode&&this.close()}}]),t}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){n.d(t,"default",function(){return l});var r=n(32),i=n.n(r),o=n(43),a=n(88),s=n(10),c=n(24),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var l=function(){function t(){var e=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.isAutocomplete=!1,this.debouncedSearch=Object(o.a)(250,function(t){return e._search(t)})}return u(t,[{key:"cancel",value:function(){this.phrase=""}},{key:"search",value:function(e){this.phrase=e}},{key:"_search",value:function(){var t,n=(t=regeneratorRuntime.mark(function t(n){var r,i;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.fetch(this._searchUrl(n));case 2:if(r=t.sent,i=r.data,200===r.status){t.next=9;break}return s.a.error(e.t("frontend.lib.paginated_catalog.please_try_again_later")),this._hideAjax(),t.abrupt("return");case 9:n===this.phrase&&(this._changeUrl(n),this._processResponse(i)),this._hideAjax();case 11:case"end":return t.stop()}},t,this)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(i,o){try{var a=e[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});t(s)}("next")})});return function(e){return n.apply(this,arguments)}}()},{key:"_processResponse",value:function(e){this.$content.html(this._responseToHtml(e)).process(e.JS_EXPORTS)}},{key:"_responseToHtml",value:function(e){return e.content?e.content+(e.postloader||""):Object.isEmpty(this.phrase)?"":c.default["search/nothing_found"]({isAutocomplete:this.isAutocomplete})}},{key:"_searchUrl",value:function(e){var t=i()(window.location.href.replace(/\/page\/\d+/,"")).removeQuery("search");return e?t.addQuery({search:e}):t}},{key:"_changeUrl",value:function(e){var t=this._searchUrl(e);window.history.replaceState({turbolinks:!0,url:t},"",t)}},{key:"_showAjax",value:function(){this.$content.addClass("b-ajax")}},{key:"_url",value:function(e,t){var n=i()(e).removeQuery("search");return t?n.addQuery({search:t}):n}},{key:"_hideAjax",value:function(){this.$content.removeClass("b-ajax")}},{key:"$content",get:function(){return $(".b-search-results")}},{key:"phrase",get:function(){return this._phrase},set:function(e){this._phrase=e,void 0!==this.phrase&&(this._showAjax(),Object.isEmpty(this.phrase)?this._search(this.phrase):this.debouncedSearch(this.phrase))}}]),t}()}.call(t,n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){n.d(t,"default",function(){return d});var r=n(32),i=n.n(r),o=n(43),a=n(88),s=n(10),c=n(3),u=n(24),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var d=function(t){function n(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,c["default"]),l(n,[{key:"initialize",value:function(){var e=this;this.$input=this.$(".field input"),this.$clear=this.$(".field .clear"),this.isActive=!1,this.debouncedSearch=Object(o.a)(250,function(t){return e._search(t)}),this.phrase=this.inputSearchPhrase,this.$input.on("change blur paste",function(){return e._onChange()}),this.$input.on("keyup",function(t){return e._onKeyup(t)}),this.$clear.on("click",function(){return e._clearPhrase(!0)})}},{key:"_onKeyup",value:function(e){27!==e.keyCode?this.phrase=this.inputSearchPhrase:this._cancel()}},{key:"_onChange",value:function(){this.phrase=this.inputSearchPhrase}},{key:"_clearPhrase",value:function(e){this.$input.val("").trigger("change"),e&&this.$input.focus()}},{key:"_cancel",value:function(){Object.isEmpty(this.phrase)?this._deactivate():this._clearPhrase()}},{key:"_activate",value:function(){this._showAjax(),this.isActive=!0}},{key:"_deactivate",value:function(){this.$input.blur(),this.isActive=!1}},{key:"_search",value:function(){var t,n=(t=regeneratorRuntime.mark(function t(n){var r,i,o;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.a.fetch(this._searchUrl(n));case 2:if(r=t.sent,i=r.data,o=r.status,this._hideAjax(),200===o){t.next=9;break}return s.a.error(e.t("frontend.lib.paginated_catalog.please_try_again_later")),t.abrupt("return");case 9:n===this.inputSearchPhrase&&(this._changeUrl(this._displayUrl(n)),this._processResponse(i));case 10:case"end":return t.stop()}},t,this)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(i,o){try{var a=e[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});t(s)}("next")})});return function(e){return n.apply(this,arguments)}}()},{key:"_changeUrl",value:function(e){window.history.replaceState({turbolinks:!0,url:e},"",e)}},{key:"_processResponse",value:function(e){var t=void 0;t=e.content?e.content+(e.postloader||""):Object.isEmpty(this.phrase)?"":u.default["search/nothing_found"]({isAutocomplete:!1}),this.$collection.html(t).process(e.JS_EXPORTS)}},{key:"_searchUrl",value:function(e){return this._url(e,"search")}},{key:"_displayUrl",value:function(e){return this._url(e,"display")||this._url(e,"search")}},{key:"_url",value:function(e,t){var n=this.$root.data(t+"_url");if(!n)return null;var r=i()(n).removeQuery("phrase");return e?r.addQuery({phrase:e}):r}},{key:"_showAjax",value:function(){this.$collection.addClass("b-ajax")}},{key:"_hideAjax",value:function(){this.$collection.removeClass("b-ajax")}},{key:"$collection",get:function(){return this.$(".search-results")}},{key:"inputSearchPhrase",get:function(){return this.$input.val().trim()}},{key:"phrase",get:function(){return this._phrase},set:function(e){var t=e.trim(),n=this._phrase;this._phrase!==t&&(this._phrase=t,void 0!==n&&(this._activate(),this.debouncedSearch(this._phrase)),this.$input.toggleClass("has-value",!Object.isEmpty(this._phrase)))}}]),n}()}.call(t,n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return p});var r=n(43),i=n(8),o=n(3),a=n(135),s=n(136),c=n(134),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var d=/\/\* AUTO=page_border \*\/ .*[\r\n]?/,f=/\/\* AUTO=sticky_menu \*\/ .*[\r\n]?/,p=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=l(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.cssCache={},l(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o["default"]),u(t,[{key:"initialize",value:function(){var e=this;this.$form=this.$(".edit_style"),this.$preview=this.$(".preview"),this._loading(),this._toggleExpand(),this._debouncedPreview=Object(r.a)(500,function(){return e.preview()}),this._debouncedSync=Object(r.a)(500,function(){return e.sync()}),this.$form.on("ajax:before",function(){return e._loading()}),this.$form.on("ajax:complete",function(){return e._loaded()}),this.$root.on("component:update",function(t,n,r){return e._componentUpdated(n,r)}),this.$(".style_css .editor-expand").on("click",function(){return e._toggleExpand(!0)}),this.$(".style_css .editor-collapse").on("click",function(){return e._toggleExpand(!1)}),n.e(5).then(function(t){var r=n(540);n(550),n(551),n(552),n(542),n(543),n(553),n(545),n(554),n(555),e.md5=n(556),e.editor=e._initEditor(r),e.editor.on("change",e._debouncedSync),e.components=[new s.default(e.$(".page_background_color")),new a.default(e.$(".page_border"),d),new a.default(e.$(".sticky_menu"),f),new c.default(e.$(".body_background"))],e._syncComponents()}.bind(null,n)).catch(n.oe)}},{key:"preview",value:function(){var e=this.editor.getValue().trim(),t=this.md5(e);this.cssCache[t]?this._replaceCustomCss(this.cssCache[t]):(this.$preview.show(),this._fetchPreview(e,t))}},{key:"sync",value:function(){this.$("#style_css").val(this.editor.getValue()),this.preview(),this._syncComponents()}},{key:"_loading",value:function(){this.$form.find(".editor-container").addClass("b-ajax")}},{key:"_loaded",value:function(){this.$form.find(".editor-container").removeClass("b-ajax")}},{key:"_initEditor",value:function(e){return this._loaded(),e.fromTextArea(this.$("#style_css")[0],{mode:"css",theme:"solarized light",lineNumbers:!0,styleActiveLine:!0,matchBrackets:!0,lineWrapping:!0,extraKeys:{F11:this._switchFullScreen,"Ctrl-F11":this._switchFullScreen,"Cmd-F11":this._switchFullScreen,Esc:function(e){e.getOption("fullScreen")&&e.setOption("fullScreen",!1)}}})}},{key:"_syncComponents",value:function(){var e=this.editor.getValue();this.components.forEach(function(t){return t.update(e),!0})}},{key:"_componentUpdated",value:function(e,t){var n=this.editor.getValue(),r=t?t+"\n":"";n.match(e)?this.editor.setValue(n.replace(e,r).trim(),1):t&&this.editor.setValue((r+n).trim(),1),this._debouncedPreview()}},{key:"_fetchPreview",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(t,n){var r,o;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.default.post(this.$preview.data("url"),{style:{css:t}}).catch(function(){return{data:null}});case 2:r=e.sent,o=r.data,this.$preview.hide(),o&&(this.cssCache[n]=o.compiled_css,this._replaceCustomCss(o.compiled_css));case 6:case"end":return e.stop()}},e,this)}),function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}("next")})});return function(e,n){return t.apply(this,arguments)}}()},{key:"_replaceCustomCss",value:function(e){var t=this.$root.data("custom_css_id");$("#"+t).html(e)}},{key:"_switchFullScreen",value:function(e){var t=e.getOption("fullScreen");e.setOption("fullScreen",!t),$(".l-top_menu-v2").toggleClass("is-fullscreen-mode",!t)}},{key:"_toggleExpand",value:function(e){var t="1"===$.cookie("expanded-styles");void 0!==e&&(t=e,$.cookie("expanded-styles",t?"1":"0",{expires:730,path:"/"})),this.$root.toggleClass("expanded",t),this.$(".style_css .editor-expand").toggleClass("active",!t),this.$(".style_css .editor-collapse").toggleClass("active",t)}}]),t}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(87);pageLoad("topics_index","topics_show","topics_new","topics_edit","topics_create","topics_update",function(){$(".b-animes-menu").exists()&&new r.default(".b-animes-menu")}),pageLoad("topics_index",function(){var e=$("form.edit_user_preferences");e.on("change","input",function(){return e.submit()}).on("ajax:before",function(){$(".ajax-loading",e).show(),$(".reload",e).hide()}).on("ajax:complete",function(){$(".ajax-loading",e).hide(),$(".reload",e).show()})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var t=n(2),r=n.n(t),i=n(15),o=n.n(i),a=n(84),s=n(31),c=n(8),u=n(89),l=n(86),d=n(10);function f(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}("next")})}}var h=[],m=null;function _(){clearInterval(m),m=null;var e=$(".b-collection_search input").val().toLowerCase();h.forEach(function(t){for(var n=!1,r=0;r<t.entries.length;){var i=t.entries[r];-1!==i.title.indexOf(e)||-1!==i.text.indexOf(e)?(n=!0,""!==i.display&&(i.display="",i.node.style.display="")):"none"!==i.display&&(i.display="none",i.node.style.display="none"),r+=1}t.toggable&&(t.$container.toggle(n),t.$nothingFound.toggle(!n))}),$.force_appear()}function v(){h=$(".list-lines, .list-posters").toArray().map(function(e){var t=$(e);return{$container:t,$nothingFound:t.next(".nothing-found"),entries:t.find(".user_rate").toArray().map(function(e){var t=$(e);return{node:e,target_id:t.data("target_id"),title:String(t.data("title")).toLowerCase(),text:String(t.data("text")||"").toLowerCase(),display:e.style.display}}),toggable:!t.next(".b-postloader").length}})}function g(t){var n=this;$(".b-postloader",t).on("postloader:before",y),$(".l-content").on("postloader:success",b),$("tr.editable",t).on("click",function(e){var t=$(e.currentTarget).next();t.is(".edit-form")&&(e.stopImmediatePropagation(),t.find(".cancel").click())}),$("tr.editable",t).on("ajax:success",function(t,i){var o,a=t.currentTarget,s=$("tr.edit-form"),c=$(a),u=$("<tr class='edit-form'>\n      <td colspan='"+$(a).children("td").length+"'>"+i+"</td>\n    </tr>").insertAfter(a),l=u.find("form");s.exists()?s.remove():l.animatedExpand(),$(".cancel",u).on("click",function(){l.hide(),u.remove()}),l.on("ajax:before",function(){return l.addClass("b-ajax")}),l.on("ajax:success",function(t,n){if(d.a.notice(e.t("frontend.pages.p_user_rates.changes_saved")),$(".cancel",u).click(),$(".current-value[data-field=score]",c).html(String(n.score||"0").replace(/^0$/,"\u2013")),$(".current-value[data-field=chapters]",c).html(n.chapters),$(".current-value[data-field=volumes]",c).html(n.volumes),$(".current-value[data-field=episodes]",c).html(n.episodes),$(".rate-text",c).html(n.text_html?"<div>"+n.text_html+"</div>":""),n.rewatches>0){var r=n.rewatches,i="Anime"===n.target_type?"rewatch":"reread",o=p(r,e.t("frontend.pages.p_user_rates."+i+".one"),e.t("frontend.pages.p_user_rates."+i+".few"),e.t("frontend.pages.p_user_rates."+i+".many"));$(".rewatches",c).html(r+" "+o)}else $(".rewatches",c).html("");return w(n)}),$(".remove",l).on("ajax:success",(o=f(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),$(".cancel",u).click(),e.next=4,r()(250);case 4:c.remove();case 5:case"end":return e.stop()}},e,n)})),function(e){return o.apply(this,arguments)}))}),$("tr.unprocessed",t).removeClass("unprocessed").find("a.tooltipped").tooltip(Object.add(a.b,{offset:[-95,10],position:"bottom right",opacity:1})),$(".list-lines .hoverable").off().off().hover(function(t){var n=t.currentTarget;if(!Object(s.isMobile)()){var r=$(".current-value",n),i=$(".new-value",n);if(!i.length){var o=parseInt(r.text(),10);o||0===o||(o=0);var a="score"!==r.data("field")?'<span class="new-value"><input type="text" class="input"/><span class="item-add"></span></span>':'<span class="new-value"><input type="text" class="input"/></span>';(function(t){var n=this;$("input",t).off().on("blur",function(t){var n=t.currentTarget,r=n,i=$(r);if(i.parent().parent().trigger("mouseleave"),r.value<0&&(r.value=0),(parseInt(r.value,10)||0)!==(parseInt(i.data("counter"),10)||0)){var o,a,s,u=i.parent().parent().find(".current-value"),l=u.html();i.data("counter",r.value),u.html("0"===i.data("counter")?"&ndash;":i.data("counter")),c.default.patch(i.data("action"),{user_rate:(o={},a=i.data("field"),s=r.value,a in o?Object.defineProperty(o,a,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[a]=s,o)}).catch(function(){u.html(l),d.a.error(e.t("frontend.pages.p_user_rates.error_occurred"))})}}).on("mousewheel",function(e){var t=e.currentTarget,n=$(t);n.is(":focus")&&(e.preventDefault(),e.originalEvent.wheelDelta&&e.originalEvent.wheelDelta>0?t.value=Math.min(parseInt(t.value,10)+1||0,parseInt(n.data("max"),10)):e.originalEvent.wheelDelta&&(t.value=Math.max(parseInt(t.value,10)-1||0,parseInt(n.data("min"),10))))}).on("keydown",function(e){var t=e.currentTarget,n=e.keyCode,r=t,i=$(r);38===n&&(r.value=Math.min(parseInt(r.value,10)+1||0,parseInt(i.data("max"),10))),40===n&&(r.value=Math.max(parseInt(r.value,10)-1||0,parseInt(i.data("min"),10))),27===n&&(r.value=i.data("counter"),i.blur())}).on("keypress",function(e){13===e.keyCode&&($(e.currentTarget).blur(),e.stopPropagation())}),$(".item-add",t).on("click",(r=f(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=$(t.currentTarget).prev(),t.stopPropagation(),t.preventDefault(),r.val(parseInt(r.val(),10)+1).blur(),r.closest("td").trigger("mouseover");case 5:case"end":return e.stop()}},e,n)})),function(e){return r.apply(this,arguments)}));var r})(i=$(a).children("input").val(o).data({counter:o,max:r.data("max")||999,min:r.data("min")}).data({field:r.data("field"),action:r.closest("tr").data("rate_url")}).parent().insertAfter(r))}i.show(),r.hide(),$(".misc-value",n).hide()}},function(e){var t=e.currentTarget;Object(s.isMobile)()||$(".new-value input",t).is(":focus")||($(".new-value",t).hide(),$(".current-value",t).show(),$(".misc-value",t).show())}).on("click",function(e){Object(s.isMobile)()||e.target&&"item-add"===e.target.className||($(e.currentTarget).trigger("mouseenter"),$("input",e.currentTarget).focus().select(),e.stopPropagation(),e.preventDefault())})}function y(e,t){var n=t.find("header:first"),r=$("header."+n.attr("class"));if(r.exists()){var i=n.next().children();i.detach().process().appendTo(r.next()),g(i),n.next().remove(),n.remove()}g(t)}function b(){v(),Object.isEmpty($(".b-collection_search input").val())||_(),$.force_appear()}function w(e){h.forEach(function(t){var n=t.entries.find(function(t){return t.target_id===e.target_id});n&&(n.text=e.text)})}pageLoad("user_rates_index",function(){g($(".l-content")),v(),$("#scores, #types, #ratings").empty().bar({no_data:function(t){var n=e.t("frontend.pages.p_user_rates.insufficient_data");return t.html("<p class='b-nothing_here'>"+n+"</p>")}}),$(".b-collection_search input").on("focus",function(){h.length||v()}),$(".b-collection_search input").on("focus",function(){return $(".collapsed").each(function(e,t){"block"===t.style.display&&$(t).trigger("click")})}),$(".b-collection_search input").on("keyup",function(e){var t=e.keyCode;91!==t&&18!==t&&16!==t&&17!==t&&(m&&(clearInterval(m),m=null),m=setInterval(_,350))}),$(".order-control").on("click",function(e){var t=e.currentTarget,n=$(t).data("order");$(".orders.anime-params li.order-by-"+n).trigger("click")}),$(".list-groups").on("ajax:before",".edit-user_rate",function(e){var t=e.currentTarget;$(t).closest(".user_rate").addClass("b-ajax")}),$(".list-groups").on("ajax:success",".edit-user_rate",function(e,t){var n=e.currentTarget,r=$(n).closest(".user_rate");r.removeClass("b-ajax");var i=$(t).process(),o=new u.default(i);$(".remove",i).on("ajax:success",function(){return r.remove()}),i.on("ajax:success",function(e,t){r.children(".text").html(t.text_html||"").toggleClass("hidden",Object.isEmpty(t.text_html)),w(t),o.close()})});var t=document.location.pathname.replace(/(\/list\/(?:anime|manga))(\/.+)?/,"$1");new l.default(t,document.location.href,function(e){o.a.visit(e,!0),$(".l-page.menu-expanded").exists()&&$(document).one("page:change",function(){return $(".l-page").addClass("menu-expanded")})})})}.call(t,n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(2),o=n.n(i),a=n(15),s=n.n(a),c=n(43),u=n(8),l=n(10),d=n(81),f=(r=p(regeneratorRuntime.mark(function e(t){var n,r,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.data("watch-delay"),r=t.data("watch-url"),n){e.next=4;break}return e.abrupt("return");case 4:return i=document.location.href,e.next=7,o()(n);case 7:i===document.location.href&&u.default.post(r);case 8:case"end":return e.stop()}},e,this)})),function(e){return r.apply(this,arguments)});function p(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}("next")})}}function h(){var e=this;v();var t=$(".b-video_player"),n=t.find("video");n.length&&new d.default(n);var r=t.data("episode");$(".c-anime_video_episodes .b-video_variant[data-episode='"+r+"']").addClass("active").siblings().removeClass("active"),$(".b-video_variant.special[data-video_id='"+t.data("video_id")+"']").addClass("active").siblings().removeClass("active");var i,a=t.data("video_ids");a&&a.length&&a.forEach(function(e){return $(".b-video_variant:not(.special)[data-video_id='"+e+"']").addClass("active").siblings().removeClass("active")}),f(t),$(".cc-player_controls .show-options").on("click",_),$(".cc-player_controls").on("ajax:success",".create-user_rate",function(){var e=this;return o()().then(function(){var t=$(e);return l.a.notice("\u0410\u043d\u0438\u043c\u0435 \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e \u0432 \u0441\u043f\u0438\u0441\u043e\u043a"),t.removeClass("create-user_rate").addClass("increment-user_rate").attr({href:t.data("increment_url")}),t.find(".label").text(t.data("increment_text"))})}),$(".cc-player_controls").on("ajax:before",".increment-user_rate",function(){return $(this).addClass("b-ajax")}),$(".cc-player_controls").on("ajax:complete",".increment-user_rate",function(){var e=this;return $(".increment-user_rate").hasClass("watched")||l.a.notice("\u042d\u043f\u0438\u0437\u043e\u0434 \u043e\u0442\u043c\u0435\u0447\u0435\u043d \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043d\u044b\u043c"),o()(500).then(function(){return $(e).removeClass("b-ajax"),s.a.visit($(e).data("next_url"))})}),$(".cc-player_controls .episode-num input").on("change",function(){s.a.visit($(this).data("href").replace("EPISODE_NUMBER",this.value))}).on("keydown",function(e){10!==e.keyCode&&13!==e.keyCode||$(this).trigger("change")}),$(".cc-player_controls .report").on("click",function(){$(this).hasClass("selected")&&m(),$(".cc-player_controls").hide(),$(".cc-anime_video_report-new").show()}),$(".cc-anime_video_report-new .cancel").on("click",m),$(".cc-anime_video_report-new form").on("ajax:success",function(){l.a.notice("\u0416\u0430\u043b\u043e\u0431\u0430 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u0430 \u0438 \u0432\u0441\u043a\u043e\u0440\u0435 \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u0430 \u043c\u043e\u0434\u0435\u0440\u0430\u0442\u043e\u0440\u043e\u043c. \u0414\u043e\u043c\u043e \u0430\u0440\u0438\u0433\u0430\u0442\u043e"),m()}),$(".about-ads .b-close",t).on("click",(i=p(regeneratorRuntime.mark(function n(r){var i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=$(".about-ads",t),$.cookie($(r.currentTarget).data("cookie-name"),"1",{expires:60}),i.addClass("removing"),e.next=5,o()(1e3);case 5:i.remove();case 6:case"end":return e.stop()}},n,e)})),function(e){return i.apply(this,arguments)}))}function m(){$(".cc-player_controls").show(),$(".cc-anime_video_report-new").hide()}function _(){$(".cc-player_controls .show-options").toggleClass("selected"),$(".cc-navigation").toggle(),$(".cc-optional_controls").toggle()}function v(){var e=$("iframe, object, embed, .player-placeholder",".player-area"),t=parseInt(.95*$(window).height()),n=parseInt(9*e.width()/16);n>t&&(e.height(t),e.width(t/9*16)),e.height(n)}function g(e){var t=$(e.target).data("kind");return $(".video-variant-switcher").removeClass("active"),$(e.target).addClass("active"),$(".video-variant-group").removeClass("active"),$(".video-variant-group[data-kind='"+t+"']").addClass("active")}pageLoad("anime_videos_index",function(){h();var e=Object(c.a)(250,v);e(),$(window).on("resize",e),$(window).one("page:before-unload",function(){return $(window).off("resize",e)}),$(".video-variant-switcher").on("click",g);var t=$(".b-video_player").data("kind"),n=$(".video-variant-switcher[data-kind='"+t+"']");t&&n.length?n.click():$(".video-variant-switcher").first().click(),$(".l-page").on("ajax:before",".b-video_variant a",function(){return $(".player-container").addClass("b-ajax")}),$(".l-page").on("ajax:success",".b-video_variant a",function(e,t){$(".player-container").removeClass("b-ajax").html(t),h(),window.history.pushState({turbolinks:!0,url:e.target.href},"",e.target.href)})})},,,,,,,,,,,,,,,,,,,,,,function(e,t,n){(function(t){var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(){"use strict";var r,i="Sugar",o="Object Number String Array Date RegExp Function",a=1,s=2,c=!(!Object.defineProperty||!Object.defineProperties),u="undefined"!==typeof t&&t.Object===Object?t:this,l="undefined"!==typeof e&&e.exports,d=!1,f={},p={},h=c?Object.defineProperty:function(e,t,n){e[t]=n.value},m=$("Chainable");function _(e){var t="Object"===e,n=$(e);function i(e,t,r){P(n,e,function(e,i,o){var c=g(e,i,o);return function(e,t,n,r,i){T(t,function(t,o){var c,u=t;r&&(u=y(t)),i&&(u.flags=i),n&s&&!t.instance&&(c=function(e,t){return t?y(e,!0):function(e){switch(e.length){case 0:case 1:return function(){return e(this)};case 2:return function(t){return e(this,t)};case 3:return function(t,n){return e(this,t,n)};case 4:return function(t,n,r){return e(this,t,n,r)};case 5:return function(t,n,r,i){return e(this,t,n,r,i)}}}(e)}(t,r),P(u,"instance",c)),n&a&&P(u,"static",!0),w(e,o,u),e.active&&e.extend(o)})}(n,c.methods,t,r,c.last),n})}return i("defineStatic",a),i("defineInstance",s),i("defineInstanceAndStatic",s|a),i("defineStaticWithArguments",a,!0),i("defineInstanceWithArguments",s,!0),P(n,"defineStaticPolyfill",function(t,r,i){var o=g(t,r,i);return b(u[e],o.methods,!0,o.last),n}),P(n,"defineInstancePolyfill",function(t,r,i){var o=g(t,r,i);return b(u[e].prototype,o.methods,!0,o.last),T(o.methods,function(e,t){k(n,t,e)}),n}),P(n,"alias",function(e,t){var r="string"===typeof t?n[t]:t;return w(n,e,r),n}),P(n,"extend",function(r){var i,o,a,s=u[e],c=s.prototype,l={},f={};function p(e,t){var n=r[e];if(n)for(var i,o=0;i=n[o];o++)if(i===t)return!0;return!1}function h(e,n,i){return!function(e,n){return t&&n===c&&(!d||"get"===e||"set"===e)}(e,i)&&!function(e,t,n){if(!t[e]||!n)return!1;for(var i=0;i<n.length;i++)if(!1===r[n[i]])return!0}(e,i,n.flags)&&!function(e){return p("except",e)}(e)}if(i=(r=r||{}).methods,!p("except",s)&&(a=s,!r[o="namespaces"]||p(o,a)))return t&&"boolean"===typeof r.objectPrototype&&(d=r.objectPrototype),T(i||n,function(e,t){i&&(e=n[t=e]),I(e,"instance")&&h(t,e,c)&&(f[t]=e.instance),I(e,"static")&&h(t,e,s)&&(l[t]=e)}),b(s,l),b(c,f),i||P(n,"active",!0),n}),f[e]=n,p["[object "+e+"]"]=n,j(e),function(e){T(r.Object&&r.Object.prototype,function(t,n){"function"===typeof t&&x(e,n,t)})}(n),r[e]=n}function v(){return i}function g(e,t,n){var r,i;return"string"===typeof e?((r={})[e]=t,i=n):(r=e,i=t),{last:i,methods:r}}function y(e,t){var n=e.length-1-(t?1:0);return function(){var r,i=[],o=[];t&&i.push(this),r=Math.max(arguments.length,n);for(var a=0;a<r;a++)a<n?i.push(arguments[a]):o.push(arguments[a]);return i.push(o),e.apply(this,i)}}function b(e,t,n,r){T(t,function(t,i){n&&!r&&e[i]||P(e,i,t)})}function w(e,t,n){e[t]=n,n.instance&&k(e,t,n.instance)}function $(e){var t=function(e,n){if(!(this instanceof t))return new t(e,n);this.constructor!==t&&(e=this.constructor.apply(e,arguments)),this.raw=e};return P(t,"toString",function(){return i+e}),P(t.prototype,"valueOf",function(){return this.raw}),t}function k(e,t,n){var i,o,a,s=function(e){return function(){return new m(e.apply(this.raw,arguments))}}(n);o=(i=(a=m.prototype)[t])&&i!==Object.prototype[t],i&&i.disambiguate||(a[t]=o?function(e){var t=function(){var t,n=this.raw;return null!=n&&(t=p[E(n)]),t||(t=r.Object),new t(n)[e].apply(this,arguments)};return t.disambiguate=!0,t}(t):s),e.prototype[t]=s,e===r.Object&&function(e,t){T(f,function(n){x(n,e,t)})}(t,s)}function x(e,t,n){var r=e.prototype;I(r,t)||(r[t]=n)}function j(e,t){var n=f[e],r=u[e].prototype;!t&&C&&(t=C(r)),T(t,function(e){if(!function(e){return"constructor"===e||"valueOf"===e||"__proto__"===e}(e)){try{var t=r[e];if("function"!==typeof t)return}catch(e){return}k(n,e,t)}})}var C=Object.getOwnPropertyNames,O=Object.prototype.toString,S=Object.prototype.hasOwnProperty,T=function(e,t){for(var n in e)if(I(e,n)&&!1===t.call(e,e[n],n,e))break};function P(e,t,n,r){h(e,t,{value:n,enumerable:!!r,configurable:!0,writable:!0})}function E(e){return O.call(e)}function I(e,t){return!!e&&S.call(e,t)}function A(e,t){if(I(e,t))return e[t]}!function(){if(!(r=u[i])){if(r=function(e){return T(r,function(t,n){I(f,n)&&t.extend(e)}),r},l)e.exports=r;else try{u[i]=r}catch(e){}T(o.split(" "),function(e){_(e)}),P(r,"extend",r),P(r,"toString",v),P(r,"createNamespace",_),P(r,"util",{hasOwn:I,getOwn:A,setProperty:P,classToString:E,defineProperty:h,forEachProperty:T,mapNativeToChainable:j})}}();var M,R,L,D,N,z,q,H,U,F,W,B="Boolean Number String Date RegExp Function Array Error Set Map",V=!("0"in Object("a")),G="_sugar_",Q=/^(.*?)\[([-\d]*)\.\.([-\d]*)\](.*)$/,K=/([{}])\1|\{([^}]*)\}|(%)%|(%(\w*))/g,Y=48,J=65296,X=".",Z="\uff0e",ee=",",te="{",ne="}",re=r.Object,ie=r.Array,oe=(r.Date,r.String),ae=r.Number,se=r.Function,I=(r.RegExp,r.util.hasOwn),A=r.util.getOwn,P=r.util.setProperty,E=r.util.classToString,j=(h=r.util.defineProperty,T=r.util.forEachProperty,r.util.mapNativeToChainable);function ce(e,t,n){return n||(n=E(e)),n==="[object "+t+"]"}function ue(e){return function(t,n,r){t[e](n,r)}}var le=ue("alias"),de=ue("defineStatic"),fe=ue("defineInstance"),pe=ue("defineStaticPolyfill"),he=ue("defineInstancePolyfill"),me=ue("defineInstanceAndStatic"),_e=ue("defineInstanceWithArguments");function ve(e,t,n,r){me(e,function(e,t){var n={};D(e)&&(e=We(e));return Be(e,function(e,r){t(n,e,r)}),n}(t,n),r)}function ge(e){var t=function(t){var n=arguments;return e(t,n[1],n[2],n.length-1)};return t.instance=function(t){var n=arguments;return e(this,t,n[1],n.length)},t}function ye(e,t,n){P(e,t,n)}function be(e,t){var n=function(e){return t={},n=e,T(n,function(e,n){t[n]=e}),t;var t,n}(t);function r(e){return n[e]}return ye(e,"getOption",r),ye(e,"setOption",function(e,r){var i;1===arguments.length?i=e:(i={})[e]=r,T(i,function(e,r){null===e&&(e=t[r]),n[r]=e})}),r}function we(e){if(!q(e))throw new TypeError("Function is not callable")}function $e(e){if(Ie(e))throw new TypeError("Property cannot be written")}function ke(e){if((e=+e||0)<0||!L(e)||!isFinite(e))throw new RangeError("Invalid number");return Qe(e)}function xe(e){return void 0!==e}function je(e){return void 0===e}function Ce(e){var t=G+e;return function(e,n){return arguments.length>1?(P(e,t,n),e):e[t]}}function Oe(e){if(!Ie(e)){var t=E(e);if(z(e,t))return a=e,a=RegExp(a),function(e){return a.test(e)};if(N(e,t))return o=e.getTime(),function(e){return!(!e||!e.getTime)&&e.getTime()===o};if(q(e,t))return i=e,function(e,t,n){return e===i||i.call(n,e,t,n)};if(Ae(e,t))return n=e,r={},function(e,t,i){var o=!0;return!!Ee(e)&&(T(n,function(n,a){return r[a]=A(r,a)||Oe(n),!1===r[a].call(i,e[a],t,i)&&(o=!1),o}),o)}}var n,r,i,o,a;return function(e){return function(t){return Le(t,e)}}(e)}function Se(e){return Object.keys(e)}function Te(e,t,n){return Pe(e,t,n,!1)}function Pe(e,t,n,r,i,o,a){var s,c,u,l,d,f,p,h,m;if(s=e||void 0,null!=t){if(Ee(t))c=[t];else{if(-1!==(t=String(t)).indexOf(".."))return function(e,t,n,r){var i,o,a,s,c,u,l;if(!(i=t.match(Q)))return;l=xe(r),u=(s=i[1])?Pe(e,s,n,!1,!!l,!0):e;if(function(e){if(!H(e))throw new TypeError("Array required")}(u),c=i[4],o=i[2]?+i[2]:0,a=-1===(a=i[3]?+i[3]:u.length)?u.length:a+1,l)for(var d=o;d<a;d++)Pe(u,d+c,n,!1,!0,!1,r);else if(u=u.slice(o,a),c)return c.charAt(0)===X&&(c=c.slice(1)),u.map(function(e){return Pe(e,c)});return u}(e,t,n,a);c=t.split("[")}d=xe(a);for(var _=0,v=c.length;_<v;_++){u=c[_],D(u)&&(u=u.split(X));for(var g=0,y=u.length;g<y;g++)if(t=u[g],f=_===v-1&&g===y-1,p=-1!==(l=t.indexOf("]")),h=v>1&&g===y-1,d&&0===l?t=s.length:p&&(t=t.slice(0,-1)),p&&t<0&&(t=+t+s.length),_||t||1===v){if(m=n?t in s:I(s,t),i&&(!f||o)&&!m){s=s[t]=h||o&&f?[]:{};continue}if(r){if(f||!m)return m}else d&&f&&($e(s),s[t]=a);s=m?s[t]:void 0}}return s}}function Ee(e,t){return!!e&&"object"===(t||("undefined"===typeof e?"undefined":n(e)))}function Ie(e,t){return t=t||("undefined"===typeof e?"undefined":n(e)),null==e||"string"===t||"number"===t||"boolean"===t}function Ae(e,t){return Ee(e)&&ce(e,"Object",t)&&function(e){var t="constructor"in e;return!t&&!("toString"in e)||t&&!I(e,"constructor")&&I(e.constructor.prototype,"isPrototypeOf")}(e)&&function(e){var t=Object.prototype;for(var n in e){var r=e[n];if(!I(e,n)&&r!==t[n])return!1}return!0}(e)}function Me(e,t){for(var n=0;n<e;n++)t(n)}function Re(e){return Ie(e)&&(e=Object(e)),V&&D(e)&&function(e){var t,n=0;for(;t=e.charAt(n);)e[n++]=t}(e),e}function Le(e,t,r){var i,o;return e===t?0!==e||1/e===1/t:(i=E(e))===(o=E(t))&&(M(e,i)&&M(t,o)?function(e,t,r,i){var o,a,s="undefined"===typeof e?"undefined":n(e),c="undefined"===typeof t?"undefined":n(t);if(s!==c)return!1;if(Ee(e.valueOf())){if(e.length!==t.length)return!1;if(a=0,o=!0,Ne(e,!1,i,function(e,n,r,i){return r||e in t&&Le(n,t[e],i)||(o=!1),a++,o}),!o||a!==Se(t).length)return!1}return e.valueOf().toString()===t.valueOf().toString()}(e,t,0,r):U(e,i)&&U(t,o)?e.size===t.size&&Le(pt(e),pt(t),r):F(e,i)&&F(t,o)?e.size===t.size&&Le(ht(e),ht(t),r):!(!W(e,i)||!W(t,o))&&e.toString()===t.toString())}function De(e,t,r){var i,o,a,s="undefined"===typeof e?"undefined":n(e);return Ie(e,s)&&!Ke(e)?s+e:(i=E(e),M(e,i)?(Ee(e)?o=function(e,t,n){var r="";return Ne(e,!0,n,function(e,n,i,o){r+=i?"CYC":e+De(n,t,o)}),r}(e,t,r)+e.toString():1/e===-1/0?o="-0":e.valueOf&&(o=e.valueOf()),s+i+o):(-1===(a=function(e,t){for(var n=0,r=e.length;n<r;n++)if(n in e&&e[n]===t)return n;return-1}(t,e))&&(a=t.length,t.push(e)),a))}function Ne(e,t,n,r){function i(e,t){var i=!1;if(n.length>1)for(var o=n.length;o--;)n[o]===e&&(i=!0);n.push(e),r(t,e,i,n),n.pop()}n||(n=[]),t?function(){for(var t,n=Se(e).sort(),r=0;r<n.length;r++)t=n[r],i(e[t],n[r])}():T(e,i)}function ze(e){return e>>>0==e&&4294967295!=e}function qe(e,t,n,r){for(var i,o=function(e,t,n,r){var i,o=[];for(i in e)ze(i)&&(n||(r?i<=t:i>=t))&&o.push(+i);return o.sort(function(e,n){var r=e>t;return r!==n>t?r?-1:1:e-n}),o}(e,n,r),a=0,s=o.length;a<s;a++)i=o[a],t.call(e,e[i],i,e);return e}function He(e,t,n,r){var i,o=e.length;return H(t)?(i=new Array(t.length),Be(t,function(t,a){i[a]=Ue(e,t,o,n,r)}),i):Ue(e,t,o,n,r)}function Ue(e,t,n,r,i){return t=function(e,t,n){return e&&n&&(e%=t),e<0&&(e=t+e),e}(t,n,r),i?e.charAt(t):e[t]}function Fe(e,t,n,r){return t?t.apply?t.apply(n,r||[]):H(t)?t.map(function(t){return Fe(e,t,n,r)}):q(e[t])?e[t].call(e):Te(e,t):e}function We(e){return e.split(" ")}function Be(e,t){for(var n=0,r=e.length;n<r;n++){if(!(n in e))return qe(e,t,n);t(e[n],n)}}var Ve,Ge,Qe=Math.trunc||function(e){return 0!==e&&isFinite(e)?e<0?tt(e):nt(e):e};function Ke(e){return null!=e&&e!==e}function Ye(e,t){var n,r;return n=e.replace(Ve,function(e){var t=A(Ge,e);return t===X&&(r=!0),t}),r?parseFloat(n):parseInt(n,t||10)}var Je=Math.abs,Xe=Math.pow,Ze=Math.min,et=Math.max,tt=Math.ceil,nt=Math.floor,rt=Math.round,it=String.fromCharCode;function ot(e){return e.trim()}function at(e){return e.charAt(0).toUpperCase()+e.slice(1)}var st={};function ct(e,t){var n="";function r(e,r){(e||t.indexOf(r)>-1)&&(n+=r)}return t=t||"",r(e.global,"g"),r(e.ignoreCase,"i"),r(e.multiline,"m"),r(e.sticky,"y"),n}function ut(e){return D(e)||(e=String(e)),e.replace(/([\\\/\'*+?|()\[\]{}.^$-])/g,"\\$1")}var lt,dt,ft=1e3;function pt(e){var t=new Array(e.size),n=0;return e.forEach(function(e){t[n++]=e}),t}function ht(e){var t=new Array(e.size),n=0;return e.forEach(function(e,r){t[n++]=[r,e]}),t}function mt(e,t){gt("plural",e,t=t||e),D(e)&&_t(t,e)}function _t(e,t){gt("singular",e,t)}function vt(e,t){var n=RegExp(e+"$","i"),r=RegExp(t+"$","i");mt(n,t),mt(r,t),_t(r,e),_t(n,e)}function gt(e,t,n){st[e]||(st[e]=new lt),st[e].add(t,n)}function yt(e){if(null==e)throw new TypeError("String required.");return String(e)}function bt(e){if(z(e))throw new TypeError;return String(e)}!function(){var e,t={};function r(e){t["[object "+e+"]"]=!0}function i(e,t){return t&&ce(new t,"Object")?(n=String(t),function(e){return String(e.constructor)===n}):function(e){return function(t,n){return ce(t,e,n)}}(e);var n}function o(e){var t=e.toLowerCase();return function(r){var i="undefined"===typeof r?"undefined":n(r);return i===t||"object"===i&&ce(r,e)}}e=We(B),R=o(e[0]),L=o(e[1]),D=o(e[2]),N=i(e[3]),z=i(e[4]),q=i(e[5]),H=Array.isArray||i(e[6]),W=i(e[7]),U=i(e[8],"undefined"!==typeof Set&&Set),F=i(e[9],"undefined"!==typeof Map&&Map),r("Arguments"),r(e[0]),r(e[1]),r(e[2]),r(e[3]),r(e[4]),r(e[6]),Be(We("Int8 Uint8 Uint8Clamped Int16 Uint16 Int32 Uint32 Float32 Float64"),function(e){r(e+"Array")}),M=function(e,n){return function(e){return t[e]}(n=n||E(e))||Ae(e,n)}}(),function(){var e=Z,t=X,n=ee,r="";Ge={};for(var i,o=0;o<=9;o++)r+=i=it(o+J),Ge[i]=it(o+Y);Ge[n]="",Ge[e]=t,Ge[t]=t,Ve=RegExp("["+(r+e+n+t)+"]","g"),r}(),he(oe,{includes:function(e){arguments.length;var t=arguments[1],n=yt(this);return e=bt(e),-1!==n.indexOf(e,t)},startsWith:function(e){arguments.length;var t,n,r,i,o,a=arguments[1];return t=yt(this),e=bt(e),r=+a||0,i=t.length,n=Ze(et(r,0),i),!((o=e.length)+n>i)&&t.substr(n,o)===e},endsWith:function(e){arguments.length;var t,n,r,i,o,a=arguments[1];return t=yt(this),e=bt(e),r=i=t.length,xe(a)&&(r=+a||0),!((n=Ze(et(r,0),i)-(o=e.length))<0)&&t.substr(n,o)===e},repeat:function(e){return function(e,t){var n="";for(e=e.toString();t>0;)1&t&&(n+=e),(t>>=1)&&(e+=e);return n}(this,e=ke(e))}}),pe(ae,{isNaN:function(e){return Ke(e)}}),pe(ie,{from:function(e){arguments.length;var t,n,r=arguments[1],i=arguments[2];if(xe(r)&&we(r),e=function(e){if(null==e)throw new TypeError("Object required.");return Re(e)}(e),!ze(t=Qe(et(0,e.length||0))))throw new RangeError("Invalid array length");q(this)?(n=new this(t)).length=t:n=new Array(t);for(var o=0;o<t;o++)P(n,o,xe(r)?r.call(i,e[o],o):e[o],!0);return n}}),he(ie,{find:function(e){arguments.length;var t=arguments[1];we(e);for(var n=0,r=this.length;n<r;n++)if(e.call(t,this[n],n,this))return this[n]},findIndex:function(e){arguments.length;var t=arguments[1];we(e);for(var n=0,r=this.length;n<r;n++)if(e.call(t,this[n],n,this))return n;return-1}}),he(ie,{includes:function(e){arguments.length;var t,n,r,i=arguments[1];if(D(this))return this.includes(e,i);i=i?i.valueOf():0,t=this.length,i<0&&(i=et(0,i+t));for(var o=i;o<t;o++)if(n=e,r=this[o],Ke(n)?Ke(r):n===r&&(0!==n||1/n===1/r))return!0;return!1}});var wt=/[^\u0000-\u0040\u005B-\u0060\u007B-\u007F]+('s)?/g,$t=/(^|_)([^_]+)/g,kt=String.prototype.includes,xt=function(e,t,n){var r,i,o,a=K,s=(r=function(e){var t,n=[],r=0;for(a.lastIndex=0;t=a.exec(e);)u(n,e,r,t.index),c(n,t),r=a.lastIndex;return u(n,e,r,e.length),n},i={},o=0,function(e){return I(i,e)?i[e]:(o===ft&&(i={},o=0),o++,i[e]=r(e))});function c(r,i){var o,a,s,c,u,l=i[2],d=i[3],f=i[5];i[4]&&t?(a=f,o=t):l?(a=l,o=e):s=d&&t?d:i[1]||i[0],o&&(function(e,t,n){if(e&&!e(t,n))throw new TypeError("Invalid token "+(t||n)+" in format string")}(n,l,f),c=function(e,t){return o(e,a,t)}),r.push(c||(u=s,function(){return u}))}function u(e,t,n,r){if(r>n){var i=t.slice(n,r);l(i,te),l(i,ne),e.push(function(){return i})}}function l(e,t){if(-1!==e.indexOf(t))throw new TypeError("Unmatched "+t+" in format string")}return function(e,t,n){for(var r=s(e),i="",o=0;o<r.length;o++)i+=r[o](t,n);return i}}(Te);function jt(e,t,n){var r,i,o,a=[];if(q(t)?(n=t,o=/[\s\S]/g):t?D(t)?o=RegExp(ut(t),"gi"):z(t)&&(o=RegExp(t.source,ct(t,"g"))):o=/[\s\S]/g,r=function(e,t){var n,r,i=[];for(;null!=(n=t.exec(e));)t.lastIndex===r?t.lastIndex+=1:i.push(n[0]),r=t.lastIndex;return i}(e,o))for(var s,c=0,u=r.length;c<u;c++)if(i=r[c],a[c]=i,n){if(!1===(s=n.call(e,i,c,r)))break;xe(s)&&(a[c]=s)}return a}function Ct(e,t){var n,r,i=new Array(e.length);for(n=0,r=e.length;n<r;n++){var o=e.charCodeAt(n);i[n]=o,t&&t.call(e,o,n,e)}return i}function Ot(e){var t=st.acronyms&&st.acronyms.reg;return e.replace(/[-\s]+/g,"_").replace(t,function(e,t){return(t>0?"_":"")+e.toLowerCase()}).replace(/([A-Z\d]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").toLowerCase()}function St(e,t){return(e=Ot(e)).replace($t,function(e,n,r,i){var o,a,s=!1!==t||i>0;return a=r,(o=st.acronyms&&st.acronyms.find(a))&&s?o:s?Tt(r,!0):r})}function Tt(e,t,n){return t&&(e=e.toLowerCase()),n?e.replace(wt,at):at(e)}function Pt(e,t,n){var r,i=0;return D(t)?t=RegExp(ut(t),"g"):t&&!t.global&&(t=RegExp(t.source,ct(t,"g"))),n?(r=n,n=function(){var e=r[i++];return null!=e?e:""}):n="",e.replace(t,n)}fe(oe,{includes:ge(function(e,t,n){return z(t)?(n&&(e=e.slice(n)),t.test(e)):kt.call(e,t,n)})},["enhance","enhanceString"]),fe(oe,{at:function(e,t,n){return He(e,t,n,!0)},forEach:function(e,t,n){return jt(e,t,n)},chars:function(e,t,n){return jt(e,t,n)},codes:function(e,t){return Ct(e,t)},shift:function(e,t){var n="";return t=t||0,Ct(e,function(e){n+=it(e+t)}),n},isBlank:function(e){return 0===ot(e).length},isEmpty:function(e){return 0===e.length},remove:function(e,t){return e.replace(t,"")},removeAll:function(e,t){return Pt(e,t)},reverse:function(e){return function(e){return e.split("").reverse().join("")}(e)},compact:function(e){return ot(e).replace(/([\r\n\s\u3000])+/g,function(e,t){return"\u3000"===t?t:" "})},from:function(e,t){return e.slice(function(e,t,n){return D(t)&&-1===(t=e.indexOf(t))&&(t=n?e.length:0),t}(e,t,!0))},camelize:function(e,t){return St(e,t)},first:function(e,t){return je(t)&&(t=1),e.substr(0,t)},last:function(e,t){je(t)&&(t=1);var n=e.length-t<0?0:e.length-t;return e.substr(n)},capitalize:function(e,t,n){return Tt(e,t,n)},singularize:function(e){return dt("singular",String(e))},underscore:function(e){return Ot(e)}}),_e(oe,{replaceAll:function(e,t,n){return Pt(e,t,n)},format:function(e,t){var n=t[0]&&t[0].valueOf();return 1===t.length&&Ee(n)&&(t=n),xt(e,t)}}),(lt=function(){this.map={},this.rules=[]}).prototype={add:function(e,t){D(e)?this.map[e]=t:this.rules.unshift({rule:e,replacement:t})},inflect:function(e){var t,n,r;return r=(t=e.split(" "))[n=t.length-1],t[n]=this.find(r)||this.runRules(r),t.join(" ")},find:function(e){return A(this.map,e)},runRules:function(e){for(var t,n=0;t=this.rules[n];n++)if(t.rule.test(e)){e=e.replace(t.rule,t.replacement);break}return e}},dt=function(e,t){return st[e]&&st[e].inflect(t)||t},mt(/$/,"s"),mt(/s$/i,"s"),mt(/(ax|test)is$/i,"$1es"),mt(/(octop|fung|foc|radi|alumn|cact)(i|us)$/i,"$1i"),mt(/(census|alias|status|fetus|genius|virus)$/i,"$1es"),mt(/(bu)s$/i,"$1ses"),mt(/(buffal|tomat)o$/i,"$1oes"),mt(/([ti])um$/i,"$1a"),mt(/([ti])a$/i,"$1a"),mt(/sis$/i,"ses"),mt(/f+e?$/i,"ves"),mt(/(cuff|roof)$/i,"$1s"),mt(/([ht]ive)$/i,"$1s"),mt(/([^aeiouy]o)$/i,"$1es"),mt(/([^aeiouy]|qu)y$/i,"$1ies"),mt(/(x|ch|ss|sh)$/i,"$1es"),mt(/(tr|vert)(?:ix|ex)$/i,"$1ices"),mt(/([ml])ouse$/i,"$1ice"),mt(/([ml])ice$/i,"$1ice"),mt(/^(ox)$/i,"$1en"),mt(/^(oxen)$/i,"$1"),mt(/(quiz)$/i,"$1zes"),mt(/(phot|cant|hom|zer|pian|portic|pr|quart|kimon)o$/i,"$1os"),mt(/(craft)$/i,"$1"),mt(/([ft])[eo]{2}(th?)$/i,"$1ee$2"),_t(/s$/i,""),_t(/([pst][aiu]s)$/i,"$1"),_t(/([aeiouy])ss$/i,"$1ss"),_t(/(n)ews$/i,"$1ews"),_t(/([ti])a$/i,"$1um"),_t(/((a)naly|(b)a|(d)iagno|(p)arenthe|(p)rogno|(s)ynop|(t)he)ses$/i,"$1$2sis"),_t(/(^analy)ses$/i,"$1sis"),_t(/(i)(f|ves)$/i,"$1fe"),_t(/([aeolr]f?)(f|ves)$/i,"$1f"),_t(/([ht]ive)s$/i,"$1"),_t(/([^aeiouy]|qu)ies$/i,"$1y"),_t(/(s)eries$/i,"$1eries"),_t(/(m)ovies$/i,"$1ovie"),_t(/(x|ch|ss|sh)es$/i,"$1"),_t(/([ml])(ous|ic)e$/i,"$1ouse"),_t(/(bus)(es)?$/i,"$1"),_t(/(o)es$/i,"$1"),_t(/(shoe)s?$/i,"$1"),_t(/(cris|ax|test)[ie]s$/i,"$1is"),_t(/(octop|fung|foc|radi|alumn|cact)(i|us)$/i,"$1us"),_t(/(census|alias|status|fetus|genius|virus)(es)?$/i,"$1"),_t(/^(ox)(en)?/i,"$1"),_t(/(vert)(ex|ices)$/i,"$1ex"),_t(/tr(ix|ices)$/i,"trix"),_t(/(quiz)(zes)?$/i,"$1"),_t(/(database)s?$/i,"$1"),_t(/ee(th?)$/i,"oo$1"),vt("person","people"),vt("man","men"),vt("human","humans"),vt("child","children"),vt("sex","sexes"),vt("move","moves"),vt("save","saves"),vt("goose","geese"),vt("zombie","zombies"),Be(We("equipment information rice money species series fish deer sheep jeans"),function(e){mt(e)});var Et,It,At=57,Mt=65305,Rt=!("0"in[].concat(void 0).concat()),Lt={sortIgnore:null,sortNatural:!0,sortIgnoreCase:!0,sortOrder:function(e,t){for(var n=[],r=0,i=e.length;r<i;r++)r in e&&n.push(t(e[r],r));return n}("A\xc1\xc0\xc2\xc3\u0104BC\u0106\u010c\xc7D\u010e\xd0E\xc9\xc8\u011a\xca\xcb\u0118FG\u011eH\u0131I\xcd\xcc\u0130\xce\xcfJKL\u0141MN\u0143\u0147\xd1O\xd3\xd2\xd4PQR\u0158S\u015a\u0160\u015eT\u0164U\xda\xd9\u016e\xdb\xdcVWXY\xddZ\u0179\u017b\u017d\xde\xc6\u0152\xd8\xd5\xc5\xc4\xd6".split(""),function(e){return e+e.toLowerCase()}).join(""),sortCollate:function(e,t){var n,r,i,o,a,s,c=0,u=0,l=Dt("sortOrder"),d=Dt("sortIgnore"),f=Dt("sortNatural"),p=Dt("sortIgnoreCase"),h=Dt("sortEquivalents");e=Bt(e,d,p),t=Bt(t,d,p);do{i=Vt(e,c,h),o=Vt(t,c,h),n=Gt(i,l),r=Gt(o,l),-1===n||-1===r?(n=e.charCodeAt(c)||null,r=t.charCodeAt(c)||null,f&&Wt(n)&&Wt(r)&&(n=Ye(e.slice(c)),r=Ye(t.slice(c)))):(a=i!==e.charAt(c),s=o!==t.charAt(c),a!==s&&0===u&&(u=a-s)),c+=1}while(null!=n&&null!=r&&n===r);return n===r?u:n-r},sortEquivalents:(Et={},Be(We("A\xc1\xc0\xc2\xc3\xc4 C\xc7 E\xc9\xc8\xca\xcb I\xcd\xcc\u0130\xce\xcf O\xd3\xd2\xd4\xd5\xd6 S\xdf U\xda\xd9\xdb\xdc"),function(e){var t=e.charAt(0);Be(e.slice(1).split(""),function(e){Et[e]=t,Et[e.toLowerCase()]=t.toLowerCase()})}),Et)},Dt=be(ie,Lt);function Nt(e,t){var n;return!function(e){return e&&e.constructor&&H(e.constructor.prototype)}(e)?Ee(e)||D(e)?n=Array.from(e):xe(e)&&(n=[e]):n=t?zt(e):e,n||[]}function zt(e){var t=new Array(e.length);return Be(e,function(e,n){t[n]=e}),t}function qt(e,t){return Rt?function(e,t){var n,r=zt(e),i=r.length;return n=H(t)?t:[t],r.length+=n.length,Be(n,function(e,t){r[i+t]=e}),r}(e,t):e.concat(t)}function Ht(e,t,n){var r;return n=+n,isNaN(n)&&(n=e.length),r=[n,0],xe(t)&&(r=r.concat(t)),e.splice.apply(e,r),e}function Ut(e,t){var n=[],r={},i=[];return Be(e,function(o,a){var s=De(t?Fe(o,t,e,[o,a,e]):o,i);I(r,s)||(n.push(o),r[s]=!0)}),n}function Ft(e,t,n){var r=[],i={},o=[];return H(t)||(t=function(e){var t=[];return t.push(e),t}(t)),Be(t,function(e){i[De(e,o)]=!0}),Be(e,function(e){var t=De(e,o);I(i,t)!==n&&(delete i[t],r.push(e))}),r}function Wt(e){return e>=Y&&e<=At||e>=J&&e<=Mt}function Bt(e,t,n){return D(e)||(e=String(e)),n&&(e=e.toLowerCase()),t&&(e=e.replace(t,"")),e}function Vt(e,t,n){var r=e.charAt(t);return A(n,r)||r}function Gt(e,t){return e?t.indexOf(e):null}de(ie,{create:function(e,t){return Nt(e,t)},construct:function(e,t){return e=ke(e),Array.from(new Array(e),function(e,n){return t&&t(n)})}}),fe(ie,{isEmpty:function(e){return 0===e.length},isEqual:function(e,t){return Le(e,t)},clone:function(e){return zt(e)},at:function(e,t,n){return He(e,t,n)},add:function(e,t,n){return Ht(zt(e),t,n)},subtract:function(e,t){return Ft(e,t,!0)},append:function(e,t,n){return Ht(e,t,n)},removeAt:function(e,t,n){return je(t)?e:(je(n)&&(n=t),e.splice(t,n-t+1),e)},unique:function(e,t){return Ut(e,t)},flatten:function(e,t){return function e(t,n,r){var i=[];return n=n||1/0,r=r||0,Be(t,function(t){H(t)&&r<n?i=i.concat(e(t,n,r+1)):i.push(t)}),i}(e,t)},first:function(e,t){return je(t)?e[0]:(t<0&&(t=0),e.slice(0,t))},last:function(e,t){if(je(t))return e[e.length-1];var n=e.length-t<0?0:e.length-t;return e.slice(n)},from:function(e,t){return e.slice(t)},to:function(e,t){return je(t)&&(t=e.length),e.slice(0,t)},compact:function(e,t){return function(e,t){return function(e,t){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];r in e&&t(o,r)&&n.push(o)}return n}(e,function(e){return e||!t&&null!=e&&e.valueOf()===e.valueOf()})}(e,t)},groupBy:function(e,t,n){return function(e,t,n){var r,i={};return Be(e,function(n,o){r=Fe(n,t,e,[n,o,e]),I(i,r)||(i[r]=[]),i[r].push(n)}),n&&T(i,n),i}(e,t,n)},inGroups:function(e,t,n){var r=xe(n),i=new Array(t),o=tt(e.length/t);return Me(t,function(t){var a=t*o,s=e.slice(a,a+o);r&&s.length<o&&Me(o-s.length,function(){s.push(n)}),i[t]=s}),i},inGroupsOf:function(e,t,n){var r,i=[],o=e.length;return 0===o||0===t?e:(je(t)&&(t=1),je(n)&&(n=null),Me(tt(o/t),function(o){for(r=e.slice(t*o,t*o+t);r.length<t;)r.push(n);i.push(r)}),i)},shuffle:function(e){return function(e){for(var t,n,r=(e=zt(e)).length;r;)t=Math.random()*r|0,n=e[--r],e[r]=e[t],e[t]=n;return e}(e)},sample:function(e,t,n){var r,i,o,a=[];R(t)?i=t:(r=t,i=n),je(r)&&(r=1,o=!0),i||(e=zt(e)),r=Ze(r,e.length);for(var s,c=0;c<r;c++)s=Qe(Math.random()*e.length),a.push(e[s]),e.splice(s,1);return o?a[0]:a},sortBy:function(e,t,n){return e.sort(function(r,i){return function e(t,n){var r,i;if(D(t)&&D(n))return Dt("sortCollate")(t,n);if(H(t)&&H(n)){if(t.length<n.length)return-1;if(t.length>n.length)return 1;for(i=0;i<t.length;i++)if(0!==(r=e(t[i],n[i])))return r;return 0}return t<n?-1:t>n?1:0}(Fe(r,t,e,[r]),Fe(i,t,e,[i]))*(n?-1:1)}),e},remove:function(e,t){return function(e,t){for(var n=Oe(t),r=0;r<e.length;)n(e[r],r,e)?e.splice(r,1):r++;return e}(e,t)},exclude:function(e,t){return function(e,t){for(var n=[],r=Oe(t),i=0;i<e.length;i++)r(e[i],i,e)||n.push(e[i]);return n}(e,t)},union:function(e,t){return Ut(qt(e,t))},intersect:function(e,t){return Ft(e,t,!1)}}),le(ie,"insert","append"),It=Nt,ie.prototype.constructor=function(){return It.apply(this,arguments)};var Qt,Kt=Object.getOwnPropertyNames,Yt=Object.getOwnPropertySymbols,Jt=Object.getOwnPropertyDescriptor;function Xt(e,t,n){return en(e,t,(n=n||{}).deep,n.resolve,n.hidden,n.descriptor)}function Zt(e,t,n,r){for(var i,o=e(t),a=0;i=o[a];a++)(Jt(t,i).enumerable||r)&&n(t[i],i)}function en(e,t,n,i,o,a){var s=q(i),c=!1!==i;return je(e)?e=tn(t):c&&N(e)&&N(t)&&e.setTime(t.getTime()),Ie(e)?t:(Ie(t)&&(t=Re(t)),function(e,t,n){Kt&&e?Zt(Kt,t,n,e):T(t,n),Yt&&Zt(Yt,t,n,e)}(o,t,function(u,l){var d,f,p,m,_;if(d=t[l],f=A(e,l),s){if(je(_=i(l,f,d,e,t)))return;xe(_)&&_!==r&&(d=_,p=!0)}else if(je(d))return;((m=!p&&n&&Ee(d)&&!z(d))||c||!xe(f))&&(m&&(d=en(f,d,n,i,o,a)),Kt&&a?function(e,t,n,r){var i=Jt(t,n);xe(i.value)&&(i.value=r),h(e,n,i)}(e,t,l,d):e[l]=d)}),e)}function tn(e){var t=E(e);if(H(e,t))return[];if(Ae(e,t))return{};if(N(e,t))return new Date(e.getTime());if(z(e,t))return RegExp(e.source,ct(e));if(Ie(e&&e.valueOf()))return e;throw new TypeError("Must be a basic data type")}function nn(e,t){return en(tn(e),e,t,!0,!0,!0)}function rn(e){return function(e){return Se(Re(e))}(e).length}function on(e,t,n){var r,i={};return t=[].concat(t),T(e,function(e,o){r=!1;for(var a=0;a<t.length;a++)an(t[a],o)&&(r=!0);r===n&&(i[o]=e)}),i}function an(e,t){return z(e)?e.test(t):Ee(e)?t in e:t===String(e)}function sn(e,t,n,r,i){var o,a,s,c,u=[];return R(t)?(s=t,c=n):c=t,ln(e,c,function(t,n){if(je(t))throw new TypeError("Cannot compare with undefined");o=i?n:e[n],t===a?u.push(o):(je(a)||r&&t>a||!r&&t<a)&&(u=[o],a=t)}),un(u,e,s,i)}function cn(e,t,n,r,i){var o,a,s,c,u={},l=[];return R(t)?(s=t,c=n):c=t,ln(e,c,function(t,n){var r=De(t,l),o=A(u,r)||[];o.push(i?n:e[n]),u[r]=o}),o=sn(u,!!s,"length",r,!0),s?(a=[],T(o,function(e){a=a.concat(e)})):a=A(u,o),un(a,e,s,i)}function un(e,t,n,r){return r&&n?e.reduce(function(e,n){return e[n]=t[n],e},{}):(e&&!n&&(e=e[0]),e)}function ln(e,t,n){var r=H(e);T(e,function(i,o){if(r){if(!ze(o))return;o=+o}var a=Fe(i,t,e,[i,o,e]);n(a,o)})}me(re,{size:function(e){return rn(e)},isEmpty:function(e){return 0===rn(e)},isEqual:function(e,t){return Le(e,t)},merge:function(e,t,n){return Xt(e,t,n)},add:function(e,t,n){return Xt(nn(e),t,n)},intersect:function(e,t){return function(e,t,n){return Ee(e)?(t=Re(t),en({},e,!1,function(e,r,i){if((e in t&&Le(i,t[e]))!==n)return i})):n?e:{}}(e,t,!1)},clone:function(e,t){return nn(e,t)},values:function(e){return function(e){var t=[];return T(e,function(e){t.push(e)}),t}(e)},isObject:function(e){return Ae(e)},remove:function(e,t){return function(e,t){var n=Oe(t);return T(e,function(t,r){n(t,r,e)&&delete e[r]}),e}(e,t)},exclude:function(e,t){return function(e,t){var n={},r=Oe(t);return T(e,function(t,i){r(t,i,e)||(n[i]=t)}),n}(e,t)},select:function(e,t){return function(e,t){return on(e,t,!0)}(e,t)},reject:function(e,t){return function(e,t){return on(e,t,!1)}(e,t)}}),fe(re,{keys:function(e){return Se(e)}}),Qt=[R,L,D,N,z,q,H,W,U,F],ve(re,B,function(e,t,n){e["is"+t]=Qt[n]});var dn=bn("map",gn),fn=vn("find"),pn=vn("some"),hn=vn("every"),mn=vn("filter"),_n=vn("findIndex");function vn(e){return bn(e,yn)}function gn(e,t){return q(e)?e:e?function(n,r,i){return Fe(n,e,t,[n,r,i])}:void 0}function yn(e){var t;return q(e)?e:(t=Oe(e),function(e,n,r){return t(e,n,r)})}function bn(e,t){var n=Array.prototype[e];return function(e,r,i,o){var a=new Array(2);return function(e){if(!e)throw new TypeError("Argument required")}(o>0),a[0]=t(r,i),a[1]=i,n.apply(e,a)}}fe(ie,{map:ge(dn),some:ge(pn),every:ge(hn),filter:ge(mn),find:ge(fn),findIndex:ge(_n)},["enhance","enhanceArray"]),fe(ie,{none:ge(function(){return!pn.apply(this,arguments)}),count:ge(function(e,t){return je(t)?e.length:mn.apply(this,arguments).length}),min:function(e,t,n){return sn(e,t,n)},max:function(e,t,n){return sn(e,t,n,!0)},least:function(e,t,n){return cn(e,t,n)},most:function(e,t,n){return cn(e,t,n,!0)},sum:function(e,t){return function(e,t){var n=0;return ln(e,t,function(e){n+=e}),n}(e,t)},average:function(e,t){return function(e,t){var n=0,r=0;return ln(e,t,function(e){n+=e,r++}),n/(r||1)}(e,t)},median:function(e,t){return function(e,t){var n,r,i=[];return ln(e,t,function(e){i.push(e)}),(r=i.length)?(i.sort(function(e,t){return(e||0)-(t||0)}),n=Qe(r/2),r%2?i[n]:(i[n-1]+i[n])/2):0}(e,t)}});var wn=xn("some"),$n=xn("find"),kn=xn("every");function xn(e){var t=Array.prototype[e];return function(e,n){var r=Oe(n);return t.call(Se(e),function(t){return r(e[t],t,e)})}}me(re,{forEach:function(e,t){return function(e,t){return we(t),T(e,function(n,r){t(n,r,e)}),e}(e,t)},map:function(e,t){return function(e,t){var n={};return T(e,function(r,i){n[i]=Fe(r,t,e,[r,i,e])}),n}(e,t)},some:wn,every:kn,filter:function(e,t){return function(e,t){var n=Oe(t),r={};return T(e,function(t,i){n(t,i,e)&&(r[i]=t)}),r}(e,t)},reduce:function(e,t,n){return function(e,t,n){var r=xe(n);return T(e,function(i,o){if(!r)return n=i,void(r=!0);n=t(n,i,o,e)}),n}(e,t,n)},find:$n,none:function(e,t){return function(e,t){return!wn(e,t)}(e,t)},min:function(e,t,n){return sn(e,t,n,!1,!0)},max:function(e,t,n){return sn(e,t,n,!0,!0)}});be(ae,{decimal:X,thousands:ee});function jn(e){return function(t,n){return n?function(e,t,n){var r=Xe(10,Je(t||0));return n=n||rt,t<0&&(r=1/r),n(e*r)/r}(t,n,e):e(t)}}fe(ae,{round:jn(rt),ceil:jn(tt),floor:jn(nt)});var Cn=Ce("lock"),On=Ce("partial"),Sn=Object.create||function(e){var t=function(){};return t.prototype=e,new t};_e(se,{partial:function(e,t){var n=t.length,r=function r(){var i,o,a=0,s=[],c=this,u=Cn(r);for(o=0;o<n;o++){var l=t[o];xe(l)?s[o]=l:s[o]=arguments[a++]}for(o=a;o<arguments.length;o++)s.push(arguments[o]);return null===u&&(u=n),L(u)&&(s.length=Ze(s.length,u)),c instanceof r?(c=Sn(e.prototype),Ee(i=e.apply(c,s))?i:c):e.apply(c,s)};return On(r,!0),r}})}).call(this)}).call(t,n(11))},,,function(e,t,n){"use strict";t.a={"turbolinks:load":[],"turbolinks:before-cache":[]}},function(e,t,n){"use strict";var r;r=n(54).default;var i,o=function(){function e(e,t){r(this._selector(e),t).data({model:e}).addClass(e.status)}return e.prototype._selector=function(e){return".c-"+e.target_type.toLowerCase()+".entry-"+e.target_id},e}();i=n(54).default;var a=function(){function e(e,t){i(this._selector(e),t).data({model:e})}return e.prototype._selector=function(e){return".b-user_rate."+e.target_type.toLowerCase()+"-"+e.target_id},e}(),s={}.hasOwnProperty,c=function(e){function t(e,t){$(this._selector(e)).each(function(){var t,n;if((n=(t=$(this)).data("model"))&&t.removeClass(n.status),t.data({model:e}),e.id)return t.addClass(e.status)})}return function(e,t){for(var n in t)s.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,o),t}(),u={}.hasOwnProperty,l=function(e){function t(e,t){$(this._selector(e)).each(function(){return $(this).view().update(e)})}return function(e,t){for(var n in t)u.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,a),t}();t.a=function(){function e(){}return e.track=function(e,t){var n,r;if(!Object.isEmpty(null!=e?e.user_rates:void 0))return null!=(n=e.user_rates.catalog_entry)&&n.forEach(function(e){return new o(e,t)}),null!=(r=e.user_rates.user_rate)&&r.forEach(function(e){return new a(e,t)}),e.user_rates=null},e.update=function(e){return new c(e),new l(e)},e}()},function(e,t,n){"use strict";var r=n(206),i=n(3),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a,s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["default"]),o(t,[{key:"initialize",value:function(){var e=this;this.$node.data("texts").forEach(function(t){return e.addText(t)})}},{key:"addText",value:function(e){this.$("\n      .cc-collection-groups[data-index="+e.group_index+"]\n      .b-catalog_entry#"+e.linked_id+"\n      .image-decor\n    ").each(function(t,n){return $(n).append("<div class='text'>"+e.text+"</div>")})}}]),t}(),c=n(82),u=n(475),l=n(476),d=n(2),f=n.n(d),p=n(188),h=n.n(p),m={}.hasOwnProperty,_=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)m.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,i["default"]),t.prototype.initialize=function(){return this.$node.magnificPopup({preloader:!1,type:"webm",mainClass:"mfp-no-margins mfp-img-mobile",closeOnContentClick:!0}),this._replace_image()},t.prototype._replace_image=function(e){var t,n;if(null==e&&(e=1),!this.$node.data("video").match(/\.mp3$/))return(t=new Image).src=this.$node.data("src"),h()(t).on("done",(n=this,function(){return n.node.src=n.$node.data("src"),n.node.srcset=n.$node.data("srcset")})).on("fail",function(t){return function(){if(e<=60)return f()(5e3*(e+1)).then(function(){return t._replace_image(e+1)})}}(this))},t}(),v=(n(32),n(44)),g=n(62),y=function(e,t){return function(){return e.apply(t,arguments)}},b={}.hasOwnProperty,w=function(e){function t(){return this._remove=y(this._remove,this),this._hide_form=y(this._hide_form,this),this._show_form=y(this._show_form,this),this._prepare_form=y(this._prepare_form,this),t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)b.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,v["default"]),t.prototype.initialize=function(){return this.$moderation=this.$(".moderation"),this.$(".reject[data-reason-prompt]",this.$moderation).on("click",this._reject_dialog),this.$(".ajax-action",this.$moderation).on("ajax:before",this._shade).on("ajax:success",this._reload),this.$(".delete",this.$moderation).on("ajax:before",this._shade).on("ajax:success",this._remove),this.$(".ban, .warn",this.$moderation).on("ajax:before",this._prepare_form).on("ajax:before",this._shade).on("ajax:complete",this._unshade).on("ajax:success",this._show_form)},t.prototype._prepare_form=function(){return this.$moderation.hide(),this.$(".spoiler.collapse .action").hide()},t.prototype._show_form=function(e,t){var n;return(n=this.$(".ban-form")).html(t).show(),new g.default(n),$(e.target).hasClass("warn")&&(n.find("#ban_duration").val("0m"),this.$root.find(".b-spoiler_marker").length&&n.find("#ban_reason").val("\u0441\u043f\u043e\u0439\u043b\u0435\u0440\u044b")),$(".cancel",n).on("click",this._hide_form),n.on("ajax:before",this._shade).on("ajax:complete",this._unshade).on("ajax:success",this._reload)},t.prototype._hide_form=function(){return this.$moderation.show(),this.$(".spoiler.collapse .action").show(),this.$(".ban-form").hide().empty(),this.$(".spoiler.collapse").click()},t.prototype._remove=function(){return this.$root.hide(),f()(1e4).then((e=this,function(){return e.$root.remove()}));var e},t.prototype._reject_dialog=function(e){var t,n;return t=$(e.target).data("href"),null!==(n=prompt($(e.target).data("reason-prompt")))&&$(e.target).attr({href:t+"?reason="+encodeURIComponent(n)})},t}(),k={}.hasOwnProperty;a=n(31);var x=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)k.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,i["default"]),t.prototype.initialize=function(){var e,t,n,r,i;if(i=this.$node.data("ad_provider"),n=this.$node.data("ad_html"),t=this.$node.data("ad_css_class"),e=this.$node.data("ad_params"),r=this.$node.data("platform"),this._platform_matches(r))return"yandex_direct"===i?new Ads.Yandex(this.$node,n,t,e):"mytarget"===i?new Ads.Mytarget(this.$node,n,t,e):new Ads.View(this.$node,n,t,e)},t.prototype._platform_matches=function(e){return"desktop"===e?a.isTablet()||!a.isMobile():a.mobileDetect.phone()||a.mobileDetect.tablet()},t}(),j={}.hasOwnProperty,C=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)j.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,i["default"]),"nohighlight",t.prototype.initialize=function(){return this.klass=t,this.klass.hljs_initialize(),this.highlight()},t.prototype.highlight=function(){var e,t,n;if(e=null!=(n=(t=this.root.childNodes[0]).attributes["data-language"])?n.value:void 0,!t.classList.contains("nohighlight")&&e)return Modernizr.bloburls&&Modernizr.webworkers?(t.id="code_"+this.klass.last_id,this.klass.last_id+=1,this.klass.worker.postMessage({node_id:t.id,code:t.textContent,language:e})):console.error("webworkers are not supported")},t.hljs_initialize=function(){if(!this.hljs_initialized)return this.hljs_initialized=!0,this.last_id=0,this.worker=this.build_worker(function(){importScripts("https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"),this.onmessage=function(e){var t;return t=self.hljs.highlight(e.data.language,e.data.code,!0),postMessage({html:t.value,node_id:e.data.node_id})}}),this.worker.onmessage=function(e){var t;return null!=(t=document.getElementById(e.data.node_id))?t.innerHTML=e.data.html:void 0}},t.build_worker=function(e){var t,n;return n=(n=e.toString()).substring(n.indexOf("{")+1,n.lastIndexOf("}")),t=new Blob([n],{type:"application/javascript"}),new Worker(URL.createObjectURL(t))},t}(),O=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var S=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,v["default"]),O(t,[{key:"initialize",value:function(){var e=this;this.$tabs=this.$("[data-tab]"),this.$tabSwitches=this.$("[data-tab-switch]"),this.$tabSwitches.on("click",function(t){var n=t.currentTarget;return e._switchTab(n)})}},{key:"_switchTab",value:function(e){var t=this.$tabSwitches.toArray().indexOf(e),n=$(this.$tabs[t]);this.$tabSwitches.removeClass("active"),e.classList.add("active"),this.$tabs.addClass("hidden"),n.removeClass("hidden"),n.process_hidden_content()}}]),t}(),T=n(495),P=n(124),E=n(219),I=n(501),A=n(502),M={}.hasOwnProperty,R=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)M.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,P["a"]),t.prototype._before_comments_clickload=function(){},t.prototype._update_comments_loader=function(e){var t;return e.postloader?(t=$(e.postloader).process(),this.$comments_loader.replaceWith(t),this.$comments_loader=t):(this.$comments_loader.remove(),this.$comments_loader=null)},t}(),L=n(24),D=n(8),N=n(233),z=function(e,t){return function(){return e.apply(t,arguments)}},q={}.hasOwnProperty,H=function(e){function t(){return this._change_score=z(this._change_score,this),this._hide_form=z(this._hide_form,this),this._show_form=z(this._show_form,this),this._toggle_list=z(this._toggle_list,this),t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)q.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,N["a"]),"user_rates/extended","user_rates/score",t.prototype.initialize=function(){return this.entry=this.$root.data("entry"),this.form_html=null,this.on("click",".cancel",this._hide_form),this.on("ajax:success",".remove",this._hide_form),this.on("ajax:success",".rate-edit",this._hide_form),this.on("rate:change",this._change_score),t.__super__.initialize.call(this)},t.prototype._toggle_list=function(e){return this._is_persisted()&&e.currentTarget.classList.contains("edit-trigger")?this.form_html?this._hide_form():this._fetch_form():t.__super__._toggle_list.call(this)},t.prototype._fetch_form=function(){return this._ajax_before(),D.default.get("/user_rates/"+this.model.id+"/edit").then((e=this,function(t){return e._ajax_complete(),e._show_form(t.data)}));var e},t.prototype._show_form=function(e){return this.form_html=e,this._render(),this.$(".remove.bottom").addClass("hidden"),this.$(".delete-button.top").removeClass("hidden")},t.prototype._hide_form=function(){return this.form_html=null,this._render()},t.prototype._change_score=function(e,t){return this.$('input[name="user_rate[score]"]').val(t),this.$("form").submit()},t.prototype._extended_html=function(){if(this._is_persisted())return this.form_html||this._render_extended()},t.prototype._render_extended=function(){return L.default["user_rates/extended"]({entry:this.entry,model:this.model,increment_url:this._is_persisted()?"/api/v2/user_rates/"+this.model.id+"/increment":void 0,rate_html:L.default["user_rates/score"]({score:this.model.score})})},t.prototype._render=function(){return t.__super__._render.call(this),this.$(".b-rate").rateable()},t}();n.d(t,"a",function(){return B});var U,F,W=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var B=(F=U=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t.each(function(t,r){r.classList.remove(e.PENDING_CLASS),r.attributes["data-dynamic"].value.split(",").forEach(function(e){var t=e.camelize(!1);n[t]?n[t](r):console.error("unexpected processor: "+t,r)})})}return W(e,[{key:"cuttedCovers",value:function(e){new r.a(e)}},{key:"textAnnotated",value:function(e){new s(e)}},{key:"authorized",value:function(e){new c.a(e)}},{key:"dayRegistered",value:function(e){new u.a(e)}},{key:"weekRegistered",value:function(e){new l.a(e)}},{key:"html5Video",value:function(e){new _(e)}},{key:"logEntry",value:function(e){new w(e)}},{key:"desktopAd",value:function(e){new x(e)}},{key:"codeHighlight",value:function(e){new C(e)}},{key:"tabs",value:function(e){new S(e)}},{key:"forum",value:function(e){new T.a(e)}},{key:"topic",value:function(e){new P.a(e)}},{key:"comment",value:function(e){new E.a(e)}},{key:"message",value:function(e){new I.a(e)}},{key:"shortDialog",value:function(e){new A.a(e)}},{key:"fullDialog",value:function(e){new R(e)}},{key:"userRate",value:function(e){"true"===e.attributes["data-extended"].value?new H(e):new N.a(e)}}]),e}(),U.PENDING_CLASS="to-process",F)},,function(e,t,n){"use strict";(function(e){var r=n(2),i=n.n(r),o=n(83),a=n(33),s=n(63),c=n(8),u=function(e,t){return function(){return e.apply(t,arguments)}},l={}.hasOwnProperty;t.a=function(t){var n,r,d;function f(){return this._deactivate_inaccessible_buttons=u(this._deactivate_inaccessible_buttons,this),this._reload_url=u(this._reload_url,this),this._check_height=u(this._check_height,this),this._comments_clickloaded=u(this._comments_clickloaded,this),this._before_comments_clickload=u(this._before_comments_clickload,this),this._hide_editor=u(this._hide_editor,this),f.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)l.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(f,o["default"]),r="frontend.dynamic_elements.topic",n=["faye:comment:updated","faye:message:updated","faye:comment:deleted","faye:message:deleted","faye:comment:set_replies"],d=["topics_show","collections_show"],f.prototype._type=function(){return"topic"},f.prototype._type_label=function(){return e.t(r+".type_label")},f.prototype._default_model=function(){return{can_destroy:!1,can_edit:!1,id:parseInt(this.root.id),is_viewed:!0,user_id:this.$root.data("user_id")}},f.prototype.initialize=function(){if(this.model=this.$root.data("model")||this._default_model(),window.SHIKI_USER.isUserIgnored(this.model.user_id)||window.SHIKI_USER.isTopicIgnored(this.model.id)){if(!d.includes(document.body.id))return void(this.$root.parent().length?this.$root.remove():i()().then((t=this,function(){return t.$root.remove()})));this._toggle_ignored(!0)}var t;return this.$body=this.$inner.children(".body"),this.$editor_container=this.$(".editor-container"),this.$editor=this.$(".b-shiki_editor"),window.SHIKI_USER.isSignedIn&&window.SHIKI_USER.isDayRegistered&&this.$editor.length?this.editor=new a.default(this.$editor):this.$editor.replaceWith("<div class='b-nothing_here'> "+e.t("frontend.shiki_editor.not_available")+" </div>"),this.$comments_loader=this.$(".comments-loader"),this.$comments_hider=this.$(".comments-hider"),this.$comments_collapser=this.$(".comments-collapser"),this.$comments_expander=this.$(".comments-expander"),this.is_preview=this.$root.hasClass("b-topic-preview"),this.is_cosplay=this.$root.hasClass("b-cosplay-topic"),this.is_club_page=this.$root.hasClass("b-club_page-topic"),this.is_review=this.$root.hasClass("b-review-topic"),this.model&&!this.model.is_viewed&&this._activate_appear_marker(),this.model&&this._actualize_voting(),this.$inner.one("mouseover",this._deactivate_inaccessible_buttons),$(".item-mobile",this.$inner).one(this._deactivate_inaccessible_buttons),(this.is_preview||this.is_club_page)&&(this.$body.imagesLoaded(this._check_height),this._check_height()),this.is_cosplay&&!this.is_preview&&new s.default(this.$(".b-cosplay_gallery .b-gallery")),$(".item-reply",this.$inner).on("click",function(e){return function(){var t;return t=e.$root.data("generated")?"":"[entry="+e.$root.attr("id")+"]"+e.$root.data("user_nickname")+"[/entry], ",e.$root.trigger("comment:reply",[t])}}(this)),this.$editor.on("ajax:success",function(e){return function(t,n){var r;return r=$(n.html).process(n.JS_EXPORTS),e.$(".b-comments").find(".b-nothing_here").remove(),e.$editor.is(":last-child")?e.$(".b-comments").append(r):e.$(".b-comments").prepend(r),r.yellowFade(),e.editor.cleanup(),e._hide_editor()}}(this)),$(".item-ignore",this.$inner).on("ajax:before",function(){return $(this).toggleClass("selected")}).on("ajax:success",function(e){return function(t,n){return n.is_ignored?window.SHIKI_USER.ignoreTopic(n.topic_id):window.SHIKI_USER.unignoreTopic(n.topic_id),e._toggle_ignored(n.is_ignored)}}(this)),this.$(".footer-vote .vote").on("ajax:before",function(e){return function(t){var n;return e.$inner.find(".footer-vote").addClass("b-ajax"),(n=$(t.target).hasClass("yes"))&&!e.model.voted_yes?(e.model.votes_for+=1,e.model.voted_no&&(e.model.votes_against-=1)):n||e.model.voted_no||(e.model.voted_yes&&(e.model.votes_for-=1),e.model.votes_against+=1),e.model.voted_no=!n,e.model.voted_yes=n,e._actualize_voting()}}(this)),this.$(".footer-vote .vote").on("ajax:complete",function(){return $(this).closest(".footer-vote").removeClass("b-ajax")}),this.on("appear",this._appear),this.on("comment:reply",function(e){return function(t,n,r){if(e.editor)return e._show_editor(),e.editor.reply_comment(n,r)}}(this)),this.$(".b-shiki_editor").on("click",".hide",this._hide_editor),this.on("ajax:before",".comments-loader",this._before_comments_clickload),this.on("ajax:success",".comments-loader",this._comments_clickloaded),this.on("click",".comments-loader",function(e){return function(t){if(!e.$comments_loader.is(".click-loader"))return e.$comments_loader.hide(),e.$(".comments-loaded").animatedExpand(),e.$comments_hider.show()}}(this)),this.$comments_hider.on("click",function(e){return function(){return e.$comments_hider.hide(),e.$(".comments-loaded").animatedCollapse(),e.$comments_expander.show()}}(this)),this.$comments_collapser.on("click",function(e){return function(){return e.$comments_collapser.hide(),e.$comments_loader.hide(),e.$comments_expander.show(),e.$(".comments-loaded").animatedCollapse()}}(this)),this.$comments_expander.on("click",function(e){return function(t){return e.$comments_expander.hide(),e.$(".comments-loaded").animatedExpand(),e.$comments_loader?(e.$comments_loader.show(),e.$comments_collapser.show()):e.$comments_hider.show()}}(this)),this.on(n.join(" "),function(e){return function(t,n){var r,i;if(t.stopImmediatePropagation(),r=n[(i=t.type.match(/comment|message/)[0])+"_id"],t.target===e.$root[0])return e.$(".b-"+i+"#"+r).trigger(t.type,n)}}(this)),this.on("faye:comment:created faye:message:created",function(e){return function(t,n){var r,i,o;if(t.stopImmediatePropagation(),i=n[(o=t.type.match(/comment|message/)[0])+"_id"],!e.$(".b-"+o+"#"+i).exists())return r=e._faye_placeholder(i,o),$(document.body).trigger("faye:added"),window.SHIKI_USER.isCommentsAutoLoaded&&r.is(":appeared")&&!$("textarea:focus").val()?r.click():void 0}}(this)),this.on("faye:comment:marked",function(e,t){return e.stopImmediatePropagation(),$(".b-comment#"+t.comment_id).view().mark(t.mark_kind,t.mark_value)})},f.prototype._toggle_ignored=function(e){return $(".item-ignore",this.$inner).toggleClass("selected",e).data({method:e?"DELETE":"POST"}),this.$(".b-anime_status_tag.ignored").toggleClass("hidden",!e)},f.prototype._filter_present_entries=function(e){var t;return"b-comment",t=$(".b-comment",this.$root).toArray().map(function(e){return e.id}).filter(function(e){return e}).map(function(e){return".b-comment#"+e}).join(","),e.children().filter(t).remove()},f.prototype._show_editor=function(){if(this.is_preview&&!this.$editor_container.is(":visible"))return this.$editor_container.show()},f.prototype._hide_editor=function(){if(this.is_preview)return this.$editor_container.hide()},f.prototype._faye_placeholder=function(t,n){var i,o,a;return this.$(".b-comments .b-nothing_here").remove(),(i=this.$(".b-comments .faye-loader")).exists()||(i=$('<div class="click-loader faye-loader"></div>').appendTo(this.$(".b-comments")).data({ids:[]}).on("ajax:success",function(e,t){var n;return n=$(t.content).process(t.JS_EXPORTS),i.replaceWith(n),n.process()})),-1===(null!=(a=i.data("ids"))?a.indexOf(t):void 0)&&(i.data({ids:i.data("ids").add(t)}),i.data({href:"/"+n+"s/chosen/"+i.data("ids").join(",")}),o=i.data("ids").length,i.html("message"===n?p(o,e.t(r+".new_message_added.one",{count:o}),e.t(r+".new_message_added.few",{count:o}),e.t(r+".new_message_added.many",{count:o})):p(o,e.t(r+".new_comment_added.one",{count:o}),e.t(r+".new_comment_added.few",{count:o}),e.t(r+".new_comment_added.many",{count:o})))),i},f.prototype._appear=function(e,t,n){var r,o,a,s,u;if((r=t.not(function(){return $(this).data("disabled")||!(this.classList.contains("b-appear_marker")&&this.classList.contains("active"))})).exists())return u=n?1:1500,a=r.closest(".shiki-object"),o=a.find(".b-new_marker.active"),s=a.map(function(){return $(this).data("appear_type")+"-"+this.id}).toArray(),c.default.post(o.data("appear_url"),{ids:s.join(",")}),r.remove(),o.data("reappear")?o.addClass("off"):i()(u).then(function(){return o.css({opacity:0}),i()(500).then(function(){return o.hide(),o.removeClass("active")})})},f.prototype._before_comments_clickload=function(){var e;return e=this.$comments_loader.data("href-template").replace("SKIP",this.$comments_loader.data("skip")),this.$comments_loader.data({href:e})},f.prototype._comments_clickloaded=function(e,t){var n;return n=$("<div class='comments-loaded'></div>").html(t.content),this._filter_present_entries(n),n.process(t.JS_EXPORTS).insertAfter(this.$comments_loader).animatedExpand(),this._update_comments_loader(t)},f.prototype._check_height=function(){var e,t;return this.is_review?(t=18,(e=this.$(".review-entry_cover img").height())>0?this.$(".body-truncated-inner").checkHeight({max_height:e-t,collapsed_height:e-t,expand_html:""}):void 0):this.$(".body-inner").checkHeight({max_height:this.MAX_PREVIEW_HEIGHT,collapsed_height:this.COLLAPSED_HEIGHT})},f.prototype._reload_url=function(){return"/"+this._type()+"s/"+this.$root.attr("id")+"/reload?is_preview="+this.is_preview},f.prototype._actualize_voting=function(){if(this.$inner.find(".footer-vote .vote.yes, .user-vote .voted-for").toggleClass("selected",this.model.voted_yes),this.$inner.find(".footer-vote .vote.no, .user-vote .voted-against").toggleClass("selected",this.model.voted_no),this.model.votes_for&&this.$inner.find(".votes-for").html(""+this.model.votes_for),this.model.votes_against)return this.$inner.find(".votes-against").html(""+this.model.votes_against)},f.prototype._deactivate_inaccessible_buttons=function(){if(this.model.can_edit||this.$inner.find(".item-edit").addClass("hidden"),!this.model.can_destroy)return this.$inner.find(".item-delete").addClass("hidden")},f.prototype._update_comments_loader=function(t){var n,i,o,a,s,c;return a=this.$comments_loader.data("limit"),(o=this.$comments_loader.data("count")-a)>0?(this.$comments_loader.data({skip:this.$comments_loader.data("skip")+a,count:o}),n=Math.min(a,o),i=this.$comments_loader.data("only-summaries-shown")?p(n,e.t(r+".summary.one"),e.t(r+".summary.few"),e.t(r+".summary.many")):p(n,e.t(r+".comment.one"),e.t(r+".comment.few"),e.t(r+".comment.many")),c=o>a?e.t(r+".of")+" "+o:"",s=e.t(r+".load_comments",{comment_count:n,of_total_comments:c,comment_word:i}),this.$comments_loader.html(s),this.$comments_collapser.show()):(this.$comments_loader.remove(),this.$comments_loader=null,this.$comments_hider.show(),this.$comments_collapser.remove())},f}()}).call(t,n(1))},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return a});var r=n(3),i=n(63),o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["default"]),o(t,[{key:"initialize",value:function(){var e=this;this._initGalleries(),this.on("postloader:success",function(){return e._initGalleries()})}},{key:"_initGalleries",value:function(){this.$(".b-gallery:not(.processed)").each(function(){new i.default(this),this.classList.add("processed")})}}]),t}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){n.d(t,"default",function(){return f});var r=n(15),i=n.n(r),o=n(121),a=n(88),s=n(10),c=n(122),u=n(86),l=n(64),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var f=function(){function t(e){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.$content=$(".l-content"),this.$pagination=$(".pagination"),this.$linkCurrent=this.$pagination.find(".link-current"),this.$linkNext=this.$pagination.find(".link-next"),this.$linkPrev=this.$pagination.find(".link-prev"),this.$linkTotal=this.$pagination.find(".link-total"),this.$linkTitle=this.$pagination.find(".link-title"),this.$linkNext.hasClass("disabled")&&this.$linkPrev.hasClass("disabled")&&this.$pagination.hide(),this.pagesLimit=15,this.pageChange={},this.$content.on("postloader:before",function(e,t,r){return n._onPageLoadByScroll(t,r)}),this.$pagination.on("click",".link",function(e){return n._onPaginationLinkClick(e)}).on("click",".no-hover",function(e){return n._onPaginationPageSelect(e)}),this.filters=new u.default(e,window.location.href,this.load.bind(this))}return d(t,[{key:"load",value:function(e){window.history.pushState({turbolinks:!0,url:e},"",e),this.filters.parse(e),this._fetch(e)}},{key:"_onPaginationLinkClick",value:function(e){if(!Object(l.a)(e)){e.preventDefault();var t=$(e.target);t.hasClass("disabled")||($(window).scrollTop()>400&&$.scrollTo(".head"),this.load(t.attr("href")))}}},{key:"_onPaginationPageSelect",value:function(e){var t=this,n=e.currentTarget,r=$(n).find(".link-current");r.has("input").length||(this.pageChange.priorValue=parseInt(r.html()),this.pageChange.maxValue=parseInt(this.$linkTotal.html()),r.addClass("active").html("<input type='number' min='1' max='"+this.pageChange.maxValue+"' value='"+this.pageChange.priorValue+"' />"),this.pageChange.$input=r.children().focus().on("blur",function(){return t._changePage(!1)}).on("keydown",function(e){27===e.keyCode&&t._changePage(!0)}).on("keypress",function(e){13===e.keyCode&&t._changePage(!1)}))}},{key:"_onPageLoadByScroll",value:function(e,t){this.$linkCurrent.html(this.$linkCurrent.html().replace(/-\d+|$/,"-"+t.page)),this.$linkTitle.html(this.$linkTitle.data("text")),this.$linkTotal.html(t.pages_count),this.$linkPrev.attr({href:t.prev_page_url||"",action:t.prev_page_url}),this.$linkNext.attr({href:t.next_page_url||"",action:t.next_page_url}),this.$linkPrev.toggleClass("disabled",!t.prev_page_url),this.$linkNext.toggleClass("disabled",!t.next_page_url),this.isPagesLimit&&e.find(".b-postloader").data({locked:!0})}},{key:"_changePage",value:function(e){var t=parseInt(this.pageChange.$input.val())||1;if(this.$linkCurrent.removeClass("active"),e||t===this.pageChange.priorValue)this.$linkCurrent.html(this.pageChange.priorValue);else{var n=this.$linkNext.add(this.$linkPrev).filter(":not(.disabled)").first();this.$linkCurrent.html(t),this.load(n.attr("href").replace(/\/\d+$/,"/"+t))}this.pageChange.$input=null}},{key:"_fetch",value:function(){var t,n=(t=regeneratorRuntime.mark(function t(n){var r,o,c,u;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n,-1===n.indexOf(window.location.protocol+"//"+window.location.host)&&(r=window.location.protocol+"//"+window.location.host+n),this._showAjax(),t.next=5,a.a.fetch(r);case 5:if(o=t.sent,c=o.data,u=o.status,this._hideAjax(),200===u){t.next=12;break}return 451===u?i.a.visit(window.location.href):s.a.error(e.t("frontend.lib.paginated_catalog.please_try_again_later")),t.abrupt("return");case 12:window.location.href===r&&this._processResponse(c,r);case 13:case"end":return t.stop()}},t,this)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(i,o){try{var a=e[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});t(s)}("next")})});return function(e){return n.apply(this,arguments)}}()},{key:"_processResponse",value:function(e,t){document.title=""+e.title;var n=$(e.content);o.a.track(Object.clone(e.JS_EXPORTS),n),this.$content.data("dynamic")&&this.$content.addClass(c.a.PENDING_CLASS),this.$content.html(n).process(),$(".head h1").html(e.title),e.notice&&$(".head .notice").html(e.notice),this.$linkCurrent.html(e.page),this.$linkTotal.html(e.pages_count),this.$linkPrev.attr({href:e.prev_page_url||"",action:e.prev_page_url}),e.prev_page_url?this.$linkPrev.removeClass("disabled"):this.$linkPrev.addClass("disabled"),this.$linkNext.attr({href:e.next_page_url||"",action:e.next_page_url}),e.next_page_url?this.$linkNext.removeClass("disabled"):this.$linkNext.addClass("disabled"),this.$pagination.toggle(!(this.$linkNext.hasClass("disabled")&&this.$linkPrev.hasClass("disabled"))),t&&("_gaq"in window&&window._gaq.push(["_trackPageview",t]),"yaCounter7915231"in window&&window.yaCounter7915231.hit(t))}},{key:"_showAjax",value:function(){this.$content.addClass("b-ajax")}},{key:"_hideAjax",value:function(){this.$content.removeClass("b-ajax")}},{key:"isPagesLimit",get:function(){return this.$content.children().length>=this.pagesLimit}}]),t}()}.call(t,n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(56),i=n.n(r),o=n(3),a={}.hasOwnProperty;t.default=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)a.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,o["default"]),"YYYY-MM-DD",t.prototype.initialize=function(){return this.init_promise=n.e(10).then((e=this,function(t){return e._init_picker(n(547))}).bind(null,n)).catch(n.oe);var e},t.prototype.set=function(e,t){return this.init_promise.then((n=this,function(){var r;if(e&&(r=i()(e).format("YYYY-MM-DD")),n.root.value=r,!t)return n.$root.trigger("date:picked")}));var n},t.prototype._init_picker=function(e){var t,n;return new e({field:this.root,onSelect:(n=this,function(e){return n.set(e)}),firstDay:1,maxDate:new Date,i18n:this._i18n()}),this.root.value&&(t=i()(this.root.value).toDate()),t&&this.set(t,!0),this.$root.on("keypress",function(e){return function(t){if(13===t.keyCode)return e.$root.trigger("date:picked")}}(this))},t.prototype._i18n=function(){return{months:i.a.months(),weekdays:i.a.weekdays(),weekdaysShort:i.a.weekdaysShort()}},t}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return c});var r=n(2),i=n.n(r),o=n(3),a=n(64),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o["default"]),s(t,[{key:"initialize",value:function(e,t){var n=this;this.roundView=t,this.model=this.$root.data("model"),this.vote=e||{},this.$left=this.$('.match-member[data-variant="left"]'),this.$right=this.$('.match-member[data-variant="right"]'),this.$(".next-match").on("click",function(){return n._toNextMatch()}),this.$(".prev-match").on("click",function(){return n._toPrevMatch()}),this.$(".action .to-next-not-voted").on("click",function(){return n._toNextNotVotedMatch()}),this.$(".match-member img").on("click",function(e){return n._voteClick(e)}),this.$(".match-member").on("ajax:success",function(e){return n._voteMember(e)}),this.$(".action .abstain").on("ajax:success",function(){return n._abstain()}),this.isStarted&&(this.$(".match-member .b-catalog_entry").hover(function(e){n.vote.vote||(n.$(".match-member").addClass("unhovered"),$(e.target).closest(".match-member").removeClass("unhovered").addClass("hovered"))},function(){return n.$(".match-member").removeClass("hovered unhovered")}),this._setVote(this.vote.vote)),this.initialized=!0}},{key:"_toNextMatch",value:function(){this.roundView.switchMatch(this.roundView.nextMatchId(this.model.id))}},{key:"_toPrevMatch",value:function(){this.roundView.switchMatch(this.roundView.prevMatchId(this.model.id))}},{key:"_toNextNotVotedMatch",value:function(){this.roundView.switchMatch(this._nextMatchId())}},{key:"_abstain",value:function(){this._vote("abstain")}},{key:"_voteMember",value:function(e){var t=e.target;$(t).find(".b-catalog_entry").yellowFade(),this._vote($(t).data("variant"))}},{key:"_voteClick",value:function(e){Object(a.a)(e)||(e.preventDefault(),e.stopImmediatePropagation(),this.isStarted&&$(e.target).closest(".match-member").callRemote())}},{key:"_vote",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this._setVote(t),!this._nextMatchId()){e.next=5;break}return e.next=4,i()(500);case 4:this._toNextNotVotedMatch();case 5:case"end":return e.stop()}},e,this)}),function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}("next")})});return function(e){return t.apply(this,arguments)}}()},{key:"_setVote",value:function(e){this.roundView.setVote(this.model.id,e),this.vote.vote=e,this.$left.toggleClass("voted","left"===e).toggleClass("unvoted",!(!e||"left"===e)),this.$right.toggleClass("voted","right"===e).toggleClass("unvoted",!(!e||"right"===e)),this.$(".invitation").toggle(!e),this.$(".vote-voted").toggle(!(!e||"abstain"===e)),this.$(".vote-abstained").toggle("abstain"===e),this.$(".thanks").toggle(!(!e||this._nextMatchId())),this.$(".action .abstain").toggleClass("hidden","abstain"===e),this.$(".action .to-next-not-voted").toggleClass("hidden",!this._nextMatchId())}},{key:"_nextMatchId",value:function(){return this.roundView.nextNotVotedMatchId(this.model.id)}},{key:"isStarted",get:function(){return"started"===this.model.state}}]),t}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return s});var r=n(8),i=n(3),o=n(130),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var s=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["default"]),a(t,[{key:"initialize",value:function(e){var t=this;this.model=this.$root.data("model"),this.votes=e||[],this.$matchContainer=this.$(".match-container"),this._setVotes(this.votes),this.switchMatch(this._initialMatchId()),this.$(".match-day .match-link").on("click",function(e){return t.switchMatch($(e.currentTarget).data("id"))})}},{key:"switchMatch",value:function(e){var t=this,n=this._$matchLine(e);this.$matchContainer.addClass("b-ajax"),r.default.get(n.data("match_url")).then(function(r){t.$(".match-link.active").removeClass("active"),n.addClass("active"),t._matchLoaded(e,r.data)})}},{key:"setVote",value:function(e,t){this._$matchLine(e).removeClass("voted-left voted-rigth voted-abstain").addClass("voted-"+t)}},{key:"nextMatchId",value:function(e){var t=this.model.matches.findIndex(function(t){return t.id===e});return(this.model.matches[t+1]||this.model.matches.first()).id}},{key:"prevMatchId",value:function(e){var t=this.model.matches.findIndex(function(t){return t.id===e});return(this.model.matches[t-1]||this.model.matches.last()).id}},{key:"nextNotVotedMatchId",value:function(e){var t=this.votes.find(function(t){return t.match_id!==e&&!t.vote});return t?t.match_id:null}},{key:"_setVotes",value:function(e){var t=this;Object.forEach(e,function(e){e.vote&&t.setVote(e.match_id,e.vote)})}},{key:"_$matchLine",value:function(e){return $(".match-day .match-link[data-id="+e+"]")}},{key:"_initialMatchId",value:function(){return this.$root.data("match_id")||this.$(".match-day .match-link.started:not(.voted-left):not(.voted-right):not(.voted-abstain)").first().data("id")||this.$(".match-day .match-link.started").first().data("id")||this.$(".match-day .match-link").first().data("id")}},{key:"_matchLoaded",value:function(e,t){var n=$(t).process(),r=n.filter(".b-contest_match"),i=this.votes.find(function(t){return t.match_id===e});this.$matchContainer.removeClass("b-ajax").html(n),new o.default(r,i,this);var a=this.$(".match-members .match-member").first();a.is(":appeared")||$.scrollTo(a);var s=r.data("page_url");s&&window.history.replaceState({turbolinks:!0,url:s},"",s)}}]),t}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return o});var r=n(90),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var o=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.fetchUrl=e,r._$content=n,r.isAutocomplete=!0,r}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r["default"]),i(t,[{key:"_responseToHtml",value:function(e){var n=$(function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;return void 0!==a?a.call(r):void 0}(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_responseToHtml",this).call(this,e));return n.find("a").changeTag("span"),n.find(".linkeable, .bubbled").removeClass("linkeable bubbled"),n.filter(".b-db_entry-variant-list_item").each(function(e,t){t.classList.add("linkeable"),t.setAttribute("href",$(t).find(".name .b-link").attr("href"))}),n}},{key:"_searchUrl",value:function(e){return this._url(this.fetchUrl,e)}},{key:"_changeUrl",value:function(e){}},{key:"$content",get:function(){return this._$content}},{key:"phrase",get:function(){return this._phrase},set:function(e){this._phrase=e,Object.isEmpty(this.phrase)||(this._showAjax(),this.debouncedSearch(this.phrase))}}]),t}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return b});var r,i=n(15),o=n.n(i),a=n(32),s=n.n(a),c=n(2),u=n.n(c),l=n(66),d=(n.n(l),n(3)),f=n(132),p=n(90),h=n(254),m=n(24),_=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function g(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var y=".b-db_entry-variant-list_item, .search-mode",b=(g((r=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=v(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(o))),r.isActive=!1,v(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,d["default"]),_(t,[{key:"initialize",value:function(){var e=this;this.$input=this.$(".field input"),this.phrase=this.inputSearchPhrase,this.currentMode=this.hasIndex?"index":this.$root.data("default-mode")||"anime",h.a.on("slash",this._onGlobalSlash),this.$input.on("focus",function(){return e._activate()}).on("change blur paste keyup",function(){return e.phrase=e.inputSearchPhrase}).on("blur",this._onBlur),this.$(".field .clear").on("click",function(){return e._clearPhrase(!0)}),this.$content.on("mousedown",".search-mode",function(t){var n=t.currentTarget;e._selectItem(n)}).on("mouseup",".search-mode",function(){e.$input.focus()}).on("focus mousemove",".b-db_entry-variant-list_item",function(t){var n=t.currentTarget;e.currentItem!==n&&e._selectItem(n,!1)})}},{key:"cancel",value:function(){this._deactivate()}},{key:"_activate",value:function(){this.isActive||(this.isActive=!0,this._toggleGlobalSearch(),this._renderModes(),h.a.on("enter",this._onEnter).on("up",this._onMoveUp).on("down",this._onMoveDown).on("esc",this._onEsc).on("focus",this._tryCloseOnFocus))}},{key:"_deactivate",value:function(){this.isActive&&(this.isActive=!1,this._toggleGlobalSearch(),this.$input.is(":focus")&&this.$input.blur(),h.a.off("enter",this._onEnter).off("esc",this._onEsc).off("up",this._onMoveUp).off("down",this._onMoveDown).off("focus",this._tryCloseOnFocus))}},{key:"_renderModes",value:function(){this.$content.html(m.default["search/options"]({currentMode:this.currentMode,hasIndex:this.hasIndex}))}},{key:"_clearPhrase",value:function(e){this.phrase="",e&&this.$input.focus()}},{key:"_selectItem",value:function(e,t){this._deselectItems(),this.isSearching?this.currentItem=e:this.currentMode=$(e).data("mode"),e.setAttribute("tabindex",0),e.classList.add("active");var n=this.$content.find(".b-db_entry-variant-list_item:focus")[0];n&&n!==e&&$(e).focus(),t&&this._scrollToItem($(e))}},{key:"_deselectItems",value:function(){var e=this.$activeItem[0];e&&(e.setAttribute("tabindex",-1),e.classList.remove("active"))}},{key:"_scrollToItem",value:function(e){var t=e.offset().top,n=e.outerHeight(),r=window.scrollY||document.documentElement.scrollTop,i=$(window).height();t<r?e.is(":first-child")?window.scrollTo(0,0):window.scrollTo(0,t-10):t+n>r+i&&window.scrollTo(0,r+(t+n)-(r+i)+10)}},{key:"_onBlur",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isIndexMode){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,u()();case 4:this.$input.is(":focus")||this.$activeItem.is(":focus")||this._deactivate();case 5:case"end":return e.stop()}},e,this)}),function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}("next")})});return function(){return t.apply(this,arguments)}}()},{key:"_toggleGlobalSearch",value:function(){var e=this.isActive&&(!this.isIndexMode||this.isIndexMode&&Object.isEmpty(this.phrase));$(".l-top_menu-v2").toggleClass("is-search-focus",this.isActive).toggleClass("is-search-shade",e),$(".b-shade").off("click",this._deactivate),e&&$(".b-shade").on("click",this._deactivate)}},{key:"_onGlobalSlash",value:function(e){var t=e.target||e.srcElement;t.isContentEditable||"INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||(e.preventDefault(),e.stopImmediatePropagation(),this.$input.focus(),this.$input[0].setSelectionRange(0,this.$input[0].value.length))}},{key:"_onEnter",value:function(e){if(e.preventDefault(),e.stopImmediatePropagation(),!this.isIndexMode&&this.phrase.trim()){var t=void 0;t=this.$activeItem.length?this.$activeItem.find(".name .b-link").attr("href"):s()(this.$node.data("search_"+this.currentMode+"_url")).removeQuery("search").addQuery({search:this.phrase}),o.a.visit(t)}}},{key:"_onEsc",value:function(e){e.preventDefault(),e.stopImmediatePropagation(),this.cancel()}},{key:"_onMoveUp",value:function(e){var t=this.$activeItem.prev()[0];this.isActive&&(e.preventDefault(),e.stopImmediatePropagation()),t?this._selectItem(t,!0):this.isSearching&&(this._deselectItems(),this.$input.focus())}},{key:"_onMoveDown",value:function(e){var t=this.$activeItem,n=t.length?t.next()[0]:this.$content.find(y).first()[0];this.isActive&&(e.preventDefault(),e.stopImmediatePropagation()),n&&this._selectItem(n,!0)}},{key:"_tryCloseOnFocus",value:function(e){var t=e.target,n=$(t);!(t===this.root||n.closest(this.$root).length)&&n.parents("html").length&&this._deactivate()}},{key:"hasIndex",get:function(){return!!$(".b-search-results").length}},{key:"currentMode",get:function(){return this._currentMode},set:function(e){this._currentMode=e,this.isIndexMode?this.searchEngine=new p.default:this.searchEngine=new f.default(this.$node.data("autocomplete_"+this.currentMode+"_url"),this.$content)}},{key:"isIndexMode",get:function(){return"index"===this.currentMode}},{key:"$content",get:function(){return this.$root.find(".search-results")}},{key:"$activeItem",get:function(){return this.$content.find(y).filter(".active")}},{key:"isSearching",get:function(){return!Object.isEmpty(this.phrase)}},{key:"phrase",get:function(){return this._phrase},set:function(e){var t=e.trim();if(!this._phrase||this._phrase.trim()!==t){var n=this._phrase;this._phrase=e,this.$input[0].value!==e&&(this.$input[0].value=e),this.$input.toggleClass("has-value",!Object.isEmpty(this.phrase)),void 0!==n&&(this.phrase?this.searchEngine.search(t):(this.searchEngine.cancel(),this._renderModes()),this._toggleGlobalSearch())}}},{key:"inputSearchPhrase",get:function(){return this.$input.val().trim()}}]),t}()).prototype,"_deactivate",[l.bind],Object.getOwnPropertyDescriptor(r.prototype,"_deactivate"),r.prototype),g(r.prototype,"_onBlur",[l.bind],Object.getOwnPropertyDescriptor(r.prototype,"_onBlur"),r.prototype),g(r.prototype,"_onGlobalSlash",[l.bind],Object.getOwnPropertyDescriptor(r.prototype,"_onGlobalSlash"),r.prototype),g(r.prototype,"_onEnter",[l.bind],Object.getOwnPropertyDescriptor(r.prototype,"_onEnter"),r.prototype),g(r.prototype,"_onEsc",[l.bind],Object.getOwnPropertyDescriptor(r.prototype,"_onEsc"),r.prototype),g(r.prototype,"_onMoveUp",[l.bind],Object.getOwnPropertyDescriptor(r.prototype,"_onMoveUp"),r.prototype),g(r.prototype,"_onMoveDown",[l.bind],Object.getOwnPropertyDescriptor(r.prototype,"_onMoveDown"),r.prototype),g(r.prototype,"_tryCloseOnFocus",[l.bind],Object.getOwnPropertyDescriptor(r.prototype,"_tryCloseOnFocus"),r.prototype),r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return l});var r,i=n(66),o=(n.n(i),n(3)),a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function c(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var u=/\/\* AUTO=body_background.*?body { background: url\((.+?)\)(.*)}.*[\r\n]?/,l=(c((r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o["default"]),s(t,[{key:"initialize",value:function(){this.cssTemplate=this.$root.data("css_template");var e=this.$("#body_background_input"),t=a(e,1);this.input=t[0];var n=this.$("#body_background_repeat"),r=a(n,1);this.repeat=r[0];var i=this.$("#body_background_fixed"),o=a(i,1);this.fixed=o[0];var s=this.$("#body_background_left"),c=a(s,1);this.left=c[0];var u=this.$("#body_background_top"),l=a(u,1);this.top=l[0];var d=this.$("#body_background_right"),f=a(d,1);this.right=f[0];var p=this.$("#body_background_bottom"),h=a(p,1);this.bottom=h[0],this.$("input").on("paste keyup change",this._syncState),this.$(".prepared-backgrounds li").on("click",this._preparedBackground)}},{key:"update",value:function(e){var t=Array.from(this._extract(e)),n=a(t,7);this.backgroundUrl=n[0],this.isRepeat=n[1],this.isFixed=n[2],this.isLef=n[3],this.isTop=n[4],this.isRight=n[5],this.is_bototm=n[6],this.input.value=this.backgroundUrl||"",this.repeat.checked=this.isRepeat,this.fixed.checked=this.isFixed,this.left.checked=this.isLef,this.top.checked=this.isTop,this.right.checked=this.isRight,this.bottom.checked=this.isBottom}},{key:"_syncState",value:function(){this.backgroundUrl=this.input.value,this.isRepeat=this.repeat.checked,this.isFixed=this.fixed.checked,this.isLef=this.left.checked,this.isTop=this.top.checked,this.isRight=this.right.checked,this.isBottom=this.bottom.checked,this.trigger("component:update",[u,this._compile()])}},{key:"_preparedBackground",value:function(e){this.input.value=$(e.target).data("background"),this.repeat.checked=!0,this.fixed.checked=!1,this.left.checked=!1,this.top.checked=!1,this.right.checked=!1,this.bottom.checked=!1,this._syncState()}},{key:"_extract",value:function(e){var t=e.match(u);return t?[t[1],t[2].match(/ repeat\b/,""),t[2].match(/ fixed\b/,""),t[2].match(/ left\b/,""),t[2].match(/ top\b/,""),t[2].match(/ right\b/,""),t[2].match(/ bottom\b/,"")]:[]}},{key:"_compile",value:function(){if(!this.backgroundUrl)return"";var e=[this.isRepeat?"repeat":"no-repeat"];this.isFixed&&e.push("fixed"),this.isLef&&e.push("left"),this.isTop&&e.push("top"),this.isRight&&e.push("right"),this.isBottom&&e.push("bottom");var t="url("+this.backgroundUrl+") "+e.join(" ");return this.cssTemplate.replace(/%s/,t)}}]),t}()).prototype,"_syncState",[i.bind],Object.getOwnPropertyDescriptor(r.prototype,"_syncState"),r.prototype),c(r.prototype,"_preparedBackground",[i.bind],Object.getOwnPropertyDescriptor(r.prototype,"_preparedBackground"),r.prototype),r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return h});var r,i=n(66),o=(n.n(i),n(3)),a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var c,u,l,d,f,p,h=(r=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o["default"]),s(t,[{key:"initialize",value:function(e){this.cssTemplate=this.$root.data("css_template"),this.regexp=e,this.$input=this.$("input");var t=a(this.$input,1);this.input=t[0],this.$input.on("change",this._syncState)}},{key:"update",value:function(e){this.hasBorder=this._extract(e),this.input.checked=this.hasBorder}},{key:"_extract",value:function(e){return!!e.match(this.regexp)}},{key:"_syncState",value:function(){this.hasBorder=this.input.checked,this.trigger("component:update",[this.regexp,this._compile()])}},{key:"_compile",value:function(){return this.hasBorder?this.cssTemplate:""}}]),t}(),c=r.prototype,u="_syncState",l=[i.bind],d=Object.getOwnPropertyDescriptor(r.prototype,"_syncState"),f=r.prototype,p={},Object.keys(d).forEach(function(e){p[e]=d[e]}),p.enumerable=!!p.enumerable,p.configurable=!!p.configurable,("value"in p||p.initializer)&&(p.writable=!0),p=l.slice().reverse().reduce(function(e,t){return t(c,u,e)||e},p),f&&void 0!==p.initializer&&(p.value=p.initializer?p.initializer.call(f):void 0,p.initializer=void 0),void 0===p.initializer&&(Object.defineProperty(c,u,p),p=null),r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",function(){return l});var r=n(43),i=n(3),o=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function s(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}("next")})}}var c=/\/\* AUTO=page_background_color.*?rgba\((\d+), (\d+), (\d+), (\d+).*[\r\n]?/,u=[255,255,255,1],l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i["default"]),a(t,[{key:"initialize",value:function(){var e=s(regeneratorRuntime.mark(function e(){var t,r,i=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this.$(".range-slider"),r=o(t,1),this.slider=r[0],this.css_template=this.$root.data("css_template"),this.initPromise=n.e(11).then(function(e){i._initSlider(n(549))}.bind(null,n)).catch(n.oe);case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"update",value:function(){var e=s(regeneratorRuntime.mark(function e(t){var n,r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:this.opacities=this._extract(t),n=255-this.opacities.first(),this._silenced(function(){return r.slider.noUiSlider.set(n)});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"_initSlider",value:function(e){var t=this;e.create(this.slider,{range:{min:0,max:12},start:0}),this._silenced(function(){return t.slider.noUiSlider.on("update",function(){return t._debouncedSync()})})}},{key:"_extract",value:function(e){var t=e.match(c);return t?t.slice(1,5).map(function(e){return parseFloat(e).round()}):u}},{key:"_debouncedSync",value:function(){var e=this;this._syncLambda||(this._syncLambda=Object(r.a)(100,function(){return e._syncState()})),this.isSilenced||this._syncLambda()}},{key:"_syncState",value:function(){var e=255-parseFloat(this.slider.noUiSlider.get()).round();this.opacities=[e,e,e,this.opacities[3]],this.trigger("component:update",[c,this._compile()])}},{key:"_compile",value:function(){return 255===this.opacities[0]?"":this.css_template.replace(/%d/,this.opacities[0]).replace(/%d/,this.opacities[1]).replace(/%d/,this.opacities[2]).replace(/%d/,this.opacities[3]).replace(/%d/,this.opacities[0]).replace(/%d/,this.opacities[1]).replace(/%d/,this.opacities[2])}},{key:"_silenced",value:function(e){this.isSilenced=!0,e(),this.isSilenced=!1}}]),t}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i={}.hasOwnProperty;using("Wall"),Wall.Image=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,r["default"]),t.prototype.initialize=function(){var e,t;return this.$image=this.$node.find("img"),e=this._image_sizes(),this.width=e[0],this.height=e[1],t=[this.width,this.height],this.original_width=t[0],this.original_height=t[1],this.ratio=this.width/this.height,this.reset()},t.prototype.reset=function(){var e;return this.positioned=!1,this.left=0,this.top=0,e=[this.original_width,this.original_height],this.width=e[0],this.height=e[1],e},t.prototype.position=function(e,t){return this.left=e,this.top=t,this.positioned=!0},t.prototype.apply=function(){return this.$image.css({width:this.width,height:this.height}),this.$node.css({top:this.top,left:this.left}),this.$node.shikiImage()},t.prototype.normalize=function(e,t){if(this.width>e&&this.scale_width(e),this.height>t)return this.scale_height(t)},t.prototype.scale_width=function(e){return this.height*=e/this.width,this.width=e},t.prototype.scale_height=function(e){return this.width*=e/this.height,this.height=e},t.prototype.scale=function(e){return this.width*=e,this.height*=e},t.prototype.weight=function(){return this.ratio.round(1)},t.prototype._image_sizes=function(){return[1*this.$image[0].naturalWidth,1*this.$image[0].naturalHeight]},t}()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){!function(e,t,n){e.migrateVersion="1.3.0",e.migrateMute=!0;var r={};function i(n){var i=t.console;r[n]||(r[n]=!0,e.migrateWarnings.push(n),i&&i.warn&&!e.migrateMute&&(i.warn("JQMIGRATE: "+n),e.migrateTrace&&i.trace&&i.trace()))}function o(t,n,r,o){if(Object.defineProperty)try{return void Object.defineProperty(t,n,{configurable:!0,enumerable:!0,get:function(){return i(o),r},set:function(e){i(o),r=e}})}catch(e){}e._definePropertyBroken=!0,t[n]=r}e.migrateWarnings=[],!e.migrateMute&&t.console&&t.console.log&&t.console.log("JQMIGRATE: Logging is active"),void 0===e.migrateTrace&&(e.migrateTrace=!0),e.migrateReset=function(){r={},e.migrateWarnings.length=0},"BackCompat"===document.compatMode&&i("jQuery is not compatible with Quirks Mode");var a=e("<input/>",{size:1}).attr("size")&&e.attrFn,s=e.attr,c=e.attrHooks.value&&e.attrHooks.value.get||function(){return null},u=e.attrHooks.value&&e.attrHooks.value.set||function(){},l=/^(?:input|button)$/i,d=/^[238]$/,f=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,p=/^(?:checked|selected)$/i;o(e,"attrFn",a||{},"jQuery.attrFn is deprecated"),e.attr=function(t,n,r,o){var c=n.toLowerCase(),u=t&&t.nodeType;return o&&(s.length<4&&i("jQuery.fn.attr( props, pass ) is deprecated"),t&&!d.test(u)&&(a?n in a:e.isFunction(e.fn[n])))?e(t)[n](r):("type"===n&&void 0!==r&&l.test(t.nodeName)&&t.parentNode&&i("Can't change the 'type' of an input or button in IE 6/7/8"),!e.attrHooks[c]&&f.test(c)&&(e.attrHooks[c]={get:function(t,n){var r,i=e.prop(t,n);return!0===i||"boolean"!==typeof i&&(r=t.getAttributeNode(n))&&!1!==r.nodeValue?n.toLowerCase():void 0},set:function(t,n,r){var i;return!1===n?e.removeAttr(t,r):((i=e.propFix[r]||r)in t&&(t[i]=!0),t.setAttribute(r,r.toLowerCase())),r}},p.test(c)&&i("jQuery.fn.attr('"+c+"') might use property instead of attribute")),s.call(e,t,n,r))},e.attrHooks.value={get:function(e,t){var n=(e.nodeName||"").toLowerCase();return"button"===n?c.apply(this,arguments):("input"!==n&&"option"!==n&&i("jQuery.fn.attr('value') no longer gets properties"),t in e?e.value:null)},set:function(e,t){var n=(e.nodeName||"").toLowerCase();if("button"===n)return u.apply(this,arguments);"input"!==n&&"option"!==n&&i("jQuery.fn.attr('value', val) no longer sets properties"),e.value=t}};var h,m,_=e.fn.init,v=e.parseJSON,g=/^\s*</,y=/^([^<]*)(<[\w\W]+>)([^>]*)$/;e.fn.init=function(t,n,r){var o,a;return t&&"string"===typeof t&&!e.isPlainObject(n)&&(o=y.exec(e.trim(t)))&&o[0]&&(g.test(t)||i("$(html) HTML strings must start with '<' character"),o[3]&&i("$(html) HTML text after last tag is ignored"),"#"===o[0].charAt(0)&&(i("HTML string cannot start with a '#' character"),e.error("JQMIGRATE: Invalid selector string (XSS)")),n&&n.context&&(n=n.context),e.parseHTML)?_.call(this,e.parseHTML(o[2],n&&n.ownerDocument||n||document,!0),n,r):("#"===t&&(i("jQuery( '#' ) is not a valid selector"),t=[]),a=_.apply(this,arguments),t&&void 0!==t.selector?(a.selector=t.selector,a.context=t.context):(a.selector="string"===typeof t?t:"",t&&(a.context=t.nodeType?t:n||document)),a)},e.fn.init.prototype=e.fn,e.parseJSON=function(e){return e?v.apply(this,arguments):(i("jQuery.parseJSON requires a valid JSON string"),null)},e.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e.browser||(m={},(h=e.uaMatch(navigator.userAgent)).browser&&(m[h.browser]=!0,m.version=h.version),m.chrome?m.webkit=!0:m.webkit&&(m.safari=!0),e.browser=m),o(e,"browser",e.browser,"jQuery.browser is deprecated"),e.boxModel=e.support.boxModel="CSS1Compat"===document.compatMode,o(e,"boxModel",e.boxModel,"jQuery.boxModel is deprecated"),o(e.support,"boxModel",e.support.boxModel,"jQuery.support.boxModel is deprecated"),e.sub=function(){function t(e,n){return new t.fn.init(e,n)}e.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(r,i){var o=e.fn.init.call(this,r,i,n);return o instanceof t?o:t(o)},t.fn.init.prototype=t.fn;var n=t(document);return i("jQuery.sub() is deprecated"),t},e.fn.size=function(){return i("jQuery.fn.size() is deprecated; use the .length property"),this.length};var b=!1;e.swap&&e.each(["height","width","reliableMarginRight"],function(t,n){var r=e.cssHooks[n]&&e.cssHooks[n].get;r&&(e.cssHooks[n].get=function(){var e;return b=!0,e=r.apply(this,arguments),b=!1,e})}),e.swap=function(e,t,n,r){var o,a,s={};for(a in b||i("jQuery.swap() is undocumented and deprecated"),t)s[a]=e.style[a],e.style[a]=t[a];for(a in o=n.apply(e,r||[]),t)e.style[a]=s[a];return o},e.ajaxSetup({converters:{"text json":e.parseJSON}});var w=e.fn.data;e.fn.data=function(t){var n,r,o=this[0];return!o||"events"!==t||1!==arguments.length||(n=e.data(o,t),r=e._data(o,t),void 0!==n&&n!==r||void 0===r)?w.apply(this,arguments):(i("Use of jQuery.fn.data('events') is deprecated"),r)};var $=/\/(java|ecma)script/i;e.clean||(e.clean=function(t,n,r,o){n=(n=!(n=n||document).nodeType&&n[0]||n).ownerDocument||n,i("jQuery.clean() is deprecated");var a,s,c,u,l=[];if(e.merge(l,e.buildFragment(t,n).childNodes),r)for(c=function(e){if(!e.type||$.test(e.type))return o?o.push(e.parentNode?e.parentNode.removeChild(e):e):r.appendChild(e)},a=0;null!=(s=l[a]);a++)e.nodeName(s,"script")&&c(s)||(r.appendChild(s),"undefined"!==typeof s.getElementsByTagName&&(u=e.grep(e.merge([],s.getElementsByTagName("script")),c),l.splice.apply(l,[a+1,0].concat(u)),a+=u.length));return l});var k=e.event.add,x=e.event.remove,j=e.event.trigger,C=e.fn.toggle,O=e.fn.live,S=e.fn.die,T=e.fn.load,P="ajaxStart|ajaxStop|ajaxSend|ajaxComplete|ajaxError|ajaxSuccess",E=new RegExp("\\b(?:"+P+")\\b"),I=/(?:^|\s)hover(\.\S+|)\b/,A=function(t){return"string"!==typeof t||e.event.special.hover?t:(I.test(t)&&i("'hover' pseudo-event is deprecated, use 'mouseenter mouseleave'"),t&&t.replace(I,"mouseenter$1 mouseleave$1"))};e.event.props&&"attrChange"!==e.event.props[0]&&e.event.props.unshift("attrChange","attrName","relatedNode","srcElement"),e.event.dispatch&&o(e.event,"handle",e.event.dispatch,"jQuery.event.handle is undocumented and deprecated"),e.event.add=function(e,t,n,r,o){e!==document&&E.test(t)&&i("AJAX events should be attached to document: "+t),k.call(this,e,A(t||""),n,r,o)},e.event.remove=function(e,t,n,r,i){x.call(this,e,A(t)||"",n,r,i)},e.each(["load","unload","error"],function(t,n){e.fn[n]=function(){var e=Array.prototype.slice.call(arguments,0);return i("jQuery.fn."+n+"() is deprecated"),"load"===n&&"string"===typeof arguments[0]?T.apply(this,arguments):(e.splice(0,0,n),arguments.length?this.bind.apply(this,e):(this.triggerHandler.apply(this,e),this))}}),e.fn.toggle=function(t,n){if(!e.isFunction(t)||!e.isFunction(n))return C.apply(this,arguments);i("jQuery.fn.toggle(handler, handler...) is deprecated");var r=arguments,o=t.guid||e.guid++,a=0,s=function(n){var i=(e._data(this,"lastToggle"+t.guid)||0)%a;return e._data(this,"lastToggle"+t.guid,i+1),n.preventDefault(),r[i].apply(this,arguments)||!1};for(s.guid=o;a<r.length;)r[a++].guid=o;return this.click(s)},e.fn.live=function(t,n,r){return i("jQuery.fn.live() is deprecated"),O?O.apply(this,arguments):(e(this.context).on(t,this.selector,n,r),this)},e.fn.die=function(t,n){return i("jQuery.fn.die() is deprecated"),S?S.apply(this,arguments):(e(this.context).off(t,this.selector||"**",n),this)},e.event.trigger=function(e,t,n,r){return n||E.test(e)||i("Global events are undocumented and deprecated"),j.call(this,e,t,n||document,r)},e.each(P.split("|"),function(t,n){e.event.special[n]={setup:function(){var t=this;return t!==document&&(e.event.add(document,n+"."+e.guid,function(){e.event.trigger(n,Array.prototype.slice.call(arguments,1),t,!0)}),e._data(this,n,e.guid++)),!1},teardown:function(){return this!==document&&e.event.remove(document,n+"."+e._data(this,n)),!1}}}),e.event.special.ready={setup:function(){i("'ready' event is deprecated")}};var M=e.fn.andSelf||e.fn.addBack,R=e.fn.find;if(e.fn.andSelf=function(){return i("jQuery.fn.andSelf() replaced by jQuery.fn.addBack()"),M.apply(this,arguments)},e.fn.find=function(e){var t=R.apply(this,arguments);return t.context=this.context,t.selector=this.selector?this.selector+" "+e:e,t},e.Callbacks){var L=e.Deferred,D=[["resolve","done",e.Callbacks("once memory"),e.Callbacks("once memory"),"resolved"],["reject","fail",e.Callbacks("once memory"),e.Callbacks("once memory"),"rejected"],["notify","progress",e.Callbacks("memory"),e.Callbacks("memory")]];e.Deferred=function(t){var n=L(),r=n.promise();return n.pipe=r.pipe=function(){var t=arguments;return i("deferred.pipe() is deprecated"),e.Deferred(function(i){e.each(D,function(o,a){var s=e.isFunction(t[o])&&t[o];n[a[1]](function(){var t=s&&s.apply(this,arguments);t&&e.isFunction(t.promise)?t.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[a[0]+"With"](this===r?i.promise():this,s?[t]:arguments)})}),t=null}).promise()},n.isResolved=function(){return i("deferred.isResolved is deprecated"),"resolved"===n.state()},n.isRejected=function(){return i("deferred.isRejected is deprecated"),"rejected"===n.state()},t&&t.call(n,n),n}}}(jQuery,window)},function(e,t){$.fn.extend({autocomplete:function(e,t){var n="string"==typeof e;return(t=$.extend({},$.Autocompleter.defaults,{url:n?e:null,data:n?null:e,delay:n?$.Autocompleter.defaults.delay:10,max:t&&!t.scroll?10:150},t)).highlight=t.highlight||function(e){return e},t.formatMatch=t.formatMatch||t.formatItem,this.each(function(){new $.Autocompleter(this,t)})},result:function(e){return this.bind("result",e)},search:function(e){return this.trigger("search",[e])},flushCache:function(){return this.trigger("flushCache")},setOptions:function(e){return this.trigger("setOptions",[e])},unautocomplete:function(){return this.trigger("unautocomplete")}}),$.Autocompleter=function(e,t){var n,r,i,o={UP:38,DOWN:40,DEL:46,RETURN:13,ESC:27,COMMA:188,PAGEUP:33,PAGEDOWN:34,BACKSPACE:8},a=$(e).attr("autocomplete","off").addClass(t.inputClass),s="",c=$.Autocompleter.Cache(t),u=0,l={mouseDownOnSelect:!1},d=$.Autocompleter.Select(t,e,f,l);function f(){var n=d.selected();if(!n)return a.trigger("result"),!1;var r=n.result;if(s=r,t.multiple){var i=h(a.val());if(i.length>1){var o,c=t.multipleSeparator.length,u=$(e).selection().start,l=0;$.each(i,function(e,t){if(l+=t.length,u<=l)return o=e,!1;l+=c}),i[o]=r,r=i.join(t.multipleSeparator)}r+=t.multipleSeparator}return a.val(r),_(),a.trigger("result",[n]),!0}function p(e,n){if(g())if(r!=o.DEL){var i=encodeURIComponent(a.val());(n||i!=s)&&(s=i,(i=m(i)).length>=t.minChars&&!i.match(/^https?(?::\/\/|%3A%2F%2F)/)?(a.addClass(t.loadingClass),t.matchCase||(i=i.toLowerCase()),y(i,v,_)):(b(),d.hide()))}else d.hide()}function h(e){return e?t.multiple?$.map(e.split(t.multipleSeparator),function(t){return $.trim(e).length?$.trim(t):null}):[$.trim(e)]:[""]}function m(n){if(!t.multiple)return n;var r=h(n);if(1==r.length)return r[0];var i=$(e).selection().start;return(r=i==n.length?h(n):h(n.replace(n.substring(i),"")))[r.length-1]}function _(){d.visible();d.hide(),clearTimeout(n),b(),t.mustMatch&&a.search(function(e){if(!e)if(t.multiple){var n=h(a.val()).slice(0,-1);a.val(n.join(t.multipleSeparator)+(n.length?t.multipleSeparator:""))}else a.val(""),a.trigger("result",null)})}function v(n,i){i&&i.length&&u?(b(),d.display(i,n),function(n,i){t.autoFill&&m(a.val()).toLowerCase()==n.toLowerCase()&&r!=o.BACKSPACE&&(a.val(a.val()+i.substring(m(s).length)),$(e).selection(s.length,s.length+i.length))}(n,i[0].value),d.show()):_()}function g(){return t.url.match(/^data-/)?a.data(t.url.replace(/^data-/,"")):t.url}function y(n,r,i){t.matchCase||(n=n.toLowerCase());var o=c.load(n);if(o&&o.length)r(n,o);else if("string"==typeof t.url&&t.url.length>0){var a={timestamp:+new Date};$.each(t.extraParams,function(e,t){a[e]="function"==typeof t?t():t}),arguments.callee.$ajax&&arguments.callee.$ajax.abort(),arguments.callee.$ajax=$.ajax({mode:"abort",port:"autocomplete"+e.name,dataType:t.dataType,url:g().match(/\?/)?g()+"&search="+m(n):g()+"?search="+m(n),success:function(e){var i=t.parse&&t.parse(e)||function(e){for(var n=[],r=e.split("\n"),i=0;i<r.length;i++){var o=$.trim(r[i]);o&&(o=o.split("|"),n[n.length]={data:o,value:o[0],result:t.formatResult&&t.formatResult(o,o[0])||o[0]})}return n}(e);c.add(n,i),r(n,i)}})}else d.emptyList(),i(n)}function b(){a.removeClass(t.loadingClass)}$.browser.opera&&$(e.form).bind("submit.autocomplete",function(){if(i)return i=!1,!1}),a.bind(($.browser.opera?"keypress":"keydown")+".autocomplete",function(e){switch(u=1,r=e.keyCode,e.keyCode){case o.UP:e.preventDefault(),d.visible()?d.prev():p(0,!0);break;case o.DOWN:e.preventDefault(),d.visible()?d.next():p(0,!0);break;case o.PAGEUP:e.preventDefault(),d.visible()?d.pageUp():p(0,!0);break;case o.PAGEDOWN:e.preventDefault(),d.visible()?d.pageDown():p(0,!0);break;case t.multiple&&","==$.trim(t.multipleSeparator)&&o.COMMA:case o.RETURN:if(f())return e.preventDefault(),i=!0,!1;e.preventDefault();break;case o.ESC:d.hide();break;default:clearTimeout(n),n=setTimeout(p,t.delay)}}).focus(function(){u++}).blur(function(){u=0,l.mouseDownOnSelect||(clearTimeout(n),n=setTimeout(_,200))}).click(function(){u++>1&&!d.visible()&&p(0,!0)}).bind("search",function(){var e=arguments.length>1?arguments[1]:null;function t(t,n){var r;if(n&&n.length)for(var i=0;i<n.length;i++)if(n[i].result.toLowerCase()==t.toLowerCase()){r=n[i];break}"function"==typeof e?e(r):a.trigger("result",r&&[r.data,r.value])}$.each(h(a.val()),function(e,n){y(n,t,t)})}).bind("flushCache",function(){c.flush()}).bind("setOptions",function(){$.extend(t,arguments[1]),"data"in arguments[1]&&c.populate()}).bind("unautocomplete",function(){d.unbind(),a.unbind(),$(e.form).unbind(".autocomplete")})},$.Autocompleter.defaults={inputClass:"ac_input",resultsClass:"ac_results",loadingClass:"ac_loading",minChars:1,delay:400,matchCase:!1,matchSubset:!0,matchContains:!1,cacheLength:10,max:100,mustMatch:!1,extraParams:{},selectFirst:!0,formatItem:function(e){return e[0]},formatMatch:null,autoFill:!1,width:0,multiple:!1,multipleSeparator:", ",highlight:function(e,t){return e.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+t.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>")},scroll:!0,scrollHeight:180},$.Autocompleter.Cache=function(e){var t={},n=0;function r(t,n){e.matchCase||(t=t.toLowerCase());var r=t.indexOf(n);return"word"==e.matchContains&&(r=t.toLowerCase().search("\\b"+n.toLowerCase())),-1!=r&&(0==r||e.matchContains)}function i(r,i){n>e.cacheLength&&a(),t[r]||n++,t[r]=i}function o(){if(!e.data)return!1;var t={},n=0;e.url||(e.cacheLength=1),t[""]=[];for(var r=0,o=e.data.length;r<o;r++){var a=e.data[r];a="string"==typeof a?[a]:a;var s=e.formatMatch(a,r+1,e.data.length);if("undefined"!==typeof s&&!1!==s){var c=s.charAt(0).toLowerCase();t[c]||(t[c]=[]);var u={value:s,data:a,result:e.formatResult&&e.formatResult(a)||s};t[c].push(u),n++<e.max&&t[""].push(u)}}$.each(t,function(t,n){e.cacheLength++,i(t,n)})}function a(){t={},n=0}return setTimeout(o,25),{flush:a,add:i,populate:o,load:function(i){if(!e.cacheLength||!n)return null;if(!e.url&&e.matchContains){var o=[];for(var a in t)if(a.length>0){var s=t[a];$.each(s,function(e,t){r(t.value,i)&&o.push(t)})}return o}if(t[i])return t[i];if(e.matchSubset)for(var c=i.length-1;c>=e.minChars;c--){if(s=t[i.substr(0,c)]){o=[];return $.each(s,function(e,t){r(t.value,i)&&(o[o.length]=t)}),o}}return null}}},$.Autocompleter.Select=function(e,t,n,r){var i,o,a,s,c={ACTIVE:"ac_over"},u=-1,l="",d=!0;function f(e){for(var t=e.target;t&&"LI"!=t.tagName;)t=t.parentNode;return t||[]}function p(t){i.slice(u,u+1).removeClass(c.ACTIVE),function(e){(u+=e)<0?u=i.size()-1:u>=i.size()&&(u=0)}(t);var n=i.slice(u,u+1).addClass(c.ACTIVE);if(e.scroll){var r=0;i.slice(0,u).each(function(){r+=this.offsetHeight}),r+n[0].offsetHeight-s.scrollTop()>s[0].clientHeight?s.scrollTop(r+n[0].offsetHeight-s.innerHeight()):r<s.scrollTop()&&s.scrollTop(r)}}function h(){s.empty();for(var t,n=(t=o.length,e.max&&e.max<t?e.max:t),r=0;r<n;r++)if(o[r]){var a=e.formatItem(o[r],r+1,n);if(!1!==a){var d=$("<li/>").html(e.highlight(a,l)).addClass(r%2==0?"ac_even":"ac_odd").appendTo(s)[0];$.data(d,"ac_data",o[r])}}i=s.find("li"),e.selectFirst&&(i.slice(0,1).addClass(c.ACTIVE),u=0),$.fn.bgiframe&&s.bgiframe()}return{display:function(i,p){d&&(a=$("<div/>").hide().addClass(e.resultsClass).css("position","absolute").appendTo(document.body),s=$("<ul/>").appendTo(a).mouseover(function(e){f(e).nodeName&&"LI"==f(e).nodeName.toUpperCase()&&(u=$("li",s).removeClass(c.ACTIVE).index(f(e)),$(f(e)).addClass(c.ACTIVE))}).click(function(e){return $(f(e)).addClass(c.ACTIVE),n(),t.focus(),!1}).mousedown(function(){r.mouseDownOnSelect=!0}).mouseup(function(){r.mouseDownOnSelect=!1}),e.width>0&&a.css("width",e.width),d=!1),o=i,l=p,h()},next:function(){p(1)},prev:function(){p(-1)},pageUp:function(){p(0!=u&&u-8<0?-u:-8)},pageDown:function(){u!=i.size()-1&&u+8>i.size()?p(i.size()-1-u):p(8)},hide:function(){a&&a.hide(),i&&i.removeClass(c.ACTIVE),u=-1},visible:function(){return a&&a.is(":visible")},current:function(){return this.visible()&&(i.filter("."+c.ACTIVE)[0]||e.selectFirst&&i[0])},show:function(){var n="$anchor"in e&&e.$anchor?e.$anchor.offset():$(t).offset();if(a.css({width:"string"==typeof e.width||e.width>0?e.width:$(t).width(),top:n.top+t.offsetHeight,left:n.left}).show(),e.scroll&&(s.scrollTop(0),s.css({maxHeight:e.scrollHeight,overflow:"auto"}),-1!=navigator.userAgent.indexOf("MSIE")&&"undefined"===typeof document.body.style.maxHeight)){var r=0;i.each(function(){r+=this.offsetHeight});var o=r>e.scrollHeight;s.css("height",o?e.scrollHeight:r),o||i.width(s.width()-parseInt(i.css("padding-left"))-parseInt(i.css("padding-right")))}},selected:function(){var e=i&&i.filter("."+c.ACTIVE).removeClass(c.ACTIVE);return e&&e.length&&$.data(e[0],"ac_data")},emptyList:function(){s&&s.empty()},unbind:function(){a&&a.remove()}}},$.fn.selection=function(e,t){if(void 0!==e)return this.each(function(){if(this.createTextRange){var n=this.createTextRange();void 0===t||e==t?(n.move("character",e),n.select()):(n.collapse(!0),n.moveStart("character",e),n.moveEnd("character",t),n.select())}else this.setSelectionRange?this.setSelectionRange(e,t):this.selectionStart&&(this.selectionStart=e,this.selectionEnd=t)});var n=this[0];if(n.createTextRange){var r=document.selection.createRange(),i=n.value,o=r.text.length;r.text="<->";var a=n.value.indexOf("<->");return n.value=i,this.selection(a,a+o),{start:a,end:a+o}}return void 0!==n.selectionStart?{start:n.selectionStart,end:n.selectionEnd}:void 0}},function(e,t){var n,r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(n=jQuery).extend(n,{cacheImage:function(e,t){if("object"!==("undefined"===typeof e?"undefined":r(e))){var i=new Image;return t=t||{},n.each(["load","error","abort"],function(){var e=String(this);"function"===typeof t[e]&&n(i).bind(e,t[e]),"function"===typeof t.complete&&n(i).bind(e,t.complete)}),i.src=e,i}n.each(e,function(){n.cacheImage(String(this),t)})}}),n.extend(n.fn,{cacheImage:function(e){return this.each(function(){n.cacheImage(this.src,e)})}})},function(e,t){!function(e){function t(t){var r;return t&&t.constructor==Array&&3==t.length?t:(r=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(t))?[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])]:(r=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(t))?[2.55*parseFloat(r[1]),2.55*parseFloat(r[2]),2.55*parseFloat(r[3])]:(r=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(t))?[parseInt(r[1],16),parseInt(r[2],16),parseInt(r[3],16)]:(r=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(t))?[parseInt(r[1]+r[1],16),parseInt(r[2]+r[2],16),parseInt(r[3]+r[3],16)]:(r=/rgba\(0, 0, 0, 0\)/.exec(t))?n.transparent:n[e.trim(t).toLowerCase()]}e.each(["backgroundColor","borderBottomColor","borderLeftColor","borderRightColor","borderTopColor","color","outlineColor"],function(n,r){e.fx.step[r]=function(n){n.colorInit||(n.start=function(n,r){var i;do{if(""!=(i=e.css(n,r))&&"transparent"!=i||e.nodeName(n,"body"))break;r="backgroundColor"}while(n=n.parentNode);return t(i)}(n.elem,r),n.end=t(n.end),n.colorInit=!0),n.elem.style[r]="rgb("+[Math.max(Math.min(parseInt(n.pos*(n.end[0]-n.start[0])+n.start[0]),255),0),Math.max(Math.min(parseInt(n.pos*(n.end[1]-n.start[1])+n.start[1]),255),0),Math.max(Math.min(parseInt(n.pos*(n.end[2]-n.start[2])+n.start[2]),255),0)].join(",")+")"}});var n={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0],transparent:[255,255,255]}}(jQuery)},function(e,t){jQuery.cookie=function(e,t,n){if(arguments.length>1&&"[object Object]"!==String(t)){if(n=jQuery.extend({},n),null!==t&&void 0!==t||(n.expires=-1),"number"===typeof n.expires){var r=n.expires,i=n.expires=new Date;i.setDate(i.getDate()+r)}return t=String(t),document.cookie=[encodeURIComponent(e),"=",n.raw?t:encodeURIComponent(t),n.expires?"; expires="+n.expires.toUTCString():"",n.path?"; path="+n.path:"",n.domain?"; domain="+n.domain:"",n.secure?"; secure":""].join("")}var o,a=(n=t||{}).raw?function(e){return e}:decodeURIComponent;return(o=new RegExp("(?:^|; )"+encodeURIComponent(e)+"=([^;]*)").exec(document.cookie))?a(o[1]):null}},function(e,t){var n;jQuery&&((n=jQuery).cursorMessageData={},n(window).ready(function(e){0==n("#cursorMessageDiv").length&&(n("body").append('<div id="cursorMessageDiv">&nbsp;</div>'),n("#cursorMessageDiv").hide()),n("body").mousemove(function(e){n.cursorMessageData.mouseX=e.pageX,n.cursorMessageData.mouseY=e.pageY,void 0!=n.cursorMessageData.options&&n._showCursorMessage()})}),n.extend({cursorMessage:function(e,t){void 0==e&&(e="<div class='ajax-loading cursor' />"),void 0==t&&(t={}),void 0==t.offsetX&&(t.offsetX=5),void 0==t.offsetY&&(t.offsetY=5),void 0==t.hideTimeout&&(t.hideTimeout=0),n("#cursorMessageDiv").html(e).show(),void 0!=jQuery.cursorMessageData.hideTimeoutId&&clearTimeout(jQuery.cursorMessageData.hideTimeoutId),t.hideTimeout>0&&(jQuery.cursorMessageData.hideTimeoutId=setTimeout(n.hideCursorMessage,t.hideTimeout)),jQuery.cursorMessageData.options=t,n._showCursorMessage()},hideCursorMessage:function(){n("#cursorMessageDiv").stop().hide()},_showCursorMessage:function(){n("#cursorMessageDiv").css({top:n.cursorMessageData.mouseY+n.cursorMessageData.options.offsetY+"px",left:n.cursorMessageData.mouseX+n.cursorMessageData.options.offsetX})}}))},function(e,t){!function(e){e.detectSwipe={version:"2.1.1",enabled:"ontouchstart"in document.documentElement,preventDefault:!0,threshold:20};var t,n,r=!1;function i(){this.removeEventListener("touchmove",o),this.removeEventListener("touchend",i),r=!1}function o(o){if(e.detectSwipe.preventDefault&&o.preventDefault(),r){var a,s=o.touches[0].pageX,c=o.touches[0].pageY,u=t-s,l=n-c;if(Math.abs(u)>=e.detectSwipe.threshold/2&&Math.abs(l)>=e.detectSwipe.threshold/2)return;Math.abs(u)>=e.detectSwipe.threshold?a=u>0?"left":"right":Math.abs(l)>=e.detectSwipe.threshold&&(a=l>0?"down":"up"),a&&(i.call(this),e(this).trigger("swipe",a).trigger("swipe"+a))}}function a(e){1==e.touches.length&&(t=e.touches[0].pageX,n=e.touches[0].pageY,r=!0,this.addEventListener("touchmove",o,!1),this.addEventListener("touchend",i,!1))}e.event.special.swipe={setup:function(){this.addEventListener&&this.addEventListener("touchstart",a,!1)}},e.each(["left","up","down","right"],function(){e.event.special["swipe"+this]={setup:function(){e(this).on("swipe",e.noop)}}})}(jQuery)},function(e,t){var n;(n=jQuery).fn.featureList=function(e){var t=n(this),r=n(e.output);return new jQuery.featureList(t,r,e),this},n.featureList=function(e,t,r){function i(n){"undefined"==typeof n&&(n=(n=a+1)>=o?0:n),e.removeClass("current").filter(":eq("+n+")").addClass("current"),t.stop(!0,!0).filter(":visible").fadeOut(),t.filter(":eq("+n+")").fadeIn(function(){a=n})}r=r||{};var o=e.length,a=r.start_item||0;if(r.pause_on_hover=r.pause_on_hover||!0,r.transition_interval=r.transition_interval||5e3,t.hide().eq(a).show(),e.eq(a).addClass("current"),e.click(function(){if(n(this).hasClass("current"))return!1;i(e.index(this))}),r.transition_interval>0){var s=setInterval(function(){i()},r.transition_interval);r.pause_on_hover&&e.mouseenter(function(){clearInterval(s)}).mouseleave(function(){clearInterval(s),s=setInterval(function(){i()},r.transition_interval)})}}},function(e,t){!function(e){jQuery.event.props.push("dataTransfer");var t={fallback_id:"",url:"",refresh:1e3,paramname:"userfile",requestType:"POST",allowedfileextensions:[],allowedfiletypes:[],maxfiles:25,maxfilesize:1,queuefiles:0,queuewait:200,data:{},headers:{},drop:r,dragStart:r,dragEnter:r,dragOver:r,dragLeave:r,docEnter:r,docOver:r,docLeave:r,beforeEach:r,afterAll:r,rename:r,error:function(e,t,n,r){alert(e)},uploadStarted:r,uploadFinished:r,progressUpdated:r,globalProgressUpdated:r,speedUpdated:r},n=["BrowserNotSupported","TooManyFiles","FileTooLarge","FileTypeNotAllowed","NotFound","NotReadable","AbortError","ReadError","FileExtensionNotAllowed"];function r(){}e.fn.filedrop=function(r){var i,o,a=e.extend({},t,r),s=[],c=!1,u=0;function l(t,n,r,i){var o="\r\n",s="",c=a.paramname;if(a.data){var u=e.param(a.data).replace(/\+/g,"%20").split(/&/);e.each(u,function(){var e=this.split("=",2),t=decodeURIComponent(e[0]),n=decodeURIComponent(e[1]);2===e.length&&(s+="--",s+=i,s+=o,s+='Content-Disposition: form-data; name="'+t+'"',s+=o,s+=o,s+=n,s+=o)})}return jQuery.isFunction(c)&&(c=c(t)),s+="--",s+=i,s+=o,s+='Content-Disposition: form-data; name="'+(c||"")+'"',s+='; filename="'+encodeURIComponent(t)+'"',s+=o,s+="Content-Type: "+r,s+=o,s+=o,s+=n,s+=o,s+="--",s+=i,s+="--",s+=o}function d(e){if(e.lengthComputable){var t=Math.round(100*e.loaded/e.total);if(this.currentProgress!==t){this.currentProgress=t,a.progressUpdated(this.index,this.file,this.currentProgress),s[this.global_progress_index]=this.currentProgress,f();var n=(new Date).getTime(),r=n-this.currentStart;if(r>=a.refresh){var i=(e.loaded-this.startData)/r;a.speedUpdated(this.index,this.file,i),this.startData=e.loaded,this.currentStart=n}}}}function f(){if(0!==s.length){var e,t=0;for(e in s)s.hasOwnProperty(e)&&(t+=s[e]);a.globalProgressUpdated(Math.round(t/s.length))}}function p(){if(c=!1,!o)return a.error(n[0]),!1;if(a.allowedfiletypes.push&&a.allowedfiletypes.length)for(var t=o.length;t--;)if(!o[t].type||e.inArray(o[t].type,a.allowedfiletypes)<0)return a.error(n[3],o[t]),!1;if(a.allowedfileextensions.push&&a.allowedfileextensions.length)for(t=o.length;t--;){var r=!1;for(g=0;g<a.allowedfileextensions.length;g++)o[t].name.substr(o[t].name.length-a.allowedfileextensions[g].length).toLowerCase()==a.allowedfileextensions[g].toLowerCase()&&(r=!0);if(!r)return a.error(n[8],o[t]),!1}var i=0,p=0;if(u>a.maxfiles&&0===a.queuefiles)return a.error(n[1]),!1;for(var h=[],_=[],v=[],g=0;g<u;g++)h.push(g);var y=function(e){setTimeout(b,e)},b=function e(){var t,r;if(c)return!1;if(a.queuefiles>0&&_.length>=a.queuefiles)return y(a.queuewait);t=h[0],h.splice(0,1),_.push(t);try{if(!1!==(r=o[t],a.beforeEach(r))){if(t===u)return;var i=new FileReader,s=1048576*a.maxfilesize;if(i.index=t,o[t].size>s)throw n[2];i.onerror=function(e,t,r){switch(e.target.error.code){case e.target.error.NOT_FOUND_ERR:return a.error(n[4]),!1;case e.target.error.NOT_READABLE_ERR:return a.error(n[5]),!1;case e.target.error.ABORT_ERR:return a.error(n[6]),!1;default:return a.error(n[7]),!1}},i.onloadend=a.beforeSend?function(e){a.beforeSend(o[t],t,function(){w(e)})}:w,i.readAsDataURL(o[t])}else p++}catch(e){_.forEach(function(e,n){e===t&&_.splice(n,1)}),a.error(e)}h.length>0?e():_.length||m()},w=function(t){var n=(t.srcElement||t.target).index;void 0===t.target.index&&(t.target.index=function(e){for(var t=0;t<u;t++)if(o[t].size===e)return t;return}(t.total));var r,h,g=new XMLHttpRequest,y=g.upload,b=o[t.target.index],w=t.target.index,$=(new Date).getTime(),k="------multipartformboundary"+(new Date).getTime(),x=s.length,j=(h=b.name,a.rename(h)),C=b.type;a.withCredentials&&(g.withCredentials=a.withCredentials);var O=atob(t.target.result.split(",")[1]);r=l("string"===typeof j?j:b.name,O,C,k),y.index=w,y.file=b,y.downloadStartTime=$,y.currentStart=$,y.currentProgress=0,y.global_progress_index=x,y.startData=0,y.addEventListener("progress",d,!1),jQuery.isFunction(a.url)?g.open(a.requestType,a.url(),!0):g.open(a.requestType,a.url,!0),g.setRequestHeader("content-type","multipart/form-data; boundary="+k),g.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.each(a.headers,function(e,t){g.setRequestHeader(e,t)}),g._sendAsBinary||(g._sendAsBinary=function(e){var t=Array.prototype.map.call(e,function(e){return 255&e.charCodeAt(0)}),n=new Uint8Array(t);this.send(n.buffer)}),g._sendAsBinary(r),s[x]=0,f(),a.uploadStarted(w,b,u),g.onload=function(){var e=null;if(g.responseText)try{e=jQuery.parseJSON(g.responseText)}catch(t){e=g.responseText}var t=(new Date).getTime()-$,r=a.uploadFinished(w,b,e,t,g);i++,_.forEach(function(e,t){e===n&&_.splice(t,1)}),v.push(n),s[x]=100,f(),i===u-p&&m(),!1===r&&(c=!0),(g.status<200||g.status>299)&&a.error(g.statusText,b,n,g.status,g.responseText)}};b()}function h(e){if(e.dataTransfer&&e.dataTransfer.types&&e.dataTransfer.types.length)for(var t=0;t<e.dataTransfer.types.length;t++)if("files"==e.dataTransfer.types[t].toLowerCase())return!1;return!0}function m(){return a.afterAll()}return a.fallback_id&&e("#"+a.fallback_id).css({display:"none",width:0,height:0}),this.on("drop",function(e,t){if(!1===a.drop.call(this,e))return!1;if(!t&&(!e.dataTransfer||h(e)))return void m();if(null===(o=t||e.dataTransfer.files)||void 0===o||0===o.length)return a.error(n[0]),m(),!1;return u=o.length,p(),e.preventDefault(),!1}).on("dragstart",a.dragStart).on("dragenter",function(e){if(h(e))return;clearTimeout(i),e.preventDefault(),a.dragEnter.call(this,e)}).on("dragover",function(e){var t;try{t=e.dataTransfer.effectAllowed}catch(e){}if(e.dataTransfer.dropEffect="move"===t||"linkMove"===t?"move":"copy",h(e))return;clearTimeout(i),e.preventDefault(),a.docOver.call(this,e),a.dragOver.call(this,e)}).on("dragleave",function(e){clearTimeout(i),a.dragLeave.call(this,e),e.stopPropagation()}),e(document).on("drop",function(e){if(h(e))return;return e.preventDefault(),a.docLeave.call(this,e),!1}).on("dragenter",function(e){if(h(e))return;return clearTimeout(i),e.preventDefault(),a.docEnter.call(this,e),!1}).on("dragover",function(e){var t;try{t=e.dataTransfer.effectAllowed}catch(e){}if(e.dataTransfer.dropEffect="move"===t||"linkMove"===t?"move":"copy",h(e))return;return clearTimeout(i),e.preventDefault(),a.docOver.call(this,e),!1}).on("dragleave",function(e){i=setTimeout((t=this,function(){a.docLeave.call(t,e)}),200);var t}),a.fallback_id&&this.on("click",function(t){e("#"+a.fallback_id).trigger(t)}),a.fallback_id&&e("#"+a.fallback_id).change(function(e){a.drop(e),o=e.target.files,u=o.length,p()}),this};try{if(XMLHttpRequest.prototype.sendAsBinary)return;XMLHttpRequest.prototype.sendAsBinary=function(e){var t=Array.prototype.map.call(e,function(e){return 255&e.charCodeAt(0)}),n=new Uint8Array(t);"ArrayBufferView"in window?this.send(n):this.send(n.buffer)}}catch(e){}}(jQuery)},function(module,exports){var _typeof="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(jQuery){"use strict";function toCSS(jss,options){function jsonToCSS(e,t){for(var n in e&&!result[e]&&(result[e]={}),t){var r=t[n];if(r instanceof Array)for(var i=r,o=0;o<i.length;o++)addProperty(e,n,i[o]);else switch("undefined"===typeof r?"undefined":_typeof(r)){case"number":case"string":addProperty(e,n,r);break;case"object":var a=n.charAt(n.length-1);if(!e||"_"!==a&&"-"!==a)jsonToCSS(makeSelectorName(e,n),r);else{var s=r;for(var c in s)for(var u=c.split(/\s*,\s*/),l=0;l<u.length;l++){var d=s[c];if(d instanceof Array)for(var f=d,p=0;p<f.length;p++)addProperty(e,n+u[l],f[p]);else addProperty(e,n+u[l],s[c])}}}}}function makePropertyName(e){return e.replace(/_/g,"-")}function makeSelectorName(e,t){for(var n=[],r=t.split(/\s*,\s*/),i=e.split(/\s*,\s*/),o=0;o<i.length;o++)for(var a=i[o],s=0;s<r.length;s++){var c=r[s];"&"===c.charAt(0)?n.push(a+c.substr(1)):n.push(a?a+" "+c:c)}return n.join(", ")}function addProperty(e,t,n){"number"!==typeof n||options.useRawValues||(n+="px");for(var r=t.split(/\s*,\s*/),i=0;i<r.length;i++){var o=makePropertyName(r[i]);result[e][o]?result[e][o].push(n):result[e][o]=[n]}}var result={};if("string"===typeof jss)try{eval("var jss = {"+jss+"}")}catch(e){return"/*\nUnable to parse JSS: "+e+"\n*/"}jsonToCSS("",jss);var ret="";for(var a in result){var css=result[a];for(var i in ret+=a+" {\n",css)for(var values=css[i],j=0;j<values.length;j++)ret+="\t"+i+": "+values[j]+";\n";ret+="}\n"}return ret}var defaults={truncateFirst:!1,container:null,containerName:"injectCSSContainer",useRawValues:!1};jQuery.injectCSS=function(e,t){(t=jQuery.extend({},defaults,t)).media=t.media||"all";var n=t.container&&jQuery(t.container)||jQuery("#"+t.containerName);n.length||(n=jQuery("<style></style>").appendTo("head").attr({media:t.media,id:t.containerName,type:"text/css"}));var r=n[0],i=void 0!==r.styleSheet&&void 0!==r.styleSheet.cssText,o="";return t.truncateFirst||(o+=i?r.styleSheet.cssText:n.text()),o+=toCSS(e,t),i?r.styleSheet.cssText=o:n.text(o),n}}(jQuery)},function(e,t){!function(e){var t=["DOMMouseScroll","mousewheel"];function n(t){var n=t||window.event,r=[].slice.call(arguments,1),i=0,o=0,a=0;return(t=e.event.fix(n)).type="mousewheel",t.wheelDelta&&(i=t.wheelDelta/120),t.detail&&(i=-t.detail/3),a=i,void 0!==n.axis&&n.axis===n.HORIZONTAL_AXIS&&(a=0,o=-1*i),void 0==t.wheelDelta&&n.detail&&(t.wheelDelta=-1*n.detail),void 0!==n.wheelDeltaY&&(a=n.wheelDeltaY/120),void 0!==n.wheelDeltaX&&(o=-1*n.wheelDeltaX/120),r.unshift(t,i,o,a),e.event.handle.apply(this,r)}e.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var e=t.length;e;)this.addEventListener(t[--e],n,!1);else this.onmousewheel=n},teardown:function(){if(this.removeEventListener)for(var e=t.length;e;)this.removeEventListener(t[--e],n,!1);else this.onmousewheel=null}},e.fn.extend({mousewheel:function(e){return e?this.bind("mousewheel",e):this.trigger("mousewheel")},unmousewheel:function(e){return this.unbind("mousewheel",e)}})}(jQuery)},function(e,t){var n;(n=jQuery).fn.serializeHash=function(){var e={},t=n(this).find(":input").get();return n.each(t,function(){if(this.name&&!this.disabled&&(this.checked||/select|textarea/i.test(this.nodeName)||/hidden|text|search|tel|url|email|password|datetime|date|month|week|time|datetime-local|number|range|color/i.test(this.type))){var t=n(this).val();n.extend(!0,e,function e(t,n){var r=t.lastIndexOf("[");if(-1==r){var i={};return i[t]=n,i}var o=t.substr(0,r),a={};return a[t.substring(r+1,t.length-1)]=n,e(o,a)}(this.name,t))}}),e}},function(e,t){var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t,r){function i(e,t){return"function"===typeof e?e.call(t):e}function o(n){return e.contains(t.document.documentElement,n)}var a=0;function s(t,n){this.$element=e(t),this.options=n,this.enabled=!0,this.fixTitle()}s.prototype={show:function(){var t,r;if(o(this.$element[0])&&(t=this.$element,(!("object"===("undefined"===typeof HTMLElement?"undefined":n(HTMLElement))?t instanceof HTMLElement:t&&"object"===("undefined"===typeof t?"undefined":n(t))&&1===t.nodeType&&"string"===typeof t.nodeName)||this.$element.is(":visible"))&&this.enabled&&(r=this.getTitle()))){var s=this.tip();s.find(".tipsy-inner"+this.options.theme)[this.options.html?"html":"text"](r),s[0].className="tipsy"+this.options.theme,this.options.className&&s.addClass(i(this.options.className,this.$element[0])),s.detach().css({top:0,left:0,visibility:"hidden",display:"block"}).prependTo(this.options.prependTo).data("tipsy-pointee",this.$element[0]);var c=e.extend({},this.$element.offset());c=this.$element.parents("svg").size()>0?e.extend(c,this.$element[0].getBBox()):this.options.prependTo!==document.body?e.extend(this.$element.position(),{width:this.$element.width(),height:this.$element.height()}):e.extend(c,{width:this.$element[0].offsetWidth||0,height:this.$element[0].offsetHeight||0});var u,l=s[0].offsetWidth,d=s[0].offsetHeight,f=i(this.options.gravity,this.$element[0]);switch(f.charAt(0)){case"n":u={top:c.top+c.height+this.options.offset+1,left:c.left+c.width/2-l/2};break;case"s":u={top:c.top-d-this.options.offset-1,left:c.left+c.width/2-l/2};break;case"e":u={top:c.top+c.height/2-d/2,left:c.left-l-this.options.offset-1};break;case"w":u={top:c.top+c.height/2-d/2,left:c.left+c.width+this.options.offset+1}}if(2===f.length&&("w"===f.charAt(1)?u.left=c.left+c.width/2-15:u.left=c.left+c.width/2-l+15),s.css(u).addClass("tipsy-"+f+this.options.theme),s.find(".tipsy-arrow"+this.options.theme)[0].className="tipsy-arrow"+this.options.theme+" tipsy-arrow-"+f.charAt(0)+this.options.theme,this.options.fade?(this.options.shadow&&s.find(".tipsy-inner").css({"box-shadow":"0 0 "+this.options.shadowBlur+"px "+this.options.shadowSpread+"px rgba(0, 0, 0, "+this.options.shadowOpacity+")","-webkit-box-shadow":"0 0 "+this.options.shadowBlur+"px "+this.options.shadowSpread+"px rgba(0, 0, 0, "+this.options.shadowOpacity+")"}),s.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity},this.options.fadeInTime)):s.css({visibility:"visible",opacity:this.options.opacity}),this.options.aria){var p="tipsyuid"+a++;s.attr("id",p),this.$element.attr("aria-describedby",p)}}},hide:function(){this.options.fade?this.tip().stop().fadeOut(this.options.fadeOutTime,function(){e(this).detach()}):this.tip().detach(),this.options.aria&&this.$element.removeAttr("aria-describedby")},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!==typeof e.attr("original-title"))&&e.attr("original-title",e.attr("title")||"").removeAttr("title")},getTitle:function(){var e,t=this.$element,n=this.options;return this.fixTitle(),"string"===typeof n.title?e=t.attr("title"===n.title?"original-title":n.title):"function"===typeof n.title&&(e=n.title.call(t[0])),(e=(""+e).replace(/(^\s*|\s*$)/,""))||n.fallback},tip:function(){return this.$tip||(this.$tip=e('<div class="tipsy'+this.options.theme+'"></div>').html('<div class="tipsy-arrow'+this.options.theme+'"></div><div class="tipsy-inner'+this.options.theme+'"></div>').attr("role","tooltip")),this.$tip},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled}},e.fn.tipsy=function(t){if(e.fn.tipsy.enable(),!0===t)return this.data("tipsy");if("string"===typeof t){var n=this.data("tipsy");return n&&n[t](),this}function r(n){var r=e.data(n,"tipsy");return r||(r=new s(n,e.fn.tipsy.elementOptions(n,t)),e.data(n,"tipsy",r)),r}function i(){if(!0===e.fn.tipsy.enabled){var n=r(this);n.hoverState="in",0===t.delayIn?n.show():(n.fixTitle(),setTimeout(function(){"in"===n.hoverState&&n.show()},t.delayIn))}}function o(){var e=r(this);e.hoverState="out",0===t.delayOut?e.hide():setTimeout(function(){"out"!==e.hoverState&&e.$element&&e.$element.is(":visible")||e.hide()},t.delayOut)}if((t=e.extend({},e.fn.tipsy.defaults,t)).theme=t.theme&&""!==t.theme?"-"+t.theme:"",t.live||this.each(function(){r(this)}),"manual"!==t.trigger){var a="hover"===t.trigger?"mouseenter mouseover":"focus",c="hover"===t.trigger?"mouseleave mouseout":"blur";if(t.live&&!0!==t.live)e(this).on(a,t.live,i),e(this).on(c,t.live,o);else{if(t.live&&!e.live)throw"Since jQuery 1.9, pass selector as live argument. eg. $(document).tipsy({live: 'a.live'});";var u=t.live?"live":"bind";this[u](a,i)[u](c,o)}}return this},e.fn.tipsy.defaults={aria:!1,className:null,delayIn:0,delayOut:0,fade:!1,fadeInTime:400,fadeOutTime:400,shadow:!1,shadowBlur:8,shadowOpacity:1,shadowSpread:0,fallback:"",gravity:"n",html:!1,live:!1,offset:0,opacity:.8,title:"title",trigger:"hover",theme:"",prependTo:document.body},e.fn.tipsy.revalidate=function(){e(".tipsy").each(function(){var t=e.data(this,"tipsy-pointee");t&&o(t)||e(this).remove()})},e.fn.tipsy.enable=function(){e.fn.tipsy.enabled=!0},e.fn.tipsy.disable=function(){e.fn.tipsy.enabled=!1},e.fn.tipsy.elementOptions=function(t,n){return e.metadata?e.extend({},n,e(t).metadata()):n},e.fn.tipsy.autoNS=function(){return e(this).offset().top>e(document).scrollTop()+e(t).height()/2?"s":"n"},e.fn.tipsy.autoWE=function(){return e(this).offset().left>e(document).scrollLeft()+e(t).width()/2?"e":"w"},e.fn.tipsy.autoNWNE=function(){return e(this).offset().left>e(document).scrollLeft()+e(t).width()/2?"ne":"nw"},e.fn.tipsy.autoSWSE=function(){return e(this).offset().left>e(document).scrollLeft()+e(t).width()/2?"se":"sw"},e.fn.tipsy.autoBounds=function(n,r,i){return function(){var o={ns:i[0],ew:i.length>1&&i[1]},a=e(document).scrollTop()+n,s=e(document).scrollLeft()+r,c=e(this);return c.offset().top<a&&(o.ns="n"),c.offset().left<s&&(o.ew="w"),e(t).width()+e(document).scrollLeft()-c.offset().left<r&&(o.ew="e"),e(t).height()+e(document).scrollTop()-c.offset().top<n&&(o.ns="s"),o.ns+(o.ew?o.ew:"")}},e.fn.tipsy.autoBounds2=function(n,r){return function(){var i={},o=e(document).scrollTop()+n,a=e(document).scrollLeft()+n,s=e(this);return r.length>1?(i.ns=r[0],i.ew=r[1]):"e"===r[0]||"w"===r[0]?i.ew=r[0]:i.ns=r[0],s.offset().top<o&&(i.ns="n"),s.offset().left<a&&(i.ew="w"),e(t).width()+e(document).scrollLeft()-(s.offset().left+s.width())<n&&(i.ew="e"),e(t).height()+e(document).scrollTop()-(s.offset().top+s.height())<n&&(i.ns="s"),i.ns?i.ns+(i.ew?i.ew:""):i.ew}}}(jQuery,window)},function(e,t){!function(e){function t(t,n,r){var i=r.relative?t.position().top:t.offset().top,o=r.relative?t.position().left:t.offset().left,a=r.position[0];i-=n.outerHeight()-r.offset[0],o+=t.outerWidth()+r.offset[1],/iPad/i.test(navigator.userAgent)&&(i-=e(window).scrollTop());var s=n.outerHeight()+t.outerHeight();return"center"==a&&(i+=s/2),"bottom"==a&&(i+=s),a=r.position[1],t=n.outerWidth()+t.outerWidth(),"center"==a&&(o-=t/2),"left"==a&&(o-=t),{top:i,left:o}}e.tools=e.tools||{version:"1.2.5"},e.tools.tooltip={conf:{effect:"toggle",fadeOutSpeed:"fast",predelay:0,delay:30,opacity:1,tip:0,position:["top","center"],offset:[0,0],relative:!1,cancelDefault:!0,events:{def:"mouseenter,mouseleave",input:"focus,blur",widget:"focus mouseenter,blur mouseleave",tooltip:"mouseenter,mouseleave"},layout:"<div/>",tipClass:"tooltip"},addEffect:function(e,t,r){n[e]=[t,r]}};var n={toggle:[function(e){var t=this.getConf(),n=this.getTip();(t=t.opacity)<1&&n.css({opacity:t}),n.show(),e.call()},function(e){this.getTip().hide(),e.call()}],fade:[function(e){var t=this.getConf();this.getTip().fadeTo(t.fadeInSpeed,t.opacity,e)},function(e){this.getTip().fadeOut(this.getConf().fadeOutSpeed,e)}]};e.fn.tooltip=function(r){var i=this.data("tooltip");return i||("string"==typeof(r=e.extend(!0,{},e.tools.tooltip.conf,r)).position&&(r.position=r.position.split(/,?\s/)),this.each(function(){i=new function(r,i){var o,a,s=this,c=r.add(s),u=0,l=0,d=r.attr("title"),f=r.attr("data-tooltip"),p=n[i.effect],h=r.is(":input"),m=h&&r.is(":checkbox, :radio, select, :button, :submit"),_=r.attr("type"),v=i.events[_]||i.events[h?m?"widget":"input":"def"];if(!p)throw'Nonexistent effect "'+i.effect+'"';if(2!=(v=v.split(/,\s*/)).length)throw"Tooltip: bad events configuration for "+_;r.bind(v[0],function(e){clearTimeout(u),i.predelay?l=setTimeout(function(){s.show(e)},i.predelay):s.show(e)}).bind(v[1],function(e){clearTimeout(l),i.delay?u=setTimeout(function(){s.hide(e)},i.delay):s.hide(e)}),d&&i.cancelDefault&&(r.removeAttr("title"),r.data("title",d)),e.extend(s,{show:function(n){if(!o&&(f?o=e(f):i.tip?o=e(i.tip).eq(0):d?o=e(i.layout).addClass(i.tipClass).appendTo(document.body).hide().append(d):(o=r.next()).length||(o=r.parent().next()),!o.length))throw"Cannot find tooltip for "+r;if(s.isShown())return s;o.stop(!0,!0);var h=t(r,o,i);return i.tip&&o.html(r.data("title")),(n=n||e.Event()).type="onBeforeShow",c.trigger(n,[h]),n.isDefaultPrevented()?s:(h=t(r,o,i),o.css({position:"absolute",top:h.top,left:h.left}),a=!0,p[0].call(s,function(){n.type="onShow",a="full",c.trigger(n)}),h=i.events.tooltip.split(/,\s*/),o.data("__set")||(o.bind(h[0],function(){clearTimeout(u),clearTimeout(l)}),h[1]&&!r.is("input:not(:checkbox, :radio), textarea")&&o.bind(h[1],function(e){e.relatedTarget!=r[0]&&r.trigger(v[1].split(" ")[0])}),o.data("__set",!0)),s)},hide:function(t){return o&&s.isShown()?((t=t||e.Event()).type="onBeforeHide",c.trigger(t),t.isDefaultPrevented()?void 0:(a=!1,n[i.effect][1].call(s,function(){t.type="onHide",c.trigger(t)}),s)):s},isShown:function(e){return e?"full"==a:a},getConf:function(){return i},getTip:function(){return o},getTrigger:function(){return r}}),e.each("onHide,onBeforeShow,onShow,onBeforeHide".split(","),function(t,n){e.isFunction(i[n])&&e(s).bind(n,i[n]),s[n]=function(t){return t&&e(s).bind(n,t),s}})}(e(this),r),e(this).data("tooltip",i)}),r.api?i:this)}}(jQuery),function(e){var t=e.tools.tooltip;e.extend(t.conf,{direction:"up",bounce:!1,slideOffset:10,slideInSpeed:200,slideOutSpeed:200,slideFade:!e.browser.msie});var n={up:["-","top"],down:["+","top"],left:["-","left"],right:["+","left"]};t.addEffect("slide",function(e){var t=this.getConf(),r=this.getTip(),i=t.slideFade?{opacity:t.opacity}:{},o=n[t.direction]||n.up;i[o[1]]=o[0]+"="+t.slideOffset,t.slideFade&&r.css({opacity:0}),r.show().animate(i,t.slideInSpeed,e)},function(t){var r=this.getConf(),i=r.slideOffset,o=r.slideFade?{opacity:0}:{},a=n[r.direction]||n.up,s=""+a[0];r.bounce&&(s="+"==s?"-":"+"),o[a[1]]=s+"="+i,this.getTip().animate(o,r.slideOutSpeed,function(){e(this).hide(),t.call()})})}(jQuery),function(e){var t=e.tools.tooltip;t.dynamic={conf:{classNames:"top right bottom left"}},e.fn.dynamic=function(n){"number"==typeof n&&(n={speed:n});var r,i=(n=e.extend({},t.dynamic.conf,n)).classNames.split(/\s/);return this.each(function(){var t=e(this).tooltip().onBeforeShow(function(t,o){t=this.getTip();var a=this.getConf();r||(r=[a.position[0],a.position[1],a.offset[0],a.offset[1],e.extend({},a)]),e.extend(a,r[4]),a.position=[r[0],r[1]],a.offset=[r[2],r[3]],t.css({visibility:"hidden",position:"absolute",top:o.top,left:o.left}).show(),function(e){for(var t=e.length;t--;)if(e[t])return!1;return!0}(o=function(t){var n=e(window),r=n.width()+n.scrollLeft(),i=n.height()+n.scrollTop();return[t.offset().top<=n.scrollTop(),r<=t.offset().left+t.width(),i<=t.offset().top+t.height(),n.scrollLeft()>=t.offset().left]}(t))||(o[2]&&(e.extend(a,n.top),a.position[0]="top",t.addClass(i[0])),o[3]&&(e.extend(a,n.right),a.position[1]="right",t.addClass(i[1])),o[0]&&(e.extend(a,n.bottom),a.position[0]="bottom",t.addClass(i[2])),o[1]&&(e.extend(a,n.left),a.position[1]="left",t.addClass(i[3])),(o[0]||o[2])&&(a.offset[0]*=-1),(o[1]||o[3])&&(a.offset[1]*=-1)),t.css({visibility:"visible"}).hide()});t.onBeforeShow(function(){var e=this.getConf();this.getTip(),setTimeout(function(){e.position=[r[0],r[1]],e.offset=[r[2],r[3]]},0)}),t.onHide(function(){this.getTip().removeClass(n.classNames)}),ret=t}),n.api?ret:this}}(jQuery)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n.n(r),o=n(31);!function(e){e.tools=e.tools||{version:"1.2.5"},e.tools.tooltip={conf:{effect:"toggle",fadeOutSpeed:"fast",predelay:0,delay:30,opacity:1,tip:0,position:["top","center"],offset:[0,0,0],relative:!1,cancelDefault:!0,events:{def:"mouseenter,mouseleave",input:"focus,blur",widget:"focus mouseenter,blur mouseleave",tooltip:"mouseenter,mouseleave"},layout:"<div/>",tipClass:"tooltip",ignoreSelector:""},addEffect:function(e,n,r){t[e]=[n,r]}};var t={toggle:[function(e){var t=this.getConf(),n=this.getTip(),r=t.opacity;r<1&&n.css({opacity:r}),n.show(),e.call()},function(e){this.getTip().hide(),e.call()}],fade:[function(e){var t=this.getConf();this.getTip().fadeTo(t.fadeInSpeed,t.opacity,e)},function(e){this.getTip().fadeOut(this.getConf().fadeOutSpeed,e)}]};function n(t,n,r,i){var o=void 0==t.data("relative")?r.relative:t.data("relative"),a=o?t.position().top:t.offset().top,s=o?t.position().left:t.offset().left,c=t.offset().left,u=t.offset().top,l=r.position[0];i||n.show(),n.removeClass("tooltip-bottom tooltip-center tooltip-moved"),a-=n.outerHeight()-r.offset[0]-(t.data("offset-top")||0),s+=t.outerWidth()+r.offset[1]-(t.data("offset-left")||0),c+=t.outerWidth()+r.offset[1],/iPad/i.test(navigator.userAgent)&&(a-=e(window).scrollTop());var d=n.outerHeight()+t.outerHeight();"center"==l&&(a+=d/2),"bottom"==l&&(a+=d),l=r.position[1];var f=n.outerWidth()+t.outerWidth();"center"==l&&(s-=f/2,c-=f/2),"left"==l&&(s-=f,c-=f);var p=n.find(".tooltip-arrow").outerWidth(),h=n.find(".tooltip-inner").outerWidth()+p,m=n.find(".tooltip-inner").outerHeight(),_=n.find(".dropshadow-left").outerWidth(),v=n.find(".dropshadow-top").outerHeight(),g=c+h+_-e(window).width();if(!t.data("no-align")&&(g>0||r.place_to_left||t.data("place-to-left"))){var y=s-(h+t.outerWidth()+p+2*(t.data("offset-left")||0)+(t.data("offset-left-right")||0));y>-(o?t.offset().left-t.position().left:0)||r.place_to_left||t.data("place-to-left")?(s=y+(r.offset[2]||0),n.addClass("tooltip-left")):-y<g?(s=0,n.addClass("tooltip-moved")):(s-=g+10,n.addClass("tooltip-moved"))}else n.removeClass("tooltip-left");var b=n.find(".tooltip-arrow");b.data("top")||b.data("top",parseInt(b.css("top"))),b.css("top",b.data("top"));var w=u+m+v-e(window).scrollTop()-e(window).height();if(!t.data("no-align")){var $=a;w>0&&!r.no_y_adjustment&&(a=[a-w+10,10].max()),$!=a&&b.css("top",b.data("top")+($-a));var k=u-e(window).scrollTop();k<0&&(a=[a-k-10,10].max())}return r.moved&&n.addClass("tooltip-moved"),i||n.hide(),{top:a,left:s}}e.fn.tooltip=function(r){var a=this.data("tooltip");return a||("string"==typeof(r=e.extend(!0,{},e.tools.tooltip.conf,r)).position&&(r.position=r.position.split(/,?\s/)),this.each(function(){a=new function(r,a){var s,c,u=this,l=r.add(u),d=0,f=0,p=r.data("do-not-use-title")?null:r.attr("title"),h=r.attr("data-tooltip"),m=t[a.effect],_=r.is(":input"),v=_&&r.is(":checkbox, :radio, select, :button, :submit"),g=r.attr("type"),y=a.events[g]||a.events[_?v?"widget":"input":"def"];if(!m)throw'Nonexistent effect "'+a.effect+'"';if(2!=(y=y.split(/,\s*/)).length)throw"Tooltip: bad events configuration for "+g;r.on(y[0],function(e){clearTimeout(f);var t=r.data("predelay")||a.predelay;t?f=setTimeout(function(){u.show(e)},t):u.show(e)}).on(y[1],function(e){clearTimeout(f);var t=r.data("delay")||a.delay;t?d=setTimeout(function(){u.hide(e)},t):u.hide(e)}),a.ignoreSelector&&r.on("mouseover",a.ignoreSelector,function(e){i()().then(function(){clearTimeout(f),u.hide(e)})}).on("mouseout",a.ignoreSelector,function(t){(t.target==r[0]||e(t.target).closest(r))&&r.trigger("mouseover",[{target:r[0]}])}),p&&a.cancelDefault&&(r.removeAttr("title"),r.data("title",p)),e.extend(u,{show:function(t){if(t.target.classList.contains("mobile")||!("ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0||Object(o.isMobile)())){if(!s){if(h)s=e(h);else if(a.tip)s=e(a.tip).eq(0);else if((r.data("tooltip_url")||r.data("href")||r.attr("href"))&&!r.data("local-tooltip")){s=e(a.defaultTemplate).addClass(a.tipClass).css("z-index",parseInt(r.parents(".tooltip").css("z-index"))||1).hide(),r.data("insert-tooltip-after")?s.insertAfter(r):s.appendTo(document.body),(t=t||e.Event()).type="onBeforeFetch",l.trigger(t,[]);var p=r.data("tooltip_url")||r.data("href")||r.attr("href").replace(/(\?|$)/,"/tooltip$1");s.find(".tooltip-details").load(p,function(){var t=e(this),o=t.find(".tooltip-desc");o.length&&""==o.html()&&t.find("img").length&&t.parents(".tooltip").addClass("tooltip-image"),t.process(),i()(50).then(function(){if("none"!=s.css("display")){var e=parseInt(s.css("top")),t=parseInt(s.css("left")),i=n(r,s,a,!0);(Math.abs(e-i.top)>20||Math.abs(t-i.left)>20)&&s.stop(!0,!0).css({top:i.top,left:i.left})}})}),r.attr("data-remote",null),r.attr("tooltip",null)}else(s=r.next()).length||(s=r.parent().next());if(!s.length)throw"Cannot find tooltip for "+r}if(u.isShown())return u;s.stop(!0,!0);var _=n(r,s,a);a.tip&&s.html(r.data("title")),(t=t||e.Event()).type="onBeforeShow",l.trigger(t,[_]),_=n(r,s,a),s.css({position:"absolute",top:_.top,left:_.left}),c=!0,m[0].call(u,function(){t.type="onShow",c="full",l.trigger(t)});var v=a.events.tooltip.split(/,\s*/);return s.data("__set")||(s.on(v[0],function(){clearTimeout(d),clearTimeout(f)}),v[1]&&!r.is("input:not(:checkbox, :radio), textarea")&&s.on(v[1],function(e){e.relatedTarget!=r[0]&&r.trigger(y[1].split(" ")[0])}),s.data("__set",!0)),u}},hide:function(n){return s&&u.isShown()?((n=n||e.Event()).type="onBeforeHide",l.trigger(n),c=!1,t[a.effect][1].call(u,function(){n.type="onHide",l.trigger(n)}),u):u},isShown:function(e){return e?"full"==c:c},getConf:function(){return a},getTip:function(){return s},getTrigger:function(){return r}}),e.each("onBeforeFetch,onHide,onBeforeShow,onShow,onBeforeHide".split(","),function(t,n){e.isFunction(a[n])&&e(u).on(n,a[n]),u[n]=function(t){return t&&e(u).on(n,t),u}})}(e(this),r),e(this).data("tooltip",a)}),r.api?a:this)}}(jQuery)},function(e,t){var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};!function(e,t,r){var i=[],o=[],a={_version:"3.6.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout(function(){t(n[e])},0)},addTest:function(e,t,n){o.push({name:e,fn:t,options:n})},addAsyncTest:function(e){o.push({name:null,fn:e})}},s=function(){};s.prototype=a,(s=new s).addTest("history",function(){var t=navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone")||"file:"===location.protocol)&&(e.history&&"pushState"in e.history)}),s.addTest("webworkers","Worker"in e);var c=a._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];function u(e,t){return("undefined"===typeof e?"undefined":n(e))===t}a._prefixes=c;var l=t.documentElement,d="svg"===l.nodeName.toLowerCase();var f=a._config.usePrefixes?"Moz O ms Webkit".toLowerCase().split(" "):[];a._domPrefixes=f;var p="CSS"in e&&"supports"in e.CSS,h="supportsCSS"in e;function m(){return"function"!==typeof t.createElement?t.createElement(arguments[0]):d?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}function _(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,n){return t+n.toUpperCase()}).replace(/^-/,"")}function v(e,n,r,i){var o,a,s,c,u="modernizr",f=m("div"),p=function(){var e=t.body;return e||((e=m(d?"svg":"body")).fake=!0),e}();if(parseInt(r,10))for(;r--;)(s=m("div")).id=i?i[r]:u+(r+1),f.appendChild(s);return(o=m("style")).type="text/css",o.id="s"+u,(p.fake?p:f).appendChild(o),p.appendChild(f),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(t.createTextNode(e)),f.id=u,p.fake&&(p.style.background="",p.style.overflow="hidden",c=l.style.overflow,l.style.overflow="hidden",l.appendChild(p)),a=n(f,e),p.fake?(p.parentNode.removeChild(p),l.style.overflow=c,l.offsetHeight):f.parentNode.removeChild(f),!!a}s.addTest("supports",p||h);var g,y,b,w=a.testStyles=v;(g=navigator.userAgent,y=g.match(/w(eb)?osbrowser/gi),b=g.match(/windows phone/gi)&&g.match(/iemobile\/([0-9])+/gi)&&parseFloat(RegExp.$1)>=9,y||b)?s.addTest("fontface",!1):w('@font-face {font-family:"font";src:url("https://")}',function(e,n){var r=t.getElementById("smodernizr"),i=r.sheet||r.styleSheet,o=i?i.cssRules&&i.cssRules[0]?i.cssRules[0].cssText:i.cssText||"":"",a=/src/i.test(o)&&0===o.indexOf(n.split(" ")[0]);s.addTest("fontface",a)});var $=a._config.usePrefixes?"Moz O ms Webkit".split(" "):[];a._cssomPrefixes=$;var k=function(t){var n,i=c.length,o=e.CSSRule;if("undefined"===typeof o)return r;if(!t)return!1;if((n=(t=t.replace(/^@/,"")).replace(/-/g,"_").toUpperCase()+"_RULE")in o)return"@"+t;for(var a=0;a<i;a++){var s=c[a];if(s.toUpperCase()+"_"+n in o)return"@-"+s.toLowerCase()+"-"+t}return!1};a.atRule=k;var x={elem:m("modernizr")};s._q.push(function(){delete x.elem});var j={style:x.elem.style};function C(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function O(t,n){var i=t.length;if("CSS"in e&&"supports"in e.CSS){for(;i--;)if(e.CSS.supports(C(t[i]),n))return!0;return!1}if("CSSSupportsRule"in e){for(var o=[];i--;)o.push("("+C(t[i])+":"+n+")");return v("@supports ("+(o=o.join(" or "))+") { #modernizr { position: absolute; } }",function(t){return"absolute"==function(t,n,r){var i;if("getComputedStyle"in e){i=getComputedStyle.call(e,t,n);var o=e.console;null!==i?r&&(i=i.getPropertyValue(r)):o&&o[o.error?"error":"log"].call(o,"getComputedStyle returning null, its possible modernizr test results are inaccurate")}else i=!n&&t.currentStyle&&t.currentStyle[r];return i}(t,null,"position")})}return r}function S(e,t,n,i){if(i=!u(i,"undefined")&&i,!u(n,"undefined")){var o=O(e,n);if(!u(o,"undefined"))return o}for(var a,s,c,l,d,f=["modernizr","tspan","samp"];!j.style&&f.length;)a=!0,j.modElem=m(f.shift()),j.style=j.modElem.style;function p(){a&&(delete j.style,delete j.modElem)}for(c=e.length,s=0;s<c;s++)if(l=e[s],d=j.style[l],~(""+l).indexOf("-")&&(l=_(l)),j.style[l]!==r){if(i||u(n,"undefined"))return p(),"pfx"!=t||l;try{j.style[l]=n}catch(e){}if(j.style[l]!=d)return p(),"pfx"!=t||l}return p(),!1}s._q.unshift(function(){delete j.style});a.testProp=function(e,t,n){return S([e],r,t,n)};function T(e,t){return function(){return e.apply(t,arguments)}}function P(e,t,n,r,i){var o=e.charAt(0).toUpperCase()+e.slice(1),a=(e+" "+$.join(o+" ")+o).split(" ");return u(t,"string")||u(t,"undefined")?S(a,t,r,i):function(e,t,n){var r;for(var i in e)if(e[i]in t)return!1===n?e[i]:u(r=t[e[i]],"function")?T(r,n||t):r;return!1}(a=(e+" "+f.join(o+" ")+o).split(" "),t,n)}function E(e,t,n){return P(e,r,r,t,n)}a.testAllProps=P,a.testAllProps=E,s.addTest("cssanimations",E("animationName","a",!0)),s.addTest("csstransforms",function(){return-1===navigator.userAgent.indexOf("Android 2.")&&E("transform","scale(1)",!0)}),s.addTest("csstransforms3d",function(){return!!E("perspective","1px",!0)}),s.addTest("csstransitions",E("transition","all",!0));var I=(a.prefixed=function(e,t,n){return 0===e.indexOf("@")?k(e):(-1!=e.indexOf("-")&&(e=_(e)),t?P(e,t,n):P(e,"pfx"))})("URL",e,!1);I=I&&e[I],s.addTest("bloburls",I&&"revokeObjectURL"in I&&"createObjectURL"in I),s.addTest("cssmask",E("maskRepeat","repeat-x",!0)),function(){var e,t,n,r,a,c;for(var l in o)if(o.hasOwnProperty(l)){if(e=[],(t=o[l]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(r=u(t.fn,"function")?t.fn():t.fn,a=0;a<e.length;a++)1===(c=e[a].split(".")).length?s[c[0]]=r:(!s[c[0]]||s[c[0]]instanceof Boolean||(s[c[0]]=new Boolean(s[c[0]])),s[c[0]][c[1]]=r),i.push((r?"":"no-")+c.join("-"))}}(),function(e){var t=l.className,n=s._config.classPrefix||"";if(d&&(t=t.baseVal),s._config.enableJSClass){var r=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");t=t.replace(r,"$1"+n+"js$2")}s._config.enableClasses&&(t+=" "+n+e.join(" "+n),d?l.className.baseVal=t:l.className=t)}(i),delete a.addTest,delete a.addAsyncTest;for(var A=0;A<s._q.length;A++)s._q[A]();e.Modernizr=s}(window,document)},,function(e,t){var n=!1;function r(){var e=$(".align-posters");return e.find(".image-cutter").css("max-height",""),e.alignPosters()}$.fn.extend({alignPosters:function(){return this.each(function(){var e=$(this);n||($(document).on("resize:debounced orientationchange",r),n=!0);var t=e.data("columns");return e.data("spoiler_binded")||e.data({spoiler_binded:!0}).on("spoiler:opened",function(){return e.alignPosters()}),e.children().toArray().inGroupsOf(t).forEach(function(e){var t=e.compact(),n=t.min(function(e){return $(e).find(".image-cutter").outerHeight()}),r=$(n).find(".image-cutter").outerHeight();r>0&&$(t).find(".image-cutter").css("max-height",r)})})}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n.n(r);function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}("next")})}}var a=function(e){return e.css({height:""}).removeClass("animated-height").removeClass("animated-overflow").hide()},s=function(e){return e.css({height:""}).removeClass("animated-height").removeClass("animated-overflow")};$.fn.extend({animatedExpand:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.each(o(regeneratorRuntime.mark(function t(){var n,r;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=$(this),a(n),n.show().css({height:""}),r=n.outerHeight(),n.addClass("animated-overflow").css({height:e+"px"}),t.next=7,i()();case 7:return n.addClass("animated-height").css({height:r}).data({animated_direction:"expand"}),t.next=10,i()(500);case 10:"expand"===n.data("animated_direction")&&s(n);case 11:case"end":return t.stop()}},t,this)})))},animatedCollapse:function(){return this.each(o(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=$(this),s(t),n=t.outerHeight(),t.css({height:n+"px"}).addClass("animated-overflow"),i()().then(function(){return t.addClass("animated-height").css({height:0}).data({animated_direction:"collapse"})}),e.next=7,i()(500);case 7:"collapse"===t.data("animated_direction")&&a(t);case 8:case"end":return e.stop()}},e,this)})))}})},function(e,t){!function(e){var t=[],n=!1,r=!1,i={interval:250,force_process:!1},o=e(window),a=[];function s(){r=!1;for(var n=0,i=t.length;n<i;n++){var o=e(t[n]).filter(function(){var t=e(this);return!t.data("_appear_triggered")&&t.is(":appeared")});if(o.data("_appear_triggered",!0).trigger("appear",[o]),a[n]){var s=a[n].not(o);s.data("_appear_triggered",!1).trigger("disappear",[s])}a[n]=o}}e.expr[":"].appeared=function(t){var n=e(t);if(!n.is(":visible"))return!1;var r=o.scrollLeft(),i=o.scrollTop(),a=n.offset(),s=a.left,c=a.top;return c+n.height()>=i&&c-(n.data("appear-top-offset")||0)<=i+o.height()&&s+n.width()>=r&&s-(n.data("appear-left-offset")||0)<=r+o.width()},e.fn.extend({appear:function(o){var c=e.extend({},i,o||{}),u=this.selector||this;if(!n){var l=function(){r||(r=!0,setTimeout(s,c.interval))};e(window).scroll(l).resize(l),n=!0}return c.force_process&&setTimeout(s,c.interval),function(e){t.push(e),a.push()}(u),e(u)}}),e.extend({force_appear:function(){return!!n&&(s(),!0)}})}(jQuery)},function(e,t){var n;$.fn.extend({bar:function(e){return this.each(function(){var t;switch((t=$(this)).data("bar")){case"horizontal":return n(t,Object.add(e||{},{type:"horizontal"}));case"vertical":return n(t,Object.add(e||{},{type:"vertical"}));default:throw"unknown bar-type: "+t.data("bar")}})}}),n=function(e,t){var n,r,i,o,a,s,c,u,l,d,f;if(e.addClass("bar simple "+t.type),r=t.field||"value",f=e.data("stats"),s=e.data("intervals_count"),c=null!=(d=f.max(function(e,t){return e[r]}))?d[r]:void 0,i=!1,f&&f.length){if(e.data("flattened")&&(n=f.map(function(e,t){return e[r]}).filter(function(e){return e>0&&e!==c}).average(),c>5*n&&n>0&&(u=c,c=3*n,i=!0)),t.before&&t.before(f,t,e),t.y_axis){for(o=[],a=-1;a<10;)l=-1!==a?100-10*a:0,o.push("<div class='y_label' style='top: "+(100-l)+"%;'>"+t.y_axis(l,c,u)+"</div>"),a++;e.append(o.join(""))}return t.filter&&(f=f.filter(function(e){return l=.01*parseInt(e[r]/c*100*100),t.filter(e,l)})),f.forEach(function(n,o){var a,d,p,h,m,_;return l=.01*parseInt(n[r]/c*100*100),i&&(l*=.9)>100&&(l=90+10*n[r]/u),a=l<=80&&l>60?"s1":l<=60&&l>30?a="s2":l<=30?a="s3":"s0",d="vertical"===t.type?"height":"width",_=t.x_axis?t.x_axis(n,o,f,t):n.name,p=t.title?t.title(n,l):n[r],h=l>25||l>17&&n[r]<1e3||l>10&&n[r]<100||l>5&&n[r]<10?n[r]:"","vertical"===t.type?"style='width: "+100/s+"%;'":"",m=["value"],l<10&&m.push("narrow"),n[r]>99&&m.push("mini"),e.append("<div class='line'"+("vertical"===t.type?' style="width: '+100/s+'%;"':"")+"><div class='x_label'>"+_+"</div><div class='bar-container'><div class='bar "+a+(l>0?" min":"")+"' style='"+d+": "+l+"%' title='"+(p||n[r])+"'><div class='"+m.join(" ")+"'>"+h+"</div></div></div></div>")})}t.no_data&&t.no_data(e)}},function(e,t){$.fn.extend({changeTag:function(e){return this.map(function(){var t,n,r,i,o,a;for(a=document.createElement(e),r=0,i=(o=this.attributes).length;r<i;r++)n=(t=o[r]).name,"a"===e&&("data-href"===n&&(n="href"),"data-title"===n&&(n="title")),a.setAttribute(n,t.value);for(;this.childNodes.length;)a.appendChild(this.childNodes[0]);return $(this).replaceWith(a),a})}})},function(e,t,n){(function(e){$.fn.extend({checkHeight:function(t){var n,r,i,o,a;return null==t&&(t={}),i=t.max_height||450,a=null!=t.without_shade&&t.without_shade,n=t.collapsed_height||Math.round(2*i/3),o=a?"":"<div class='shade'></div>",r=null!=t.expand_html?t.expand_html:"<div class='expand'><span>"+e.t("frontend.dynamic_elements.check_height.expand")+"</span></div>",this.each(function(){var e,t;if((e=$(this)).height()>i&&!e.hasClass("shortened"))return t="<div class='b-height_shortener' style='margin-bottom: "+parseInt(e.css("margin-bottom"))+"px'>"+o+r+"</div>",e.addClass("shortened").css({height:n}),$(t).insertAfter(e).on("click",function(t){var n;if(null==r||r)return n=e.height(),e.removeClass("shortened").animatedExpand(n),$(t.currentTarget).remove()})})}})}).call(t,n(1))},function(e,t){var n,r;n=/\/(?:animes|mangas|characters|people|ranobe|clubs)\/[A-z]*(\d+)([\w-]+)/,r=function(e){return e.split("-").filter(function(e){return!Object.isEmpty(e)}).map(function(e){return e.capitalize()}).join(" ")},$.fn.extend({completable:function(e){return this.each(function(){var t;return(t=$(this)).on("result",function(e,i){var o;return i?(i.id=i.data,i.name=i.value,t.trigger("autocomplete:success",[i])):this.value?(o=this.value.match(n))?t.trigger("autocomplete:success",[{url:this.value,id:o[1],name:r(o[2])}]):t.trigger("autocomplete:text",[this.value]):void 0}).autocomplete("data-autocomplete",{cacheLength:10,delay:10,max:30,formatItem:function(e){return e.label},matchContains:1,matchSubset:1,minChars:2,dataType:"JSON",parse:function(e){return t.trigger("parse"),e.reverse()},$anchor:e,selectFirst:!1})})},completableVariant:function(){return this.each(function(){return $(this).completable().on("autocomplete:success",function(e,t){var n,r;if(n=$(this).parent().find(".variants"),r=$(this).data("variant_name"),!n.find('[value="'+t.id+'"]').exists())return $('<div class="variant"><input type="checkbox" name="'+r+'" value="'+t.id+'" checked="true" /><a class="b-link" href="'+t.url+'" class="bubbled">'+t.name+"</a></div>").appendTo(n).process(),this.value=""})})}})},function(e,t){jQuery.fn.exists=function(){return this.length>0}},function(e,t){history&&history.navigationMode&&(history.navigationMode="compatible"),$.extend({formNavigate:function(e){return $(document.body).on("change keypress","textarea",function(){return $(this).data({navigate_check_required:!0})}),$(document.body).on("submit","form",function(){return $(this).find("textarea").data({navigate_check_required:!1})}),$(window).on("beforeunload page:before-change",function(t){var n;if(n=!1,$("textarea:visible").each(function(){var t;if((t=$(this)).data("navigate_check_required"))return t.data({navigate_check_required:!1}),t.val().length>e.size?n=!0:void 0}),n)return"page:before-change"===t.type?confirm(e.message):e.message})}})},function(e,t){$.extend({galleryOptions:{cyclic:!0,hideOnContentClick:!0,transitionIn:"elastic",transitionOut:"elastic",speedIn:400,speedOut:200}}),$.extend({youtubeOptions:$.extend({},$.galleryOptions,{padding:0,autoScale:!1,width:680,showNavArrows:!1,hideOnContentClick:!1,height:495,type:"swf",swf:{wmode:"transparent",allowfullscreen:!0},onStart:function(){return $("#fancybox-expand").hide(),!0},onComplete:function(){return $("#fancybox-expand").hide()}})}),$.extend({vkOptions:$.extend({},$.youtubeOptions,{type:"iframe"})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n.n(r);$.fn.extend({imageEditable:function(){return this.each(function(){var e,t=this,n=$(this);return $(".mobile-edit",n).on("click",function(){return n.toggleClass("mobile-editing"),!1}),$(".delete",n).on("click",function(){return n.addClass("deletable"),!1}),$(".cancel",n).on("click",function(){return n.removeClass("deletable").removeClass("mobile-editing"),!1}),$(".confirm",n).on("click",function(){return $(this).data("remote")?$(this).callRemote():n.removeClass("deletable").addClass("deleted"),!1}),$(".confirm",n).on("ajax:success",(e=regeneratorRuntime.mark(function e(){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n.removeClass("deletable").addClass("deleted"),!(r=n.closest(".packery").data("packery"))){e.next=7;break}return r.remove(n[0]),e.next=6,i()(250);case 6:r.layout();case 7:case"end":return e.stop()}},e,t)}),function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}("next")})})),$(".move-left",n).on("click",function(){return n.insertBefore(n.prev()),n.removeClass("mobile-editing"),!1}),$(".move-right",n).on("click",function(){return n.insertAfter(n.next()),n.removeClass("mobile-editing"),!1})})}})},function(e,t){$.fn.extend({insertAtCaret:function(e,t,n){return this.each(function(r){var i,o,a,s,c;return document.selection?(this.focus(),(a=document.selection.createRange()).text=e+(""===a.text&&n?n:a.text)+t,this.focus()):this.selectionStart||"0"===this.selectionStart||0===this.selectionStart?(c=this.selectionStart,i=this.selectionEnd,o=this.scrollTop,s=""===(s=this.value.substring(c,i))&&n?n:s,this.value=this.value.substring(0,c)+e+s+t+this.value.substring(i,this.value.length),this.focus(),this.selectionEnd=this.selectionStart=c+e.length+s.length+t.length,this.scrollTop=o):(this.value+=e+t,this.focus())})}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var t,r,i,o,a,s,c,u,l=n(56),d=n.n(l);r={ru:"D MMMM YYYY, H:mm:ss",en:"MMMM Do YYYY, h:mm:ss a"},t={ru:"ll",en:"ll"},a=!1,$.fn.extend({livetime:function(){return a||(setInterval(u,600),a=!0),this.each(function(){return c(this),$(this).one("mouseover",function(){var t,n;if(n=s($(this)),t=r[e.locale],!$(this).data("no-tooltip"))return $(this).attr({title:n.format(t)})})})}}),u=function(){return $("time").each(function(){return c(this)})},c=function(n){var r,i,a;if(r=$(n),(i="1_day_absolute"===(a=o(r)).format?a.moment.unix()>d()().subtract(1,"day").unix()?a.moment.fromNow():a.moment.format(t[e.locale]):a.moment.fromNow())!==a.value)return r.text(i),a.value=i},s=function(e){return d()(e.attr("datetime")).subtract(MOMENT_DIFF).add(2,"seconds")},o=function(e){return e.data("timeinfo")||i(e)},i=function(e){var t,n;return n={},t=s(e),n.moment=d()().isBefore(t)&&!e.data("allow-future-time")?d()():t,n.value=e.text(),n.format=e.data("format"),e.data({timeinfo:n}),n}}.call(t,n(1))},function(e,t){var n,r;n=function(){var e;if((e=this.items[this.index]).rel&&1===this.items.length)return this.items=$("a[rel='"+e.rel+"']").toArray(),this.index=this.items.indexOf(e)},r=function(e){return e.src=e.el.data("href")||e.src},$.fn.extend({magnificRelGallery:function(){return this.each(function(){var e;if(!(e=$(this)).data("magnificPopup"))return e.magnificPopup({type:"image",closeOnContentClick:!0,gallery:{enabled:!0,navigateByImgClick:!0,preload:[0,1]},callbacks:{beforeOpen:n,elementParse:r},mainClass:"mfp-no-margins mfp-img-mobile"})})}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o=n(81);i="webm",r='<div class="mfp-figure mfp-webm-holder mfp-image-holder"><button title="Close (Esc)" type="button" class="mfp-close">\xd7</button><figure><div class="mfp-img"><div class="b-fancy_loader"></div></div></figure></div>',$.magnificPopup.registerModule(i,{options:{settings:null,cursor:"mfp-ajax-cur"},proto:{initWebm:function(){return this.types.push(i)},getWebm:function(e){var t,n,i,a;return t=$(r),i=t.find(".mfp-img"),n=$("<video>").attr({class:"mfp-webm",src:e.el.data("video"),controls:"controls",autoplay:!0}),new o.default(n),n.appendTo(i),a=!1,n.one("loadedmetadata play playing canplay",function(){if(!a)return a=!0,t.addClass("loaded")}),n.on("error",function(){return i.html('<p style="color: #fff;">broken video link</p>')}),this.appendContent(t),this.updateStatus("ready")}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n.n(r);function o(e,t){var n=e.parent(),r=e[0].naturalWidth||e.width(),i=e[0].naturalHeight||e.height();if(r>300&&!e.attr("width")&&!e.attr("height")){var o=r>i?"normalized_width":"normalized_height";e.addClass(o)}t.append_marker&&!n.children(".marker").exists()&&r>300&&i>300&&n.append("<span class='marker'>"+r+"x"+i+"</span>"),r<300&&i<300&&"a"===n.tagName()&&n.prop("href")===e.prop("src")&&e.unwrap()}$.fn.extend({normalizeImage:function(e){return this.each(function(){var t,n=this,r=$(this);r.imagesLoaded((t=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,i()();case 2:o(r,e);case 3:case"end":return t.stop()}},t,n)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(i,o){try{var a=e[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});t(s)}("next")})}))})}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o=n(2),a=n.n(o),s=n(121),c=n(467),u=n.n(c),l=n(469),d=n.n(l),f=n(471),p=n.n(f),h=n(122),m=n(84),_=n(31),v=n(54),g=(r=regeneratorRuntime.mark(function e(){var t,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document.body,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.JS_EXPORTS;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=$(r),s.a.track(i,t),u.a.track(i,t),d.a.track(i,t),p.a.track(i,t),new h.a(Object(v.default)(".to-process",t)),Object(v.default)("time",t).livetime(),Object(v.default)(".linkeable",t).changeTag("a").removeClass("linkeable"),Object(v.default)(".b-video.unprocessed",t).shikiVideo(),Object(v.default)(".b-shiki_wall.unprocessed",t).removeClass("unprocessed").each(function(e,t){return new Wall.Gallery(t)}),Object(v.default)(".postloaded[data-href]",t).each(function(){var e=$(this);e.is(":visible")&&(e.load(e.data("href"),function(){return e.removeClass("postloaded").process().trigger("postloaded:success")}),e.attr("data-href",null))}),Object(v.default)(".b-tooltipped.unprocessed",t).removeClass("unprocessed").each(function(){if(!Object(_.isMobile)()&&!Object(_.isTablet)()||this.classList.contains("mobile")){var e=$(this),t=function(){switch(e.data("direction")){case"top":return"s";case"bottom":return"n";case"right":return"w";default:return"e"}}(),n=e.data("tipsy-size"),r=n?"tipsy-"+n:null;e.tipsy({gravity:t,className:r,html:!0,prependTo:document.body})}}),Object(v.default)(".anime-tooltip",t).tooltip(m.a).removeClass("anime-tooltip").addClass("anime-tooltip-processed").removeAttr("title"),Object(v.default)(".bubbled",t).addClass("bubbled-processed").removeClass("bubbled").tooltip(Object.add(m.b,{offset:[-48,10,-10]})),Object(v.default)(".b-spoiler.unprocessed",t).spoiler(),Object(v.default)("img.check-width",t).removeClass("check-width").normalizeImage({append_marker:!0}),Object(v.default)(".b-image.unprocessed",t).removeClass("unprocessed").magnificRelGallery(),Object(v.default)(".b-show_more.unprocessed",t).removeClass("unprocessed").showMore(),(n=Object(v.default)(".align-posters.unprocessed",t)).length&&n.removeClass("unprocessed").find("img").imagesLoaded(function(){return n.alignPosters()}),e.next=22,a()();case 22:($.cookie("collapses")||"").replace(/;$/,"").split(";").forEach(function(e){return $("#collapse-"+e).filter(":not(.triggered)").trigger("click",!0)});case 23:case"end":return e.stop()}},e,this)}),i=function(){var e=r.apply(this,arguments);return new Promise(function(t,n){return function r(i,o){try{var a=e[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});t(s)}("next")})},function(){return i.apply(this,arguments)});$.fn.extend({process:function(e){return this.each(function(){g(this,e)})}})},function(e,t,n){"use strict";var r,i,o,a=n(2),s=n.n(a),c=n(3),u=function(e,t){return function(){return e.apply(t,arguments)}},l={}.hasOwnProperty;i=function(){return $("#injectCSSContainer").empty(),$("."+r.CLASS_NAME).each(function(){var e;return null!=(e=$(this).data(r.CLASS_NAME))?e.inject_css():void 0})},o=function(){return r.GLOBAL_HANDLER=!0,$(document).on("resize:debounced orientationchange",i)},t.a=r=function(e){function t(){return this.inject_css=u(this.inject_css,this),t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)l.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,c["default"]),t.PRIOR_ID=0,t.RATIO={entry:318/225,person:350/225,character:350/225},t.CLASS_NAME="d-cutted_covers",t.GLOBAL_HANDLER=!1,t.prototype.initialize=function(){return s()().then((e=this,function(){var n;if(e._fetch_poster(),e.collection_id="cutted_covers_"+e._increment_id(),e.ratio_value=t.RATIO[e._node_ratio(e.node)]||t.RATIO.entry,e.inject_css(),e.node.id=e.collection_id,e.node.classList.add(t.CLASS_NAME),e.$node.data(((n={})[""+t.CLASS_NAME]=e,n)),!t.GLOBAL_HANDLER)return o()}));var e},t.prototype.inject_css=function(){var e,t,n;if($.contains(document.documentElement,this.$poster[0])||this._fetch_poster(),e=(this.$poster.width()*this.ratio_value).round(2),(n=this.$poster.width())>0&&e>0)return $.injectCSS(((t={})["#"+this.collection_id]={".image-cutter":{"max-width":n,"max-height":e}},t))},t.prototype._increment_id=function(){return t.PRIOR_ID=t.PRIOR_ID+1},t.prototype._node_ratio=function(e){var t;return null!=(t=this.node.attributes["data-ratio_type"])?t.value:void 0},t.prototype._fetch_poster=function(){return this.$poster=this.$(".b-catalog_entry:first-child .image-decor")},t}()},,,,,,,,,,function(e,t,n){"use strict";t.a=function(){var e,t,n,r=$("meta[name=csrf-param]").attr("content"),i=$("meta[name=csrf-token]").attr("content");return{post:(n=i,(t=r)in(e={})?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e),headers:{"X-CSRF-Token":i}}}},,,function(e,t,n){"use strict";(function(e){var r,i,o=n(2),a=n.n(o),s=n(10),c=n(33),u=n(83),l=n(62),d=function(e,t){return function(){return e.apply(t,arguments)}},f={}.hasOwnProperty;r="frontend.dynamic_elements.comment",t.a=function(t){function n(){return this._deactivate_inaccessible_buttons=d(this._deactivate_inaccessible_buttons,this),n.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)f.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,u["default"]),n.prototype._type=function(){return"comment"},n.prototype._type_label=function(){return e.t(r+".type_label")},n.prototype._default_model=function(){return{can_destroy:!1,can_edit:!1,id:parseInt(this.root.id),is_viewed:!0,user_id:this.$root.data("user_id")}},n.prototype.initialize=function(){var t,n;if(this.model=this.$root.data("model")||this._default_model(),!window.SHIKI_USER.isUserIgnored(this.model.user_id))return this.$body=this.$(".body"),this.model&&!this.model.is_viewed&&this._activate_appear_marker(),this.$root.one("mouseover",this._deactivate_inaccessible_buttons),this.$(".item-mobile").one(this._deactivate_inaccessible_buttons),this.$inner.hasClass("check_height")&&((t=this.$body.find("img")).exists()?t.imagesLoaded(function(e){return function(){return a()(10).then(function(){return e._check_height()})}}(this)):this._check_height()),this.$(".item-reply").on("click",function(e){return function(t){var n,r,i;return n=e.root.id,r=e.$root.data("user_nickname"),i="["+e._type()+"="+n+"]"+r+"[/"+e._type()+"], ",e.$root.trigger("comment:reply",[i,e._is_offtopic()])}}(this)),this.$(".main-controls .item-edit").on("ajax:before",this._shade).on("ajax:complete",this._unshade).on("ajax:success",function(e){return function(t,n,r,i){var o;return o=$(n),new c.default(o).edit_comment(e.$root)}}(this)),this.$(".main-controls .item-moderation").on("click",function(e){return function(){return e.$(".main-controls").hide(),e.$(".moderation-controls").show()}}(this)),this.$(".item-offtopic, .item-summary").on("click",function(e){var t;return t=this.classList.contains("selected")?"remove":"add",$(this).attr("data-confirm",$(this).data("confirm-"+t))}),this.$(".item-spoiler, .item-abuse").on("ajax:before",function(e){var t;return null!==(t=prompt($(this).data("reason-prompt")))&&$(this).data({form:{reason:t}})}),this.$(".item-summary,.item-offtopic,.item-spoiler,.item-abuse,.b-offtopic_marker,.b-summary_marker").on("ajax:success",function(t){return function(n,o,a,c){return"affected_ids"in o&&o.affected_ids.length?(o.affected_ids.forEach(function(e){var t;return null!=(t=$(".b-comment#"+e).view())?t.mark(o.kind,o.value):void 0}),s.a.notice(i(o))):s.a.notice(e.t(r+".your_request_will_be_considered")),t.$(".item-moderation-cancel").trigger("click")}}(this)),this.$(".moderation-controls .item-moderation-cancel").on("click",function(e){return function(){return e._close_aside()}}(this)),this.$(".item-ban").on("ajax:success",function(e){return function(t,n){var r;return r=new l.default(n),e.$(".moderation-ban").html(r.$root).show(),e._close_aside()}}(this)),this.$(".moderation-ban").on("click",".cancel",function(e){return function(){return e.$(".moderation-ban").hide()}}(this)),this.$(".moderation-ban").on("ajax:success","form",function(e){return function(t,n){return e._replace(n.html)}}(this)),this.on("faye:comment:set_replies",function(e){return function(t,n){return e.$(".b-replies").remove(),$(n.replies_html).appendTo(e.$body).process()}}(this)),this.$(".hash").one("mouseover",function(){var e;return(e=$(this)).attr({href:e.data("url")}).changeTag("a")});this.$root.parent().length?this.$root.remove():a()().then((n=this,function(){return n.$root.remove()}))},n.prototype.mark=function(e,t){return this.$(".item-"+e).toggleClass("selected",t),this.$(".b-"+e+"_marker").toggle(t)},n.prototype._is_offtopic=function(){return"none"!==this.$(".b-offtopic_marker").css("display")},n.prototype._deactivate_inaccessible_buttons=function(){return this.model.can_edit||this.$(".item-edit").addClass("hidden"),this.model.can_destroy||this.$(".item-delete").addClass("hidden"),window.SHIKI_USER.isModerator?(this.$(".moderation-controls .item-abuse").addClass("hidden"),this.$(".moderation-controls .item-spoiler").addClass("hidden")):this.$(".moderation-controls .item-ban").addClass("hidden")},n}(),i=function(t){return t.value?"offtopic"===t.kind?t.affected_ids.length>1?s.a.notice(e.t(r+".comments_marked_as_offtopic")):s.a.notice(e.t(r+".comment_marked_as_offtopic")):s.a.notice(e.t(r+".comment_marked_as_summary")):"offtopic"===t.kind?s.a.notice(e.t(r+".comment_not_marked_as_offtopic")):s.a.notice(e.t(r+".comment_not_marked_as_summary"))}}).call(t,n(1))},function(e,t,n){(function(t){var r=n(16);e.exports=function(e){var n,i="",o=e||{};return function(e,t,o){i=i+"\x3c!-- es5 only in pug--\x3e<div"+r.attr("class",r.classes(["achievement",t.event],[!1,!0]),!1,!0)+'><div class="content"><div class="title"><a'+r.attr("href",o.SHIKI_USER.url+"/achievements",!0,!0)+">"+r.escape(null==(n=e.t("frontend.achievements.title."+t.event))?"":n)+'</a></div><div class="name"><div class="icon"></div><a'+r.attr("href","/achievements/"+t.neko_id,!0,!0)+">"+r.escape(null==(n=t.label)?"":n)+"</a>",t.level&&(i=i+'<span class="level">\u0443\u0440. '+r.escape(null==(n=t.level)?"":n)+"</span>"),i=i+'</div></div><div class="image"><img'+r.attr("src",t.image,!0,!0)+"></div></div>"}.call(this,"I18n"in o?o.I18n:"undefined"!==typeof t?t:void 0,"achievement"in o?o.achievement:"undefined"!==typeof achievement?achievement:void 0,"window"in o?o.window:"undefined"!==typeof window?window:void 0),i}}).call(t,n(1))},function(e,t,n){(function(t){var r=n(16);e.exports=function(e){var n,i="",o=e||{};return function(e){i=i+'\x3c!-- es5 only in pug--\x3e<div class="block"><div class="b-link_button is-censored dark disabled">'+r.escape(null==(n=e.t("frontend.pages.p_animes.hentai"))?"":n)+"</div></div>"}.call(this,"I18n"in o?o.I18n:"undefined"!==typeof t?t:void 0),i}}).call(t,n(1))},function(e,t,n){(function(t){var r=n(16);e.exports=function(e){var n,i="",o=e||{};return function(e){i=i+'\x3c!-- es5 only in pug--\x3e<div class="block"><div class="b-link_button is-licensed dark disabled">'+r.escape(null==(n=e.t("frontend.pages.p_animes.licensed"))?"":n)+"</div></div>"}.call(this,"I18n"in o?o.I18n:"undefined"!==typeof t?t:void 0),i}}).call(t,n(1))},function(e,t,n){var r=n(16);e.exports=function(e){var t="",n=e||{};return function(e){t=t+'\x3c!-- es5 only in pug--\x3e<div class="block"><a class="b-link_button dark upload-video"'+r.attr("href",e,!0,!0)+">\u041d\u0435\u0442 \u0432\u0438\u0434\u0435\u043e. \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c</a></div>"}.call(this,"url"in n?n.url:"undefined"!==typeof url?url:void 0),t}},function(e,t,n){(function(t){var r=n(16);e.exports=function(e){var n,i="",o=e||{};return function(e,t){i=i+'\x3c!-- es5 only in pug--\x3e<div class="block"><a class="b-link_button dark watch-online"'+r.attr("href",t,!0,!0)+">"+r.escape(null==(n=e.t("frontend.pages.p_animes.watch_online"))?"":n)+"</a></div>"}.call(this,"I18n"in o?o.I18n:"undefined"!==typeof t?t:void 0,"url"in o?o.url:"undefined"!==typeof url?url:void 0),i}}).call(t,n(1))},function(e,t,n){(function(t){var r=n(16);e.exports=function(e){var n="",i=e||{};return function(e){n=n+'\x3c!-- es5 only in pug--\x3e<div class="b-comments-notifier" style="display: none;"'+r.attr("title",e.t("frontend.lib.comments_notifier.number_of_unread_comments"),!0,!0)+"></div>"}.call(this,"I18n"in i?i.I18n:"undefined"!==typeof t?t:void 0),n}}).call(t,n(1))},function(e,t,n){(function(t){var r=n(16);e.exports=function(e){var n="",i=e||{};return function(e,t,i,o){n=n+'\x3c!-- es5 only in pug--\x3e<a class="b-image"'+r.attr("href",i.original_url,!0,!0)+r.attr("id",i.id,!0,!0)+r.attr("rel",o,!0,!0)+r.attr("data-tags",i.tags,!0,!0)+">",t&&(n=n+'<div class="mobile-edit"></div><div class="controls"><div class="delete"'+r.attr("title",e.t("frontend.images.delete"),!0,!0)+'></div><div class="confirm"'+r.attr("title",e.t("frontend.images.confirm"),!0,!0)+r.attr("data-action",t,!0,!0)+' data-method="delete" data-remote="true" data-type="json"></div><div class="cancel"'+r.attr("title",e.t("frontend.images.cancel"),!0,!0)+"></div></div>"),n=n+"<img"+r.attr("src",i.preview_url,!0,!0)+"></a>"}.call(this,"I18n"in i?i.I18n:"undefined"!==typeof t?t:void 0,"destroy_url"in i?i.destroy_url:"undefined"!==typeof destroy_url?destroy_url:void 0,"image"in i?i.image:"undefined"!==typeof image?image:void 0,"rel"in i?i.rel:"undefined"!==typeof rel?rel:void 0),n}}).call(t,n(1))},function(e,t,n){(function(t){var r=n(16);e.exports=function(e){var n,i="",o=e||{};return function(e,t,o,a,s){i=i+'\x3c!-- es5 only in pug--\x3e<div class="b-poll"><div class="poll"><div class="name">'+r.escape(null==(n=s.name)?"":n)+'</div><div class="text">'+(null==(n=s.text_html)?"":n)+'</div></div><div class="poll-variants">',function(){var e=s.variants;if("number"==typeof e.length)for(var c=0,u=e.length;c<u;c++){var l=e[c];a?i=i+'<div class="poll-variant pending"><label class="b-radio"><input'+r.attr("name","poll_"+s.id,!0,!0)+' type="radio"'+r.attr("value",l.id,!0,!0)+'><div class="radio-label">'+r.escape(null==(n=l.label)?"":n)+"</div></label></div>":(i=i+'<div class="poll-variant result"><div class="votes-total">'+r.escape(null==(n=l.votes_total)?"":n)+'</div><div class="votes-percent">'+r.escape(null==(n=o(l))?"":n)+"%</div><label>"+r.escape(null==(n=l.label)?"":n),s.vote&&s.vote.variant_id==l.id&&(i+='<div class="voted-for">\u2713</div>'),i=i+'</label><div class="bar simple horizontal"><div class="line"><div'+(r.attr("class",r.classes(["bar",t(l)],[!1,!0]),!1,!0)+r.attr("style",r.style("width: "+o(l)+"%"),!0,!0))+"></div></div></div></div>")}else for(var c in u=0,e)u++,l=e[c],a?i=i+'<div class="poll-variant pending"><label class="b-radio"><input'+r.attr("name","poll_"+s.id,!0,!0)+' type="radio"'+r.attr("value",l.id,!0,!0)+'><div class="radio-label">'+r.escape(null==(n=l.label)?"":n)+"</div></label></div>":(i=i+'<div class="poll-variant result"><div class="votes-total">'+r.escape(null==(n=l.votes_total)?"":n)+'</div><div class="votes-percent">'+r.escape(null==(n=o(l))?"":n)+"%</div><label>"+r.escape(null==(n=l.label)?"":n),s.vote&&s.vote.variant_id==l.id&&(i+='<div class="voted-for">\u2713</div>'),i=i+'</label><div class="bar simple horizontal"><div class="line"><div'+(r.attr("class",r.classes(["bar",t(l)],[!1,!0]),!1,!0)+r.attr("style",r.style("width: "+o(l)+"%"),!0,!0))+"></div></div></div></div>")}.call(this),i+="</div>",a&&(i=i+'<div class="poll-actions"><div class="vote hidden">'+r.escape(null==(n=e.t("frontend.polls.vote"))?"":n)+'</div><div class="abstain hidden">'+r.escape(null==(n=e.t("frontend.polls.abstain"))?"":n)+"</div></div>"),i+="</div>"}.call(this,"I18n"in o?o.I18n:"undefined"!==typeof t?t:void 0,"bar_class"in o?o.bar_class:"undefined"!==typeof bar_class?bar_class:void 0,"bar_percent"in o?o.bar_percent:"undefined"!==typeof bar_percent?bar_percent:void 0,"can_vote"in o?o.can_vote:"undefined"!==typeof can_vote?can_vote:void 0,"model"in o?o.model:"undefined"!==typeof model?model:void 0),i}}).call(t,n(1))},function(e,t,n){(function(t){var r=n(16);e.exports=function(e){var n,i="",o=e||{};return function(e,t){i+="\x3c!-- es5 only in pug--\x3e",i=t?i+'<div class="nothing_found">'+r.escape(null==(n=e.t("frontend.search.nothing_found"))?"":n)+"</div>":i+'<div class="b-nothing_here">'+r.escape(null==(n=e.t("frontend.search.nothing_found"))?"":n)+"</div>"}.call(this,"I18n"in o?o.I18n:"undefined"!==typeof t?t:void 0,"isAutocomplete"in o?o.isAutocomplete:"undefined"!==typeof isAutocomplete?isAutocomplete:void 0),i}}).call(t,n(1))},function(e,t,n){(function(t){var r=n(16);e.exports=function(e){var n,i="",o=e||{};return function(e,t,o){i+="\x3c!-- es5 only in pug--\x3e",o&&(i=i+"<div"+r.attr("class",r.classes(["search-mode","index"===t?"active":""],[!1,!0]),!1,!0)+' data-mode="index">'+r.escape(null==(n=e.t("frontend.search.mode.index"))?"":n)+"</div>"),function(){var o=["anime","manga","ranobe","character","person"];if("number"==typeof o.length)for(var a=0,s=o.length;a<s;a++){var c=o[a];i=i+"<div"+(r.attr("class",r.classes(["search-mode",t===c?"active":""],[!1,!0]),!1,!0)+r.attr("data-mode",c,!0,!0))+">"+r.escape(null==(n=e.t("frontend.search.mode."+c))?"":n)+"</div>"}else for(var a in s=0,o)s++,c=o[a],i=i+"<div"+(r.attr("class",r.classes(["search-mode",t===c?"active":""],[!1,!0]),!1,!0)+r.attr("data-mode",c,!0,!0))+">"+r.escape(null==(n=e.t("frontend.search.mode."+c))?"":n)+"</div>"}.call(this)}.call(this,"I18n"in o?o.I18n:"undefined"!==typeof t?t:void 0,"currentMode"in o?o.currentMode:"undefined"!==typeof currentMode?currentMode:void 0,"hasIndex"in o?o.hasIndex:"undefined"!==typeof hasIndex?hasIndex:void 0),i}}).call(t,n(1))},function(e,t,n){(function(t){var r=n(16);e.exports=function(e){var n,i="",o=e||{};return function(e,t,o,a,s,c,u,l){i=i+"\x3c!-- es5 only in pug--\x3e<div"+r.attr("class",r.classes(["b-add_to_list",c.status],[!1,!0]),!1,!0)+"><form"+(r.attr("action",s,!0,!0)+r.attr("data-method",a,!0,!0))+' data-remote="true" data-type="json"><input type="hidden" name="frontend" value="1"><input type="hidden" name="user_rate[user_id]"'+r.attr("value",l,!0,!0)+'><input type="hidden" name="user_rate[target_id]"'+r.attr("value",c.target_id,!0,!0)+'><input type="hidden" name="user_rate[target_type]"'+r.attr("value",c.target_type,!0,!0)+'><input type="hidden" name="user_rate[status]"'+r.attr("value",c.status,!0,!0)+'><input type="hidden" name="user_rate[score]"'+r.attr("value",c.score,!0,!0)+'><div class="trigger"><div class="trigger-arrow"></div>',c.id?(i=i+'<div class="edit-trigger"><div class="edit"></div><div class="text"><span class="status-name"'+r.attr("data-text",u[c.status],!0,!0)+"></span>",c.score>0&&(i=i+"<span>&nbsp;&nbsp;&ndash;&nbsp;&nbsp;"+r.escape(null==(n=c.score)?"":n)+"</span>"),i+="</div></div>"):i=i+'<div class="text add-trigger"'+r.attr("data-status",c.status,!0,!0)+'><div class="plus"></div><span class="status-name"'+r.attr("data-text",e.t("frontend.user_rates.button.add_to_list"),!0,!0)+"></span></div>",i+='</div><div class="expanded-options">',function(){var e=u;if("number"==typeof e.length)for(var t=0,n=e.length;t<n;t++){var o=e[t];c.id&&c.status==t||(i=i+'<div class="option add-trigger"'+r.attr("data-status",t,!0,!0)+'><div class="text"><span class="status-name"'+r.attr("data-text",o,!0,!0)+"></span></div></div>")}else for(var t in n=0,e)n++,o=e[t],c.id&&c.status==t||(i=i+'<div class="option add-trigger"'+r.attr("data-status",t,!0,!0)+'><div class="text"><span class="status-name"'+r.attr("data-text",o,!0,!0)+"></span></div></div>")}.call(this),c.id&&(i=i+'<div class="option remove-trigger"'+r.attr("data-action",t,!0,!0)+' data-method="delete" data-remote="true" data-type="json"'+r.attr("value",e.t("frontend.user_rates.button.remove_from_my_list"),!0,!0)+'><div class="text"><span class="status-name"'+r.attr("data-text",e.t("frontend.user_rates.button.remove_from_my_list"),!0,!0)+"></span></div></div>"),i=i+"</div></form></div>"+(null==(n=o)?"":n)}.call(this,"I18n"in o?o.I18n:"undefined"!==typeof t?t:void 0,"destroy_url"in o?o.destroy_url:"undefined"!==typeof destroy_url?destroy_url:void 0,"extended_html"in o?o.extended_html:"undefined"!==typeof extended_html?extended_html:void 0,"form_method"in o?o.form_method:"undefined"!==typeof form_method?form_method:void 0,"form_url"in o?o.form_url:"undefined"!==typeof form_url?form_url:void 0,"model"in o?o.model:"undefined"!==typeof model?model:void 0,"statuses"in o?o.statuses:"undefined"!==typeof statuses?statuses:void 0,"user_id"in o?o.user_id:"undefined"!==typeof user_id?user_id:void 0),i}}).call(t,n(1))},function(e,t,n){(function(t){var r=n(16);e.exports=function(e){var n,i="",o=e||{};return function(e,t,o,a,s){i+='\x3c!-- es5 only in pug--\x3e<div class="rate-show">',"Anime"==a.target_type?(i=i+'<div class="rate-number"><span class="current-episodes">'+r.escape(null==(n=a.episodes)?"":n)+"</span>",0!=t.episodes&&(i=i+'<span class="b-separator">/</span><span class="total-episodes">'+r.escape(null==(n=t.episodes)?"":n)+"</span>"),a.episodes==t.episodes&&0!=a.episodes||(i=i+'<span class="item-add increment"'+r.attr("data-action",o,!0,!0)+' data-method="post" data-remote="true" data-type="json"></span>'),i=i+'</div><div class="episodes">'+r.escape(null==(n=e.t("activerecord.attributes.user_rate.episodes"))?"":n)+"</div>"):(i=i+'<div class="rate-number"><span class="current-episodes">'+r.escape(null==(n=a.chapters)?"":n)+"</span>",0!=t.chapters&&(i=i+'<span class="b-separator">/</span><span class="total-episodes">'+r.escape(null==(n=t.chapters)?"":n)+"</span>"),a.chapters==t.chapters&&0!=a.chapters||(i=i+'<span class="item-add increment"'+r.attr("data-action",o,!0,!0)+' data-remote="true" data-type="json" data-method="post"></span>'),i=i+'</div><div class="episodes">'+r.escape(null==(n=e.t("activerecord.attributes.user_rate.chapters"))?"":n)+"</div>"),i+=null==(n=s)?"":n,a.text_html&&(i=i+'<div class="note">'+(null==(n=a.text_html)?"":n)+"</div>"),i+="</div>"}.call(this,"I18n"in o?o.I18n:"undefined"!==typeof t?t:void 0,"entry"in o?o.entry:"undefined"!==typeof entry?entry:void 0,"increment_url"in o?o.increment_url:"undefined"!==typeof increment_url?increment_url:void 0,"model"in o?o.model:"undefined"!==typeof model?model:void 0,"rate_html"in o?o.rate_html:"undefined"!==typeof rate_html?rate_html:void 0),i}}).call(t,n(1))},function(e,t,n){(function(t){var r=n(16);e.exports=function(e){var n,i="",o=e||{};return function(e,t){i=i+'\x3c!-- es5 only in pug--\x3e<div class="b-rate rateable"'+r.attr("data-notices",e.t("activerecord.attributes.user_rate.scores"),!0,!0)+'><div class="stars-container"><div class="hoverable-trigger"></div><div'+r.attr("class",r.classes(["stars","score","score-"+t],[!1,!1,!0]),!1,!0)+'></div><div class="stars hover"></div><div class="stars background"></div></div><div class="text-score"><div'+r.attr("class",r.classes(["score-value","score-"+t],[!1,!0]),!1,!0)+">"+r.escape(null==(n=t)?"":n)+'</div><div class="score-notice">',i+=t>0?r.escape(null==(n=e.t("activerecord.attributes.user_rate.scores."+t))?"":n):"&nbsp;",i+="</div></div></div>"}.call(this,"I18n"in o?o.I18n:"undefined"!==typeof t?t:void 0,"score"in o?o.score:"undefined"!==typeof score?score:void 0),i}}).call(t,n(1))},function(e,t,n){"use strict";(function(e){var r=n(2),i=n.n(r),o=n(10),a=n(121),s=n(3),c=n(24),u=n(82),l=function(e,t){return function(){return e.apply(t,arguments)}},d={}.hasOwnProperty;t.a=function(t){var n;function r(){return this._ajax_success=l(this._ajax_success,this),this._ajax_complete=l(this._ajax_complete,this),this._ajax_before=l(this._ajax_before,this),this._submit_status=l(this._submit_status,this),this._toggle_list=l(this._toggle_list,this),r.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)d.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(r,s["default"]),"user_rates/button",n="activerecord.attributes.user_rate.statuses",r.prototype.initialize=function(){return this.model=this.$root.data("model"),this._render(),this.on("click",".trigger-arrow",this._toggle_list),this.on("click",".edit-trigger",this._toggle_list),this.on("click",".add-trigger",this._submit_status),this.on("ajax:before",this._ajax_before),this.on("ajax:error",this._ajax_complete),this.on("ajax:success",this._ajax_success)},r.prototype._toggle_list=function(){return this.$(".b-add_to_list").toggleClass("expanded"),this.$(".expanded-options").data("height")||this.$(".expanded-options").data({height:this.$(".expanded-options").height()}).css({height:0}).show(),i()().then((e=this,function(){return e.$(".b-add_to_list").hasClass("expanded")?e.$(".expanded-options").css({height:e.$(".expanded-options").data("height")}):e.$(".expanded-options").css({height:0})}));var e},r.prototype._submit_status=function(e){var t;return(t=$(e.target).closest("form")).find('input[name="user_rate[status]"]').val($(e.currentTarget).data("status")),t.submit()},r.prototype._ajax_before=function(){return window.SHIKI_USER.isSignedIn?this.$root.addClass("b-ajax"):(o.a.info(e.t(u.a.I18N_KEY+".register_to_complete_action")),!1)},r.prototype._ajax_complete=function(){return this.$root.removeClass("b-ajax")},r.prototype._ajax_success=function(e,t){return a.a.update(t||this._new_user_rate()),this._ajax_complete()},r.prototype.update=function(e){return this.model=e,this._render()},r.prototype._is_persisted=function(){return!!this.model.id},r.prototype._render=function(){return this.html(c.default["user_rates/button"](this._render_params()))},r.prototype._render_params=function(){var t;return t=this._is_persisted()?"/api/v2/user_rates/"+this.model.id:"/api/v2/user_rates",{model:this.model,user_id:window.SHIKI_USER.id,statuses:e.t(n+"."+this.model.target_type.toLowerCase()),form_url:t,form_method:this._is_persisted()?"PATCH":"POST",destroy_url:this._is_persisted()?"/api/v2/user_rates/"+this.model.id:void 0,extended_html:this._extended_html()}},r.prototype._new_user_rate=function(){return{status:"planned",target_id:this.model.target_id,target_type:this.model.target_type}},r.prototype._extended_html=function(){},r}()}).call(t,n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(206);$.fn.extend({process_hidden_content:function(){return this.each(function(){var e=$(this);e.find(".align-posters").trigger("spoiler:opened"),e.find("."+r.a.CLASS_NAME).each(function(){var e=$(this).data(r.a.CLASS_NAME);e&&e.inject_css()})})}})},function(e,t){var n;$.fn.extend({rateable:function(){return this.each(function(){var e,t,r,i,o,a,s,c,u,l,d;return a=$(".stars-container",this),e=$(".hover",this),t=$(".hoverable-trigger",this),r=$(".score",this),o=$(".score-value",this),i=$(".score-notice",this),l=$(this).data("notices"),c=$(this).data("input_selector"),d=!!c,s=parseInt(o.text())||0,u=null,t.on("mousemove",function(t){var r,s;return r=$(t.target).offset().left,s=10*(t.clientX-r)/a.width(),u=s>.5?[Math.floor(s)+1,10].min():0,i.html(l[u]||"&nbsp;"),e.attr({class:n(e)+" score-"+u}),o.html(u).attr({class:n(o)+" score-"+u})}),t.on("mouseover",function(e){return r.addClass("hovered")}),t.on("mouseout",function(t){return r.removeClass("hovered"),i.html(l[s]||"&nbsp;"),e.attr({class:n(e)}),r.attr({class:n(r)+" score-"+s}),o.attr({class:n(o)+" score-"+s}).html(s)}),t.on("click",function(e){return d&&(s=u,$(this).trigger("mouseout"),$(this).closest("form").find(c).val(u)),$(this).trigger("rate:change",u)})})}}),n=function(e){return e.attr("class").replace(/\s?score-\d+/,"")}},function(e,t){$.extend({scrollTo:function(e,t){var n=void 0;if("number"===typeof e)n=e;else{var r=$(e);n=r.length?r.offset().top-10:0}$("html, body").animate({scrollTop:n},250,t)}})},function(e,t){$.fn.extend({setCursorPosition:function(e){var t,n,r;if(t=$(this).get(0)){r=!1;try{t.setSelectionRange&&(t.setSelectionRange(e,e),r=!0)}catch(e){}return!r&&t.createTextRange?((n=t.createTextRange()).collapse(!0),n.moveEnd("character",e),n.moveStart("character",e),n.select()):void 0}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(33);$.fn.extend({shikiEditor:function(){return this.each(function(e,t){t.classList.contains("unprocessed")&&new r.default(t)})}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var t,r,i,o=n(2),a=n.n(o),s=n(10),c=n(216);t="frontend.lib.jquery_shiki_file",r={maxfiles:150,progress:null,input:null},i=!1,$.fn.extend({shikiFile:function(n){return this.each(function(){var o,u,l,d,f,p;return p=$.extend({},r,n),o=$(this),u=null,d=$(p.progress),l=d.children(),$(p.input).change(function(){if(this.files.length>0)return o.trigger("drop",[this.files])}),f=Object(c.a)(),o.filedrop({url:o.data("upload_url"),paramname:"image",data:f.post,headers:f.headers,allowedfiletypes:["image/jpg","image/jpeg","image/png"],error:function(n,r,o,a,c){switch(this.afterAll(),n){case"TooManyFiles":s.a.error(e.t(t+".too_many_files",{count:p.maxfiles}));break;case"FileTooLarge":s.a.error(e.t(t+".too_large_file"));break;case"Unprocessable Entity":c?s.a.error(c):s.a.error(e.t(t+".please_try_again_later"));break;case"FileTypeNotAllowed":s.a.error(e.t(t+".file_type_not_allowed"));break;default:s.a.error(e.t(t+".browser_not_supported"))}return i=!1},maxfiles:p.maxfiles,maxfilesize:4,queuefiles:1,refresh:50,beforeEach:function(n){var r,i;return r=n.name,i=Math.ceil(n.size/10)/100,l.html(e.t(t+".loading_file",{filename:r,filesize:i}))},drop:function(){return!i&&(i=!0,o.trigger("upload:before"),$(document.body).trigger("dragleave"),d.addClass("active"))},afterAll:function(){return o.trigger("upload:after"),i=!1,d.removeClass("active"),a()(250).then(function(){return l.width("0%")})},docOver:function(n){var r,s,c;if(!o.data("placeholder_displayed")&&o.is(":visible"))return o.data({placeholder_displayed:!0}),r=o.outerHeight(),c=o.outerWidth(),s=i?e.t(t+".wait_till_loaded"):e.t(t+".drop_pictures_here"),u=$("<div data-text='"+s+"' class='b-dropzone-drag_placeholder "+(i?"disallowed":"allowed")+"' style='width:"+c+"px!important;height:"+r+"px;line-height:"+Math.max(r,75)+"px;'></div>").css({opacity:0}).on("drop",function(e){return o.trigger(e)}).on("dragenter",function(){return $(this).addClass("hovered")}).on("dragleave",function(){return $(this).removeClass("hovered")}).insertBefore(o),a()().then(function(){return u.css({opacity:.75})})},docLeave:function(e){if(o.data("placeholder_displayed"))return u=o.parent().find(".b-dropzone-drag_placeholder").css({opacity:0}),a()(350).then(function(){return u.remove()}),o.data({placeholder_displayed:!1})},uploadStarted:function(e,t,n){return o.trigger("upload:started",e)},uploadFinished:function(e,t,n,r){return Object.isString(n)||"error"in n?o.trigger("upload:failed",[n,e]):o.trigger("upload:success",[n,e])},progressUpdated:function(e,t,n){return n>85||e>0?l.width("100%"):l.width(n+"%")}}),o.pastableTextarea(),o.on("pasteImage",function(e,t){var n;return n=new File([t.blob],"pasted_file."+t.blob.type.split("/")[1],{type:t.blob.type,lastModified:Date.now()}),o.trigger("drop",[[n]])})})}})}.call(t,n(1))},function(e,t){$.fn.extend({shikiImage:function(){return this.each(function(){return $(this).magnificRelGallery().imageEditable()})}})},function(e,t){var n=function(e,t){return{index:e+"/",src:"%id%",id:function(e){return t}}};$.fn.extend({shikiVideo:function(){return this.each(function(){var e=$(this);if(e.hasClass("unprocessed")){e.removeClass("unprocessed");var t,r=e.find(".video-link");if(r.magnificPopup({preloader:!1,type:"iframe",iframe:{markup:'\n            <div class=\'mfp-iframe-scaler\'>\n              <div class="mfp-close"></div>\n              <iframe class="mfp-iframe" frameborder="0" allowfullscreen></iframe>\n            </div>\n          ',srcAction:"iframe_src",patterns:(t=r.data("href"),{youtube:n("youtube.com",t),vimeo:n("vimeo.com",t),youtu_be:n("youtu.be",t),rutube_ru:n("rutube.ru",t),vk_com:n("vk.com",t),vkontakte_ru:n("vkontakte.ru",t),coub_com:n("coub.com",t),twitch_rv:n("twitch.tv",t),myvi_ru:n("myvi.ru",t),myvi_tv:n("myvi.tv",t),myvi_top:n("myvi.top",t),sibnet:n("sibnet.ru",t),yandex_ru:n("yandex.ru",t),dailymotion_com:n("dailymotion.com",t),streamable_com:n("streamable.com",t),smotret_anime:n("smotretanime.ru",t),ok_ru:n("ok.ru",t),youmite_ru:n("youmite.ru",t),viuly_io:n("viuly.io",t),stormo_xyz:n("stormo.xyz",t),stormo_tv:n("stormo.tv",t),mediafile_online:n("mediafile.online",t)})}}),e.hasClass("youtube")||e.hasClass("vk")){var i=e.find("img");i.imagesLoaded(function(){1.3===(1*i[0].naturalWidth/i[0].naturalHeight).round(1)&&e.addClass("shrinked")})}}})}})},function(e,t){$.fn.extend({showMore:function(){return this.each(function(){var e=$(this),t=e.next().find(".hide-more");return e.on("click",function(){e.hide(),t.parent().show()}),t.on("click",function(){e.show(),t.parent().hide()})})}})},function(e,t){$.fn.extend({spoiler:function(){return this.each(function(){var e=$(this);if(e.hasClass("unprocessed")){e.removeClass("unprocessed");var t=e.children("label"),n=t.next();e.on("spoiler:open",function(){return t.click()}),t.on("click",function(e){(e.target===t[0]||$(this).closest(t).exists())&&(t.hide(),n.css({display:"inline"}),n.find(".b-prgrph").each(function(){n.addClass("no-cursor"),$(this).addClass("inner-prgrph").removeClass("b-prgrph").wrap('<div class="b-spoiler_prgrph"></div>')}),n.process_hidden_content())}),n.on("click",function(e){(e.target===n[0]||$(e.target).parent()[0]===n[0]||$(e.target).hasClass("inner-prgrph"))&&(t.css({display:"inline"}),n.hide())})}})}})},function(e,t){$.fn.extend({tagName:function(){return this.get(0).tagName.toLowerCase()}})},function(e,t){$.fn.extend({triggerWithReturn:function(e,t){var n=new $.Event(e);return this.trigger(n,t),n.result}})},function(e,t){$.fn.extend({view:function(e){return e?this.data({view_object:e}):this.data("view_object")}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n.n(r);$.fn.extend({yellowFade:function(){return this.each((e=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=$(this)).hasClass("yellow-fade")){e.next=3;break}return e.abrupt("return");case 3:return t.addClass("yellow-fade"),e.next=6,i()(50);case 6:return t.addClass("yellow-fade-animated"),e.next=9,i()(1e3);case 9:t.removeClass("yellow-fade yellow-fade-animated");case 10:case"end":return e.stop()}},e,this)}),function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}("next")})}));var e}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var t=n(64),r=n(10);$(document).ajaxSend(function(e,t,n){var r=$("meta[name='csrf-token']").attr("content");t.setRequestHeader("X-CSRF-Token",r),"SHIKI_FAYE_LOADER"in window&&SHIKI_FAYE_LOADER.id()&&t.setRequestHeader("X-Faye-Token",SHIKI_FAYE_LOADER.id())}),jQuery(function(n){var i=n("meta[name=csrf-token]").attr("content"),o=n("meta[name=csrf-param]").attr("content");n.fn.extend({triggerAndReturn:function(e,t){var r=new n.Event(e);return this.trigger(r,t),!1!==r.result},callRemote:function(t){var i=n(this),o=i.is("form"),a=o,s=this,c=s.data("method")||s.attr("method")||"GET",u=s.data("action")||s.attr("action")||s.attr("href"),l=s.data("type")||"script";if(i.data("disabled")||void 0===u)return!1;if(!s.triggerAndReturn("ajax:before"))return!1;if(!a||!i.data("ajax:locked")){i.data("ajax:locked",!0);var d=o?s.serializeArray():i.data("form")||[];n.ajax({url:u,data:d,dataType:l,type:c.toUpperCase(),beforeSend:function(e){s.trigger("ajax:loading",{xhr:e,ajax:this}),"abort"==e.statusText&&i.data("ajax:locked",!1)},success:function(e,t,n){i.data("ajax:locked",!1),!Object.isString(e)&&e&&"notice"in e&&e.notice&&r.a.notice(e.notice),s.trigger("ajax:success",[e,t,n])},complete:function(e){i.data("ajax:locked",!1),s.trigger("ajax:complete",e)},error:function(t,n,o){if(i.data("ajax:locked",!1),t.responseText&&t.responseText.match(/invalid/))r.a.error(e.t("frontend.lib.rails_ujs_modified.invalid_login_or_password"));else if(403==t.status){try{var a=JSON.parse(t.responseText)}catch(e){a={}}Object.isObject(a)&&a.message?r.a.error(a.message):r.a.error("Forbidden"!=t.responseText?t.responseText:e.t("frontend.lib.rails_ujs_modified.you_are_not_authorized"))}else if(500==t.status)r.a.error(e.t("frontend.lib.rails_ujs_modified.please_try_again_later"));else{try{a=JSON.parse(t.responseText)}catch(e){a={}}if("errors"in a?a=a.errors:"error"in a&&(a=[a.error]),Object.size(a))if(Object.isArray(a))r.a.error(a.join("<br />"));else{var c=a.map(function(t,n){return"base"==n?t:"<strong>"+e.t("frontend.lib.rails_ujs_modified."+n,{defaultValue:n})+"</strong> "+(Object.isArray(t)?t.join(", "):t)}).join("<br />");r.a.error(c)}else r.a.error(e.t("frontend.lib.rails_ujs_modified.please_try_again_later"))}s.trigger("ajax:failure",[t,n,o])}}),s.trigger("ajax:after")}}}),n("a[data-method]:not([data-remote]),span[data-method]:not([data-remote])").live("click",function(e){var t=n(this),r=t.attr("href")||t.data("action"),a=t.attr("data-method"),s=n('<form method="post" action="'+r+'"></form>'),c='<input name="_method" value="'+a+'" type="hidden" />';if(t.attr("data-confirm")&&!confirm(t.attr("data-confirm")))return e.stopImmediatePropagation(),!1;null!=o&&null!=i&&(c+='<input name="'+o+'" value="'+i+'" type="hidden" />'),s.hide().append(c).appendTo("body"),e.preventDefault(),e.stopImmediatePropagation(),s.submit()}),n("a[data-confirm]:not([data-remote]),input[data-confirm]").live("click",function(){var e=n(this);if(e.triggerAndReturn("confirm")&&!confirm(e.attr("data-confirm")))return!1}),n("form[data-remote]").live("submit",function(e){n(this).callRemote(),e.preventDefault()}),n("a[data-remote],input[data-remote],span[data-remote],div[data-remote],li[data-remote],button[data-remote],tr[data-remote]").live("click",function(e){if(!Object(t.a)(e))if("A"!=e.target.tagName||n(e.target).data("remote")){var r=n(this);if(r.attr("data-confirm")&&!confirm(r.attr("data-confirm")))return!1;!1!==r.callRemote()&&e.preventDefault()}else e.stopImmediatePropagation()});var a=function(){n(this).find("input[data-disable-with]").each(function(){var e=n(this);e.data("enable-with",e.val()).attr("value",e.attr("data-disable-with")).attr("disabled","disabled")})};n("form[data-remote]:has(input[data-disable-with])").live("ajax:before",a),n("form:not([data-remote]):has(input[data-disable-with])").live("submit",a),n("form[data-remote]:has(input[data-disable-with])").live("ajax:complete",function(){n(this).find("input[data-disable-with]").each(function(){var e=n(this);e.removeAttr("disabled").val(e.data("enable-with"))})})})}.call(t,n(1))},function(e,t,n){var r,i,o={}.hasOwnProperty;r=n(250),n(85),i=null,using("Ads"),Ads.Mytarget=function(e){var t;function n(){return n.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)o.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,Ads.View),t={LOADED:"loaded",LOADING:"loading"},n.prototype.initialize=function(e,n){return this.html=e,this.css_class=n,i===t.LOADED?this._render():null===i?this._load_js():void 0},n.prototype._load_js=function(){return i=t.LOADING,r("//ad.mail.ru/static/ads-async.js").then((e=this,function(){return i=t.LOADED,e._render()}));var e},n.prototype._render=function(){return this._replace_node(),(window.MRGtag=window.MRGtag||[]).push({})},n}()},,function(e,t,n){var r,i,o=function(e,t){return function(){return e.apply(t,arguments)}},a={}.hasOwnProperty;n(85),i=null,r=[],using("Ads"),Ads.Yandex=function(e){var t;function n(){return this._render=o(this._render,this),n.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)a.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,Ads.View),t={LOADED:"loaded",LOADING:"loading"},n.prototype.initialize=function(e,n,r){return this.html=e,this.css_class=n,this.ad_params=r,i===t.LOADED?this._render():i===t.LOADING?this._schedule():this._load_js()},n.prototype._load_js=function(){return i=t.LOADING,this._schedule(),(e=this,function(n,o,a){var s,c;return n[a]=n[a]||[],n[a].push(function(){return i=t.LOADED,r.forEach(function(e){return e()}),r=[]}),c=o.getElementsByTagName("script")[0],(s=o.createElement("script")).type="text/javascript",s.src="//an.yandex.ru/system/context.js",s.async=!0,s.onerror=function(){if("remove_ad"in window)return window.remove_ad(e.css_class)},c.parentNode.insertBefore(s,c)})(window,window.document,"yandexContextAsyncCallbacks");var e},n.prototype._schedule=function(){return r.push(this._render)},n.prototype._render=function(){return this._replace_node(),Ya.Context.AdvManager.render(this.ad_params)},n}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n.n(r),o=n(3),a=n(24),s=function(e,t){return function(){return e.apply(t,arguments)}},c={}.hasOwnProperty;using("Animes"),Animes.WathOnlineButton=function(e){var t;function n(){return this._click=s(this._click,this),this._setup_handlers=s(this._setup_handlers,this),n.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)c.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,o["default"]),t="animes/watch_online_button",n.prototype.initialize=function(e){var t;if(this.options=e,this.options.is_allowed)return this.total_episodes=this.$root.data("total_episodes")||9999,this.episodes_aired=this.$root.data("episodes_aired")||1,this._render(),i()().then((t=this,function(){return t._setup_handlers()}))},n.prototype._render=function(){return this.options.is_licensed?this.$root.html(a.default[t+"/licensed"]()):this.options.is_censored?this.$root.html(a.default[t+"/censored"]()):this.options.has_videos?this.$root.html(a.default[t+"/watch"]({url:this.options.watch_url})):this.$root.html(a.default[t+"/upload"]({url:this.options.upload_url}))},n.prototype._setup_handlers=function(){return this.$(".watch-online").on("click",this._click)},n.prototype._click=function(e){var t,n,r,i;return i=(n=parseInt($(".b-db_entry .b-user_rate .current-episodes").html()))&&n!==this.total_episodes?n===this.episodes_aired?n:n+1:1,r=(t=$(e.target)).attr("href").replace(/\d+$/,i),t.attr({href:r})},n}()},function(e,t,n){var r,i,o,a=function(e,t){return function(){return e.apply(t,arguments)}},s={}.hasOwnProperty;o=n(8).default,i=n(3).default,r=n(24).default,using("Polls"),e.exports=Polls.View=function(e){function t(){return this._variant_class=a(this._variant_class,this),this._variant_percent=a(this._variant_percent,this),this._abstain=a(this._abstain,this),this._vote_variant=a(this._vote_variant,this),this._radio_click=a(this._radio_click,this),t.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)s.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),"polls/poll",t.prototype.initialize=function(e){if(this.model=e,this._render(),this._can_vote())return this.$vote=this.$(".poll-actions .vote"),this.$abstain=this.$(".poll-actions .abstain"),this._toggle_actions(),this.$(".b-radio").on("click",this._radio_click),this.$vote.on("click",this._vote_variant),this.$abstain.on("click",this._abstain)},t.prototype._radio_click=function(e){var t;return(t=$(e.currentTarget).find("input")).prop({checked:!t.prop("checked")}),this._toggle_actions(),!1},t.prototype._vote_variant=function(){var e,t;return t=parseInt(this._checked_radio().value),e=this.model.variants.find(function(e){return e.id===t}),this.model.vote={is_abstained:!1,variant_id:e.id},e.votes_total+=1,this._vote(e.vote_for_url)},t.prototype._abstain=function(){return this.model.vote={is_abstained:!0,variant_id:null},this._vote(this.model.vote_abstain_url)},t.prototype._render=function(){var e;return e=this.$root,this._set_root(r["polls/poll"]({model:this.model,can_vote:this._can_vote(),bar_percent:this._variant_percent,bar_class:this._variant_class})),e.replaceWith(this.$root)},t.prototype._vote=function(e){return this.$root.addClass("b-ajax"),o.post(e).then((t=this,function(e){return t.$root.removeClass("b-ajax"),t._render()}));var t},t.prototype._can_vote=function(){return window.SHIKI_USER.isSignedIn&&"started"===this.model.state&&!this.model.vote.is_abstained&&!this.model.vote.variant_id},t.prototype._toggle_actions=function(){return this._checked_radio()?(this.$abstain.addClass("hidden"),this.$vote.removeClass("hidden")):(this.$abstain.removeClass("hidden"),this.$vote.addClass("hidden"))},t.prototype._checked_radio=function(){return this.$("input[type=radio]:checked")[0]},t.prototype._variant_percent=function(e){var t;return 0===(t=this.model.variants.sum("votes_total"))?0:(100*e.votes_total/t).round(2)},t.prototype._variant_class=function(e){var t;return(t=this._variant_percent(e))<=80&&t>60?"s1":t<=60&&t>30?"s2":t<=30?"s1":"s0"},t}(i)},function(e,t,n){"use strict";var r,i=n(508),o=n(66),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function s(e,t,n,r,i){var o={};return Object.keys(r).forEach(function(e){o[e]=r[e]}),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce(function(n,r){return r(e,t,n)||n},o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var c={enter:13,esc:27,slash:[47,191],up:38,down:40},u=[38,40,47,191];function l(e){return u.includes(e)?"keydown":"keyup"}var d=new(s((r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.events={}}return a(e,[{key:"on",value:function(e,t){var n=this;"focus"===e?this._bind("focus",null,t):e.constructor===String?c[e].constructor===Array?c[e].forEach(function(e){return n._bind(null,e,t)}):this._bind(null,c[e],t):this._bind(null,e,t)}},{key:"off",value:function(e,t){var n=this;"focus"===e?this._unbind("focus",null,t):e.constructor===String?c[e].constructor===Array?c[e].forEach(function(e){return n._unbind(null,e,t)}):this._unbind(null,c[e],t):this._unbind(null,e,t)}},{key:"_onKeyup",value:function(e){this.events.keyup&&this.events.keyup[e.keyCode]&&this.events.keyup[e.keyCode].forEach(function(t){return t(e)})}},{key:"_onKeydown",value:function(e){this.events.keydown&&this.events.keydown[e.keyCode]&&this.events.keydown[e.keyCode].forEach(function(t){return t(e)})}},{key:"_onFocus",value:function(e){this.events.focus&&this.events.focus.null&&this.events.focus.null.forEach(function(t){return t(e)})}},{key:"_bind",value:function(e,t,n){e||(e=l(t)),this.events[e]||("focus"===e?$(document.body).on(e,"*",this._handler(e)):$(document).on(e,this._handler(e)),Object.isEmpty(this.events)&&this._scheduleUnbind(),this.events[e]={}),this.events[e][t]||(this.events[e][t]=[]),this.events[e][t].push(n)}},{key:"_unbind",value:function(e,t,n){e||(e=l(t)),this.events[e]&&this.events[e][t]&&this.events[e][t].includes(n)&&(this.events[e][t].splice(this.events[e][t].indexOf(n),1),Object.isEmpty(this.events[e][t])&&delete this.events[e][t],Object.isEmpty(this.events[e])&&(this._unbindEvent(e),delete this.events[e]),Object.isEmpty(this.events)&&this._unScheduleUnbind())}},{key:"_unbindAll",value:function(){var e=this;Object.keys(this.events).forEach(function(t){return e._unbindEvent(t)}),this._unScheduleUnbind(),this.events={}}},{key:"_unbindEvent",value:function(e){"focus"===e?$(document.body).off(e,"*",this._handler(e)):$(document).off(e,this._handler(e))}},{key:"_handler",value:function(e){return this["_on"+e.capitalize()]}},{key:"_scheduleUnbind",value:function(){$(document).one("turbolinks:before-cache",this._unbindAll)}},{key:"_unScheduleUnbind",value:function(){$(document).off("turbolinks:before-cache",this._unbindAll)}}]),e}()).prototype,"on",[i.a],Object.getOwnPropertyDescriptor(r.prototype,"on"),r.prototype),s(r.prototype,"off",[i.a],Object.getOwnPropertyDescriptor(r.prototype,"off"),r.prototype),s(r.prototype,"_onKeyup",[o.bind],Object.getOwnPropertyDescriptor(r.prototype,"_onKeyup"),r.prototype),s(r.prototype,"_onKeydown",[o.bind],Object.getOwnPropertyDescriptor(r.prototype,"_onKeydown"),r.prototype),s(r.prototype,"_onFocus",[o.bind],Object.getOwnPropertyDescriptor(r.prototype,"_onFocus"),r.prototype),s(r.prototype,"_unbindAll",[o.bind],Object.getOwnPropertyDescriptor(r.prototype,"_unbindAll"),r.prototype),r);window.globalHandler=d;t.a=d},function(e,t){using("Wall"),Wall.Cluster=function(){function e(e){this.images=e}return e.MARGIN=4,e.prototype.mason=function(e,t,n){var r;return this.top=e,this.max_width=t,this.max_height=n,this.images.forEach((r=this,function(e){return e.normalize(r.max_width,r.max_height)})),this.images.forEach(function(e){return function(t){return e._put(t,!0)}}(this)),this.images.forEach(function(e){return e.apply()})},e.prototype.width=function(){return this.images.map(function(e){return e.left+e.width}).max()||0},e.prototype.height=function(){return this.images.map(function(e){return e.top+e.height}).max()||0},e.prototype._positioned=function(){return this.images.filter(function(e){return e.positioned})},e.prototype._put=function(e,t){var n;return(n=this._positioned().map(function(e){return e.left+e.width}).max())?n+=Wall.Cluster.MARGIN:n=0,e.position(n,this.top),this._flatten(),this._scale()},e.prototype._flatten=function(){var e,t,n,r;if(1!==(t=this._positioned()).length)return e=t.map(function(e){return e.height}),(n=e.min())!==e.max()?(t.forEach(function(e){return e.scale_height(n),e.positioned=!1,!0}),t.forEach((r=this,function(e){return r._put(e,!1)}))):void 0},e.prototype._scale=function(e,t,n){var r,i,o;if(i=this._positioned(),(r=i.reduce(function(e,t){return e+t.width+Wall.Cluster.MARGIN},0))>this.max_width)return i.forEach((o=this,function(e){return e.scale(o.max_width/r),e.positioned=!1,!0})),i.forEach(function(e){return function(t){return e._put(t,!1)}}(this))},e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i={}.hasOwnProperty;using("Wall"),Wall.Gallery=function(e){var t;function n(){return n.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,r["default"]),2.5,5.8,t=80,n.prototype.initialize=function(){var e,t;return(e=Wall.Gallery).last_id||(e.last_id=0),Wall.Gallery.last_id+=1,this.id=Wall.Gallery.last_id,this.$root.imagesLoaded((t=this,function(){return t._prepare(),t._build_clusters(),t._mason()}))},n.prototype._prepare=function(){var e;return this.$node.css({width:"",height:""}),this.max_height=parseInt(this.$node.css("max-height")),this.max_width=parseInt(this.$node.css("width")),(e=this.$node.children("a, .b-video").attr({rel:"wall-"+this.id}).css({width:"",height:""})).children().removeClass("check-width"),this.images=e.toArray().map(function(e){return e.classList.contains("b-video")?new Wall.Video($(e)):new Wall.Image($(e))})},n.prototype._build_clusters=function(){var e,t;return this._is_two_clusters()?(e=[],t=[],this.images.reduce(function(n,r){return n>2.5?t.push(r):e.push(r),n+r.weight()},0),this.cluster_1=new Wall.Cluster(e),this.cluster_2=new Wall.Cluster(t)):this.cluster=new Wall.Cluster(this.images)},n.prototype._mason=function(){var e,t;return this._is_two_clusters()?(this._mason_2_clusters(!1),t=[this.cluster_1.width(),this.cluster_2.width()].max(),e=this.cluster_1.height()+Wall.Cluster.MARGIN+this.cluster_2.height()):(this._mason_1_cluster(),t=this.cluster.width(),e=this.cluster.height()),this.$node.css({width:[t,this.max_width].min(),height:[e,this.max_height].min()})},n.prototype._is_two_clusters=function(){return this.images.sum(function(e){return e.weight()})>5.8},n.prototype._cluster_1_height=function(){return[this.max_height-t,t].max()},n.prototype._cluster_2_height=function(){return[(this.max_height-this.cluster_1.height()+Wall.Cluster.MARGIN).round(),t].max()},n.prototype._mason_1_cluster=function(){return this.cluster.mason(0,this.max_width,this.max_height)},n.prototype._mason_2_clusters=function(e){var t;return this.cluster_1.mason(0,this.max_width,this._cluster_1_height()),this.cluster_2.mason(this.cluster_1.height()+Wall.Cluster.MARGIN,this.max_width,this._cluster_2_height()),e?this.$node.css("max-height",this.cluster_2.height()+Wall.Cluster.MARGIN,+this.cluster_1.height()):(t=(.95*this.max_width).round(),this.cluster_2.width()<t||this.cluster_1.width()<t?(this.max_height=(1.3*this.max_height).round(),this.$node.css("max-height",this.max_height),this.images.forEach(function(e){return e.reset()}),this._mason_2_clusters(!0)):void 0)},n}()},function(e,t,n){var r={}.hasOwnProperty;n(137),using("Wall"),Wall.Video=function(e){var t;function n(e){this.is_vk=e.hasClass("vk"),n.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)r.call(t,n)&&(e[n]=t[n]);function i(){this.constructor=e}i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype}(n,Wall.Image),t={other:1,vk:.75417},n.prototype.apply=function(){return this.$image.css({width:this.width}),this.$node.css({top:this.top,left:this.left,width:this.width,height:this.height})},n.prototype._image_sizes=function(){return[1*this.$image[0].naturalWidth,1*this.$image[0].naturalHeight*this._height_ratio()]},n.prototype._height_ratio=function(){return t[this.is_vk?"vk":"other"]},n}()},function(e,t){pageLoad("age_restricted",function(){return $(".confirm").click(function(){return $.cookie($(".confirm").data("cookie"),!0,{expires:9999,path:"/"}),location.reload()})})},function(e,t){pageLoad("anime_video_authors_index",function(){return $(".anime-suggest").completableVariant().on("autocomplete:success",function(e,t){return $("#anime_id").val(t.id),$(e.target).closest("form").submit()})}),pageLoad("anime_video_authors_none",function(){return $(".anime-suggest").completableVariant().on("autocomplete:success",function(e,t){return $("#anime_id").val(t.id),$(e.target).closest("form").submit()})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(87);pageLoad(".animes",".mangas",".ranobe",function(){return new r.default(".b-animes-menu")})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(67);pageLoad("animes_art","mangas_art",function(){new r.default(".b-gallery")})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(127);pageLoad("animes_cosplay","mangas_cosplay",function(){new r.default(".l-content")})},function(e,t){pageLoad("animes_coub",function(){$.force_appear()})},function(e,t){pageLoad("animes_files","mangas_files",function(){return $(".b-options-floated.collapse").trigger("click")})},function(e,t,n){var r;pageLoad("animes_franchise","mangas_franchise","ranobe_franchise",function(){return n.e(7).then(function(e){var t,i,o,a;i=n(546),t=n(557),o=n(544);try{return r(i,t,o)}catch(e){throw a=e,document.write(a.name+": "+(a.message||JSON.stringify(a))),a}}.bind(null,n)).catch(n.oe)}),r=function(e,t,n){var r,i;return e.rspec(),r=$(".graph").empty(),n.json(r.data("api_url"),(i=this,function(e,o){return i.franchise=new t(o),i.franchise.render_to(r[0]),$(".sticky-tooltip .close").on("click",function(){var e;return e=$(".node.selected")[0],n.select(e).on("click")(e.__data__)})}))}},function(e,t){pageLoad("animes_screenshots",function(){$(".c-screenshot").magnificRelGallery()})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(65);pageLoad("animes_show","mangas_show","ranobe_show",function(){var e,t;return $(".b-notice").tipsy({gravity:"s"}),$(".c-screenshot").magnificRelGallery(),$(".text").checkHeight({max_height:200}),new r.default($(".b-subposter-actions .fav-add"),gon.is_favoured),new Animes.WathOnlineButton($(".watch-online-placeholer"),gon.watch_online),e=$(".new_review"),window.SHIKI_USER.isSignedIn?(t=e.attr("href").replace(/%5Buser_id%5D=(\d+|ID)/,"%5Buser_id%5D="+window.SHIKI_USER.id),e.attr({href:t})):e.hide(),$(".l-content").on("postloaded:success",".resources-loader",function(){return $(".c-screenshot").magnificRelGallery()}),$(".other-names.click-loader").on("ajax:success",function(e,t){return $(this).closest(".line").replaceWith(t)}),$(".l-content").on("click",".related-shower",function(){return $(this).next().children().unwrap(),$(this).siblings().show(),$(this).remove()}),$(".b-subposter-actions .new_comment").on("click",function(){var e;return e=$(".b-form.new_comment textarea"),$.scrollTo(e,function(){return e.focus()})}),$(".entry-comments .link").on("ajax:before",function(e){return $(this).addClass("selected").data({disabled:!0}),$(this).siblings("span").removeClass("selected").data({disabled:!1}),$(this).parents(".entry-comments").find(".comments-container").animate({opacity:.3})}).on("ajax:success",function(e,t){var n;return(n=$(this).parents(".entry-comments").find(".comments-container").animate({opacity:1})).children(":not(.shiki-editor)").remove(),n.append(t.content)})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(128);function i(){var e=$(".b-collection-filters").data("base_path");window.location.pathname.match(/\/recommendations\//)?e=window.location.pathname.split("/").first(5).join("/"):window.location.pathname.match(/\/comparer\//)&&(e=window.location.pathname.split("/").first(6).join("/")),new r.default(e)}pageLoad("animes_collection_index","recommendations_index","userlist_comparer_show",function(){$(".l-menu .ajax-loading").exists()?$(".l-menu").one("postloaded:success",i):i()}),pageUnload("animes_collection_index","recommendations_index","userlist_comparer_show",function(){var e=$(".block-filter.item-add"),t=e.siblings(".b-block_list");t.find(".filter").length===t.find(".item-minus").length&&e.removeClass("item-add").addClass("item-minus")})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(65),i=n(67);pageLoad("characters_show",function(){$(".text").checkHeight({max_height:200}),new r.default($(".b-subposter-actions .fav-add"),gon.is_favoured),$(".b-subposter-actions .new_comment").on("click",function(){var e=$(".b-form.new_comment textarea");$.scrollTo(e,function(){return e.focus()})})}),pageLoad("characters_art",function(){new i.default(".b-gallery")}),pageLoad("characters_cosplay",function(){new Animes.Cosplay(".l-content")})},function(e,t){pageLoad(".club_pages",function(){return $(".b-shiki_editor").shikiEditor()})},function(e,t){pageLoad("club_topics_new","club_topics_edit","club_topics_create","club_topics_update",function(){var e;return e=$(".b-form.edit_topic, .b-form.new_topic"),$(".b-shiki_editor",e).shikiEditor()})},function(e,t){pageLoad(".clubs",function(){var e,t,n,r;return n=$(".b-clubs-menu"),e=$(".b-subposter-actions",n),t=n.children(".invite"),r=$("#club_invite_dst_id",t),$(".invite",e).on("click",function(){return e.hide(),t.show(),r.focus()}),$(".cancel",t).on("click",function(){return e.show(),t.hide()}),$("form",t).on("ajax:success",function(){return r.val(""),$(".cancel",t).click()}),r.on("keydown",function(e){if(27===e.keyCode)return $(".cancel",t).click()}),$(".upload input",n).on("change",function(){return $(this).closest("form").submit()})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(15),i=n.n(r),o=n(33);pageLoad(".clubs-broadcast",function(){return new o.default(".b-shiki_editor"),$(".new_broadcast").on("ajax:success",function(e,t){var n;return n=$(".new_broadcast").data("next_url")+"#comment-"+t.id,i.a.visit(n)})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(92);pageLoad("clubs_edit",function(){if($(".edit-page.description").exists()&&$(".b-shiki_editor").shikiEditor().on("preview:params",function(){return{body:$(this).view().$textarea.val(),target_id:1,target_type:"Club"}}),$(".edit-page.links").exists()&&($(".anime-suggest").completableVariant(),$(".manga-suggest").completableVariant(),$(".ranobe-suggest").completableVariant(),$(".character-suggest").completableVariant(),$(".club-suggest").completableVariant()),$(".edit-page.members").exists()&&($(".moderator-suggest").completableVariant(),$(".admin-suggest").completableVariant(),$(".kick-suggest").completableVariant(),$(".ban-suggest").completableVariant()),$(".edit-page.styles").exists())return new r.default(".b-edit_styles")})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(68);pageLoad("clubs_images",function(){new r.default(".b-gallery")})},function(e,t){pageLoad("clubs_new",function(){$(".b-shiki_editor").shikiEditor()})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(68);pageLoad("clubs_show",function(){$(".b-gallery").exists()&&new r.default(".b-gallery")})},function(e,t,n){var r,i;pageLoad("collections_new","collections_edit","collections_create","collections_update",function(){if($(".b-shiki_editor").shikiEditor(),$("#vue_collection_links").exists())return n.e(1).then(function(){return r(n(72).Vue,n(558).default,n(97).collection_links)}.bind(null,n)).catch(n.oe)}),i=function(e){return e.links.map(function(e){return e.group}).unique(),e.links=[].concat.apply([],Object.values(e.links.groupBy(function(e){return e.group}))),e},r=function(e,t,n){var r,o,a;return o=$("#collection_form").data("collection"),r=$("#collection_form").data("autocomplete_url"),a=$("#collection_form").data("max_links"),n.state.collection=i(o),new e({el:"#vue_collection_links",store:n,render:function(e){return e(t,{props:{max_links:a,autocomplete_url:r}})}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(2),o=n.n(i),a=this;pageLoad("comments_show",(r=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o()(250);case 2:$(".b-comment").imagesLoaded(function(){return $(".b-height_shortener .expand").click()});case 3:case"end":return e.stop()}},e,a)}),function(){var e=r.apply(this,arguments);return new Promise(function(t,n){return function r(i,o){try{var a=e[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});t(s)}("next")})}))},function(e,t){},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var t=n(33);function r(){var t=$("#contest_member_ids_").next().find("input:checked").length;$(".members_count").html(e.t("frontend.pages.p_contests.candidate",{count:t}))}pageLoad("contests_edit",function(){$(".b-shiki_editor").each(function(e,n){return new t.default(n)}),$(".edit .proposing .hidden").removeClass("hidden"),$("form").on("click","input[type=checkbox]",function(){return r()}),$("form .proposing .take").on("click",function(e){var t=e.currentTarget;$(t).parent().hide(),$(".member-suggest").trigger("autocomplete:success",[{id:$(t).data("id"),name:$(t).data("text")}]),$(".member-suggest").trigger("blur")}),$(".member-suggest").completableVariant().on("autocomplete:success",function(e,t){return r()}),r()})}.call(t,n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=this;function o(e){return $(e).parents(".suggestion").find(".voters-container")}function a(e){return $(e).parents(".suggestion").find(".hide")}function s(e){return $(e).parents(".suggestion").find(".show")}pageLoad("contests_show","contests_edit",function(){var e,t;$(".proposing").exists()&&($(".proposing .suggestion .show").on("click",function(e){var t=e.currentTarget;o(t).show(),a(t).show(),s(t).hide()}),$(".proposing .suggestion .hide").on("click",function(e){var t=e.currentTarget;o(t).hide(),a(t).hide(),s(t).show()}),$(".proposing .suggestion .show.ajaxable").on("click",(e=regeneratorRuntime.mark(function e(t){var n,o,a=t.currentTarget;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if($(a).hasClass("ajaxable")){e.next=2;break}return e.abrupt("return");case 2:return $(a).removeClass("ajaxable"),e.next=5,r.default.get($(a).data("href"));case 5:n=e.sent,o=n.data,$(a).trigger("ajax:success",o);case 8:case"end":return e.stop()}},e,i)}),t=function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}("next")})},function(e){return t.apply(this,arguments)})),$(".proposing .suggestion .show").on("ajax:success",function(e,t){o(e.currentTarget).html(t)}))}),pageLoad("contests_show",function(){$(".proposing").exists()&&($(".proposing .item-suggest").completable().on("autocomplete:success",function(e,t){var n=e.currentTarget;$(n).val(t.name),$(n).parents("form").find("#contest_suggestion_item_id").val(t.id),$(n).parents("form").submit()}),$(".proposing form").on("submit",function(e){Object.isEmpty($(this).find("#contest_suggestion_item_id").val())&&e.preventDefault()}))})},function(e,t){var n;pageLoad("contests_grid",function(){return n(),$(window).on("resize",n)}),n=function(){var e,t,n,r,i,o;return n=(r=$(".contest-grid")).find(".final"),i=r.find(".winners .round:last-child .entry:first-child"),(e=r.find(".losers .round:last-child .entry:first-child")).length?o=e.offset().top-i.offset().top+1:(i=r.find(".winners .round:last-child .entry:first-child"),o=(e=r.find(".winners .round:last-child .entry:last-child p:first-child")).offset().top-i.offset().top-23),n.css({height:o,width:1,top:i.offset().top+i.outerHeight()-1,left:i.offset().left+i.outerWidth()}),(t=n.find(".entry")).css({marginTop:o/2-t.outerHeight()})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(131);pageLoad("contests_show",function(){$(".contest_round").length&&new r.default($(".contest_round"),gon.votes)})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(2),o=n.n(i),a=this;function s(e,t){var n=t.find(".b-topic"),r=e.outerHeight();n.length&&r<t.outerHeight()&&(n.last().remove(),s(e,t))}pageLoad("dashboards_show",(r=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return $(".user_list .switch").on("click",function(){return $(this).closest(".list-type").toggleClass("hidden").siblings(".list-type").toggleClass("hidden")}),e.next=3,o()(500);case 3:return $(".cc-news").imagesLoaded(function(){s($(".c-news_topics"),$(".c-generated_news"))}),e.next=6,o()(500);case 6:(t=$(".y-sponsored")).children().length&&t.addClass("block");case 8:case"end":return e.stop()}},e,a)}),function(){var e=r.apply(this,arguments);return new Promise(function(t,n){return function r(i,o){try{var a=e[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});t(s)}("next")})}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o=n(67);pageLoad(".db_entries-edit_field",function(){var e,t,a,s,c,u,l,d;if((a=$(".edit-page.description_ru, .edit-page.description_en")).exists()&&((s=$(".b-shiki_editor")).shikiEditor().on("preview:params",function(){return{body:$(this).view().$textarea.val(),target_id:s.data("target_id"),target_type:s.data("target_type")}}),$("form",a).on("submit",function(){var e,t;return e=$(this),t=function(e,t){return t?e+"[source]"+t+"[/source]":""+e},$("[id$=_description_ru]",e).val(t($("[id$=_description_ru_text]",e).val(),$("[id$=_description_ru_source]",e).val())),$("[id$=_description_en]",e).val(t($("[id$=_description_en_text]",e).val(),$("[id$=_description_en_source]",e).val()))})),$(".edit-page.screenshots").exists()&&($(".c-screenshot").shikiImage(),u=$(".screenshots-positioner"),$("form",u).on("submit",function(){var e;return e=$(".c-screenshot:not(.deleted) img",u).map(function(){return $(this).data("id")}),u.find("#entry_ids").val($.makeArray(e).join(","))}),(l=$(".screenshots-uploader")).shikiFile({progress:l.find(".b-upload_progress"),input:l.find("input[type=file]"),maxfiles:250}).on("upload:after",function(){return l.find(".thank-you").show()}).on("upload:success",function(e,t){return $(t.html).appendTo($(".cc",l)).shikiImage()})),$(".edit-page.videos").exists()&&$(".videos-deleter .b-video").imageEditable(),$(".edit-page.imageboard_tag").exists()&&(c=$(".b-gallery"),d=c.html(),c.data("imageboard_tag")&&new o.default(c),$("#anime_imageboard_tag, #manga_imageboard_tag, #character_imageboard_tag").completable().on("autocomplete:success autocomplete:text",function(e,t){return this.value=Object.isString(t)?t:t.value,c.data({imageboard_tag:this.value}),c.html(d),new Images.ImageboardGallery(c)})),$(".edit-page.genre_ids").exists()&&(t=$(".c-current_genres").children().last(),e=$(".c-all_genres").children().last(),t.on("click",".remove",function(){var t;return t=$(this).closest(".genre").remove(),e.find("#"+t.attr("id")).removeClass("included").yellowFade()}),t.on("click",".up",function(){var e,t;return t=(e=$(this).closest(".genre")).prev(),e.detach().insertBefore(t).yellowFade()}),t.on("click",".down",function(){var e,t;return t=(e=$(this).closest(".genre")).next(),e.detach().insertAfter(t).yellowFade()}),e.on("click",".name",function(){var e;if(!(e=$(this).closest(".genre")).hasClass("included"))return e.clone().appendTo(t).yellowFade(),e.addClass("included");t.find("#"+e.attr("id")+" .remove").click()}),$("form.new_version").on("submit",function(){var e,n,r;return e=$(".item_diff"),r=t.children().map(function(){return parseInt(this.id)}).toArray(),n={genre_ids:[e.data("current_ids"),r]},e.find("input").val(JSON.stringify(n))})),$(".edit-page.external_links").exists()&&n.e(2).then(function(){return i(n(72).Vue,n(559).default,n(97).collection)}.bind(null,n)).catch(n.oe),$(".edit-page.synonyms, .edit-page.coub_tags").exists())return n.e(3).then(function(){return r(n(72).Vue,n(560).default,n(97).collection)}.bind(null,n)).catch(n.oe)}),i=function(e,t,n){var r,i;return i=(r=$("#vue_external_links")).data("external_links"),n.state.collection=i,new e({el:"#vue_external_links",store:n,render:function(e){return e(t,{props:{kind_options:r.data("kind_options"),resource_type:r.data("resource_type"),entry_type:r.data("entry_type"),entry_id:r.data("entry_id")}})}})},r=function(e,t,n){var r,i;return i=(r=$("#vue_app")).data("values"),n.state.collection=i.map(function(e,t){return{key:t,name:e}}),new e({el:"#vue_app",store:n,render:function(e){return e(t,{props:{resource_type:r.data("resource_type"),entry_type:r.data("entry_type"),entry_id:r.data("entry_id"),field:r.data("field"),autocomplete_url:r.data("autocomplete_url")}})}})}},function(e,t){pageLoad("dialogs_index","dialogs_show",function(){$("textarea:appeared").focus()})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(2),o=n.n(i),a=n(15),s=n.n(a),c=this;pageLoad("list_imports_show",(r=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!$(".b-nothing_here").exists()){e.next=5;break}return t=document.location.href,e.next=4,o()(5e3);case 4:t===document.location.href&&s.a.visit(document.location.href);case 5:$(".b-options-floated.collapse .action").click();case 6:case"end":return e.stop()}},e,c)}),function(){var e=r.apply(this,arguments);return new Promise(function(t,n){return function r(i,o){try{var a=e[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});t(s)}("next")})}))},function(e,t){var n,r;pageLoad("messages_index",function(){return n(),$(".l-page").on("postloader:success",n)}),n=function(){return $(".item-request-confirm, .item-request-reject").on("ajax:success",function(){return r($(this).closest(".b-message"))}),$(".item-request-reject.friend-request").on("click",function(){return r($(this).closest(".b-message"))})},r=function(e){var t;return t=e.find(".b-appear_marker").data({disabled:!1}),e.trigger("appear",[t,!0]),e.find(".main-controls").children(":not(.item-delete)").remove(),e.find(".main-controls").children(".item-delete").show()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(32),i=n.n(r),o=n(15),a=n.n(o),s=n(91),c=n(129),u=n(8),l=this;function d(){$(".date-filter").exists()&&new c.default(".date-filter").on("date:picked",function(){var e=new i.a(window.location.href).setQuery("created_on",this.value).href();a.a.visit(e)})}pageLoad("anime_video_reports_index","profiles_videos",function(){d(),$(".l-page").on("click",".b-log_entry.video .collapsed",function(e){var t=e.currentTarget,n=$(t).parent().find(".player");n.data("html")&&n.html(n.data("html")).data({html:""})})}),pageLoad("versions_index","users_index",d),pageLoad("versions_show","user_rate_logs_show",function(){$(".collapsed.spoiler",".b-log_entry, .b-user_rate_log").click()}),pageLoad("bans_index","abuse_requests_index","versions_index","review_index","anime_video_reports_index",function(){$(".b-brief").checkHeight({max_height:150}),$(".expand-all").on("click",function(){$(this).parent().next().next().find(".collapsed.spoiler:visible").click(),$(this).remove()})}),pageLoad("moderations_missing_videos",function(){var e,t;$(".missing-video .show-details").one("click",(e=regeneratorRuntime.mark(function e(t){var n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,u.default.get($(t.currentTarget).data("episodes_url"));case 3:n=e.sent,r=n.data,$(t.currentTarget).parent().find(".details").html(r);case 6:case"end":return e.stop()}},e,l)}),t=function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}("next")})},function(e){return t.apply(this,arguments)})),$(".missing-video .show-details").on("click",function(e){e.preventDefault(),$(e.currentTarget).parent().find(".details").toggleClass("hidden")})}),pageLoad("roles_show",function(){new s.default(".b-collection_search"),$(".l-page").on("ajax:before",".b-user",function(e){var t=e.currentTarget;$(".b-user[id="+t.id+"]").addClass("b-ajax")}).on("ajax:success",".b-user",function(e,t){var n=e.currentTarget,r=t.content;$(".b-user[id="+n.id+"]").replaceWith(r)})}),pageLoad("users_index",function(){$(".b-collection_search").length&&new s.default(".b-collection_search")})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(33);pageLoad("oauth_applications_new","oauth_applications_create","oauth_applications_edit","oauth_applications_update",function(){$(".oauth_application_redirect_uri .hint .sample").on("click",function(e,t){$(".oauth_application_redirect_uri input").val(t.innerHTML)}),$(".b-shiki_editor").each(function(e,t){return new r.default(t)})})},function(e,t,n){(function(e){var t,r,i,o;pageLoad("pages_about",function(){return n.e(0).then(function(e){var t;return(t=n(143)).setOptions({global:{useUTC:!1}}),t.getOptions().colors.length=0,n(80).forEach(function(e){return t.getOptions().colors.push(e)}),i(t),r(t),o(t)}.bind(null,n)).catch(n.oe)}),i=function(n,r){var i;return r=$(".traffic-chart").data("stats"),i=[n.getOptions().colors[2],n.getOptions().colors[1],n.getOptions().colors[0]],$(".traffic-chart").highcharts(t({series:[{name:e.t("frontend.about.views"),pointInterval:864e5,pointStart:new Date(r.first().date).getTime(),data:r.map(function(e){return e.page_views}),visible:!1,color:i[0],fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,i[0]],[1,n.Color(i[0]).setOpacity(0).get("rgba")]]}},{name:e.t("frontend.about.visits"),pointInterval:864e5,pointStart:new Date(r.first().date).getTime(),data:r.map(function(e){return e.visits}),visible:!1,color:i[1],fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,i[1]],[1,n.Color(i[1]).setOpacity(0).get("rgba")]]}},{name:e.t("frontend.about.unique_visitors"),pointInterval:864e5,pointStart:new Date(r.first().date).getTime(),data:r.map(function(e){return e.visitors}),color:i[2],fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,i[2]],[1,n.Color(i[2]).setOpacity(0).get("rgba")]]}}]}))},r=function(n,r){var i;return r=$(".comments-chart").data("stats"),i=n.getOptions().colors[3],$(".comments-chart").highcharts(t({series:[{name:e.t("frontend.about.comments_per_day"),pointInterval:864e5,pointStart:new Date(r.first().date).getTime(),data:r.map(function(e){return e.count}),color:i,fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,i],[1,n.Color(i).setOpacity(0).get("rgba")]]}}],legend:{enabled:!1}}))},o=function(n,r){var i;return r=$(".users-chart").data("stats"),i=n.getOptions().colors[4],$(".users-chart").highcharts(t({series:[{name:e.t("frontend.about.new_users_per_day"),pointInterval:864e5,pointStart:new Date(r.first().date).getTime(),data:r.map(function(e){return[new Date(e.date).getTime(),e.count]}),color:i,fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,i],[1,n.Color(i).setOpacity(0).get("rgba")]]}}],legend:{enabled:!1}}))},t=function(e){return Object.merge({chart:{zoomType:"x",type:"areaspline"},title:null,xAxis:{type:"datetime",title:null,maxZoom:12096e5,dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b",year:"%Y"}},yAxis:{title:null,gridLineColor:"#eaeaea",min:0},tooltip:{shared:!0},legend:{borderRadius:0,borderWidth:0},plotOptions:{areaspline:{lineWidth:1,fillOpacity:.5,marker:{enabled:!1},shadow:!1,states:{hover:{lineWidth:1}},threshold:null}},credits:!1},e,{deep:!0})}}).call(t,n(1))},function(e,t){pageLoad("pages_development",function(){var e,t,n;return e=$(".b-ajax"),t=$("iframe"),n=$(window).height()-e.offset().top-5,e.css({width:"100%",height:n-10}),t.prop({width:"100%",height:n}),t.on("load",function(){return e.hide(),t.removeClass("hidden")})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(210),o=n.n(i);pageLoad("pages_oauth",function(){return $("select#oauth_application_id").on("change",function(){return $(".l-page").addClass("b-ajax"),$(this).closest("form").submit()}),$("#request_acces_token").on("click",function(){var e,t;return t=$(this),e=$(".access-token-response").html("").addClass("b-ajax").show(),o.a.request({url:t.data("token_url"),method:"post",headers:{},data:{grant_type:"authorization_code",client_id:t.data("client_id"),client_secret:t.data("client_secret"),code:t.data("code"),redirect_uri:t.data("redirect_uri")},responseType:"json",validateStatus:function(e){return e>=200&&e<300||401===e}}).then(function(t){return e.removeClass("b-ajax").html(r(JSON.stringify(t.data))).process()}).catch(function(t){return e.removeClass("b-ajax").html(r(t.toString()))})}),$("#refresh_acces_token").on("click",function(){var e,t;return e=$(this),t=$(".refresh-token-response").html("").addClass("b-ajax").show(),o.a.request({url:e.data("token_url"),method:"post",headers:{},data:{grant_type:"refresh_token",client_id:e.data("client_id"),client_secret:e.data("client_secret"),refresh_token:e.data("refresh_token")},responseType:"json",validateStatus:function(e){return e>=200&&e<300||401===e}}).then(function(e){return t.removeClass("b-ajax").html(r(JSON.stringify(e.data))).process()}).catch(function(e){return t.removeClass("b-ajax").html(r(e.toString()))})})}),r=function(e){return"<div class='to-process' data-dynamic='code_highlight'><code class='b-code' data-language='json'>"+e+"</code></div>"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(65);pageLoad("people_show",function(){$(".b-entry-info").checkHeight({max_height:101,without_shade:!0}),Object.keys(gon.is_favoured).forEach(function(e){if(gon.person_role[e]||gon.is_favoured[e]){var t=$(".b-subposter-actions .fav-add[data-kind='"+e+"']");t.show(),new r.default(t,gon.is_favoured[e])}}),$(".b-subposter-actions .new_comment").on("click",function(){var e=$(".b-form.new_comment textarea");$.scrollTo(e,function(){return e.focus()})})})},function(e,t,n){var r;pageLoad(".polls",function(){if($(".b-shiki_editor").shikiEditor(),$("#vue_poll_variants").exists())return n.e(4).then(function(){return r(n(72).Vue,n(561).default,n(97).collection)}.bind(null,n)).catch(n.oe)}),r=function(e,t,n){var r;return r=$("#poll_form").data("poll").variants,n.state.collection=r.map(function(e,t){return{key:t,label:e.label}}),new e({el:"#vue_poll_variants",store:n,render:function(e){return e(t)}})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(15),i=n.n(r),o=n(32),a=n.n(o);pageLoad("profiles_comments",function(){return $("form.comments-search").on("submit",function(e){e.preventDefault();var t=$(e.currentTarget).find("input.search"),n=a()(t.data("search_url")).removeQuery("phrase").addQuery({phrase:t.val()});i.a.visit(n)})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o,a=n(92);pageLoad("profiles_edit",function(){if($(".edit-page.profile").exists()&&$(".b-shiki_editor").shikiEditor(),$(".edit-page.styles").exists()&&o(),$(".edit-page.list, .edit-page.misc").exists()&&i(),$(".edit-page.ignored_topics, .edit-page.ignored_users"))return r()}),o=function(){return new a.default(".b-edit_styles"),$("#user_preferences_body_width").on("change",function(){return $(document.body).removeClass("x1000").removeClass("x1200").addClass($(this).val())})},i=function(){return $(".profile-action .controls .b-js-link").on("click",function(){var e;return e=$(this).data("type"),$(this).closest(".controls").hide(),$(this).closest(".profile-action").find(".form."+e).show()}),$(".profile-action .cancel").on("click",function(){return $(this).closest(".profile-action").find(".controls").show(),$(this).closest(".profile-action").find(".form").hide()}),$(".profile-action a").on("ajax:success",function(){return $(this).closest(".profile-action").find(".cancel").click()}),$(".nickname-changes .controls .b-js-link").on("click",function(){return $(".nickname-changes .controls").hide(),$(".nickname-changes .form").show()}),$(".nickname-changes .cancel").on("click",function(){return $(".nickname-changes .controls").show(),$(".nickname-changes .form").hide()}),$(".nickname-changes a").on("ajax:success",function(){return $(".nickname-changes .cancel").click()})},r=function(){return $(".b-editable_grid .actions .b-js-link").on("ajax:before",function(){return $(this).hide(),$('<div class="ajax-loading vk-like"></div>').insertAfter(this)}).on("ajax:success",function(){return $(this).closest("tr").remove()}),$(".user_ids").completableVariant(),$(".user_ids").is(":appeared")&&$(".user_ids").focus(),$(".user_ids").on("keydown",function(e){if(10===e.keyCode||13===e.keyCode)return $(".b-form").submit()})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var t=n(2),r=n.n(t),i=n(15),o=n.n(i),a=n(62),s=n(10),c=this;pageLoad("profiles_moderation",function(){var t;$(".b-form.new_ban").on("ajax:success",(t=regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return s.a.info(e.t("frontend.pages.p_profiles.page_is_reloading")),t.next=3,r()(500);case 3:o.a.visit(document.location.href);case 4:case"end":return t.stop()}},t,c)}),function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(i,o){try{var a=e[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});t(s)}("next")})})),new a.default($(".b-form.new_ban")),$(".ban-time").livetime()})}.call(t,n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var t,r=n(56),i=n.n(r);pageLoad("profiles_show",function(){return $(".friend-action").on("ajax:success",function(){return $(".friend-action").toggle()}),$(".ignore-action").on("ajax:success",function(){return $(".ignore-action").toggle()}),$("h1.aliases").tipsy({gravity:"w",html:!0,prependTo:document.body}),$(".activity .graph").empty().bar({before:function(e,n,r){var i,o;if(e.forEach(function(e,t){return e.dates={from:new Date(1e3*e.name[0]),to:new Date(1e3*e.name[1])}}),n.interval=Math.round(t(e[0].dates.from,e[0].dates.to)),n.range=Math.round(t(e[0].dates.from,e[e.length-1].dates.to)),n.index_label=0,n.y_axis){for(r.addClass("y-axis"),i=[],o=1;o<=10;)i.push('<div class="ruler" style="top: '+10*o+'%;"></div>'),o++;return r.html(i.join(""))}},title:function(n){var r,o,a,s,c,u;return c=p(n.value,e.t("frontend.pages.p_profiles.hour.one"),e.t("frontend.pages.p_profiles.hour.few"),e.t("frontend.pages.p_profiles.hour.many")),r="en"===LOCALE?"MMMM D":"D MMMM",(s=i()(n.dates.from).format(r))===(u=i()(n.dates.to).format(r))?e.t("frontend.pages.p_profiles.label.short",{hours:n.value,hour_word:c,date:s}):(o=(a=t(n.dates.from,n.dates.to))===Math.round(a)?p(n.value,e.t("frontend.pages.p_profiles.day.one"),e.t("frontend.pages.p_profiles.day.few"),e.t("frontend.pages.p_profiles.day.many")):e.t("frontend.pages.p_profiles.day.many"),e.t("frontend.pages.p_profiles.label.full",{hours:n.value,hour_word:c,from_date:s,to_date:u,days:a,day_word:o}))},x_axis:function(e,t,n,r){var o,a;return t<r.index_label?"":(o=e.dates.from,e.dates.to,0===t?(r.index_label=3,a=o.getFullYear()):r.prior.dates.from.getFullYear()!==o.getFullYear()?(a=o.getFullYear(),r.index_label=t+3):r.prior.dates.from.getMonth()!==o.getMonth()?(a=i()(o).format("MMM").capitalize(),r.index_label=t+3):r.range<=120&&(a=o.getDate(),r.index_label=t+2),r.prior=e,a||"")},no_data:function(e){return e.html('<p class="stat-sorry">'+e.data("no_stat_text")+"</p>").removeClass("bar").attr("id",!1)}})}),t=function(e,t){return 864e5,Math.round((t.getTime()-e.getTime())/864e5*10)/10}}.call(t,n(1))},function(e,t){pageLoad("profiles_video_uploads",function(){return $(".l-page").on("click",".b-log_entry.video .collapsed",function(){var e;if((e=$(this).parent().find(".player")).data("html"))return e.html(e.data("html")).data({html:""})})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var t=n(2),r=n.n(t),i=n(15),o=n.n(i),a=n(88),s=n(64),c=n(8),u=this;function l(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}("next")})}}pageLoad("recommendations_index","recommendations_favourites",l(regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!$("p.pending").exists()){t.next=7;break}return n=document.location.href,t.next=4,r()(5e3);case 4:if(n!==document.location.href){t.next=7;break}return o.a.visit(document.location.href),t.abrupt("return");case 7:$("body").on("mouseover",".b-catalog_entry",function(t){var n=t.currentTarget,r=$(n);if(window.SHIKI_USER.isSignedIn&&!r.hasClass("entry-ignored"))if(r.data("ignore_augmented"))r.data("ignore_button").show();else{var i=e.t("frontend.pages.p_recommendations_index.dont_recommend_franchise"),o=$("<span class='controls'>\n        <span class='delete mark-ignored' title='"+i+"'></span>\n      </span>").appendTo(r.find(".image-cutter"));r.data({ignore_augmented:!0,ignore_button:o})}}),$("body").on("mouseout",".b-catalog_entry",function(e){var t=e.currentTarget,n=$(t).data("ignore_button");n&&n.hide()}),$("body").on("click",".entry-ignored",function(e){Object(s.a)(e)||e.preventDefault()}),$("body").on("click",".b-catalog_entry .mark-ignored",function(){var e=l(regeneratorRuntime.mark(function e(t){var n,r,i,o,s,l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=$(t.currentTarget).closest(".b-catalog_entry"),!n.find("a").first().attr("href").match(/(anime|manga)s\//)){e.next=15;break}return r=RegExp.$1,i=n.prop("id"),n.addClass("entry-ignored"),$(t.currentTarget).hide(),a.a.reset(),e.next=11,c.default.post("/recommendation_ignores",{target_type:r,target_id:i});case 11:o=e.sent,s=o.data,l=s.map(function(e){return".entry-"+e}).join(","),$(l).addClass("entry-ignored");case 15:case"end":return e.stop()}},e,u)}));return function(t){return e.apply(this,arguments)}}());case 11:case"end":return t.stop()}},t,u)})))}.call(t,n(1))},function(e,t){pageLoad("reviews_new","reviews_edit","reviews_create","reviews_update",function(){return $(".b-rate").rateable(),$(".b-shiki_editor.unprocessed").shikiEditor().on("preview:params",function(){return{body:$(this).view().$textarea.val(),target_id:$("#review_target_id").val(),target_type:$("#review_target_type").val()}})})},function(e,t,n){(function(e){var t,r,i;pageLoad("statistics_index",function(){return $("#image_placeholder").hide(),n.e(0).then(function(e){var t;return(t=n(143)).getOptions().colors.length=0,n(80).forEach(function(e){return t.getOptions().colors.push(e)}),i(t),r(t),$(".by_rating .control").first().trigger("click"),$(".by_genre .control").first().trigger("click")}.bind(null,n)).catch(n.oe)}),i=function(n){var r;return r=n.getOptions().colors,Object.merge(total.series[0],{dataLabels:{formatter:function(){return this.y>5?this.point.name:null},color:"white",distance:-30},size:"70%"}),Object.merge(total.series[1],{dataLabels:{formatter:function(){return this.y>20?"<b>"+this.point.name+"</b>:<b>"+this.y+"</b>":null}},innerSize:"70%"}),total.series[0].data.forEach(function(e,t){return e.color=r[t]}),total.series[1].data.forEach(function(e,t){var i,o;return i=t%3/20,o=parseInt(t/3),e.color=n.Color(r[o]).brighten(i).get()}),t(n,"pie","total",total,"normal",e.t("frontend.statistics.number"),function(){return this.key.match(/^\d/)?e.t("frontend.statistics.anime_with_score",{count:this.y,score:this.key}):e.t("frontend.statistics.anime_of_type",{count:this.y,type:this.key})},{xAxis:null,plotOptions:{pie:{shadow:!1}}}),t(n,"area","by_kind",by_kind,"normal",e.t("frontend.statistics.number"),function(){return e.t("frontend.statistics.anime_in_year",{count:this.y,type:this.series.name,year:this.x})},{}),t(n,"area","by_studio",by_studio,"normal",e.t("frontend.statistics.number"),function(){return e.t("frontend.statistics.anime_with_rating_in_year",{count:this.y,rating:this.series.name,year:this.x})},{xAxis:{categories:by_studio.categories,labels:{step:1},title:{enabled:!1}}})},r=function(n){return $(".l-page").on("click",".by_genre .control",function(){var r;return(r=$(this).addClass("selected")).siblings().removeClass("selected"),"by_genre_chart"in window&&by_genre_chart.destroy(),t(n,"area","by_genre",by_genre[r.data("kind")],"percent",e.t("frontend.statistics.share"),function(){return e.t("frontend.statistics.genres_share",{percent:n.numberFormat(this.percentage,2,"."),genre:this.series.name,year:this.x})},{yAxis:{max:100}})}),$(".l-page").on("click",".by_rating .control",function(){var r;return(r=$(this).addClass("selected")).siblings().removeClass("selected"),"by_rating_chart"in window&&by_rating_chart.destroy(),t(n,"area","by_rating",by_rating[r.data("kind")],"percent",e.t("frontend.statistics.share"),function(){return e.t("frontend.statistics.ratings_share",{percent:n.numberFormat(this.percentage,2),rating:this.series.name,year:this.x})},{yAxis:{max:100}})})},t=function(e,t,n,r,i,o,a,s){var c;return c={chart:{renderTo:n,type:t},title:{text:""},subtitle:{text:""},xAxis:{categories:r.categories,labels:{step:2},title:{enabled:!1}},yAxis:{title:{text:o},labels:{formatter:function(){return this.value}}},tooltip:{formatter:a,borderRadius:0,borderWidth:1,shadow:!1},plotOptions:{area:{stacking:i,lineColor:"#666666",lineWidth:1,shadow:!1,marker:{enabled:!1,lineWidth:1,lineColor:"#666666"}}},credits:{enabled:!1},legend:{borderRadius:0,borderWidth:0},series:r.series},window[n+"_chart"]=new e.Chart($.extend(!0,c,s||{}))}}).call(t,n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n.n(r);function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}("next")})}}function a(){$("#link").val(document.location.href.replace(/\?.*/,"")+"?image_url="+$("#image_url").val()+"&image_border="+$("#image_border").val().replace("#","@"))}pageLoad(".tests",function(){$("#image_url").on("keypress",function(e){10!==e.keyCode&&13!==e.keyCode||$(this).trigger("change")}).on("blur change",function(){$(".b-achievement .c-image img").attr({src:this.value}),a()}).on("paste",o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i()();case 2:$(this).trigger("change");case 3:case"end":return e.stop()}},e,this)}))).trigger("change"),$("#image_border").on("keyup blur change",function(){$(".b-achievement .c-image .border").css({borderColor:this.value}),a()}).on("paste",o(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i()();case 2:$(this).trigger("change");case 3:case"end":return e.stop()}},e,this)}))).trigger("change")})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(2),o=n.n(i),a=this;pageLoad("tests_achievements_notification",(r=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return $(".b-button").on("click",function(e){var t=e.currentTarget,n=$(t),r=JSON.parse(n.prev().children("textarea").val());window.SHIKI_ACHIEVEMENTS_NOTIFIER.notify(r)}),e.next=3,o()();case 3:$(".b-button").click();case 4:case"end":return e.stop()}},e,a)}),function(){var e=r.apply(this,arguments);return new Promise(function(t,n){return function r(i,o){try{var a=e[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});t(s)}("next")})}))},function(e,t,n){var r,i;pageLoad("tests_show",function(){return new Wall.Gallery($(".images-test .shiki-wall")),n.e(0).then(function(e){return i(n(143))}.bind(null,n)).catch(n.oe)}),i=function(e){var t;return t=$(".traffic-test").data("stats"),$(".traffic-test").highcharts(r({series:[{name:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u044b",pointInterval:864e5,pointStart:new Date(t.first().date).getTime(),data:t.map(function(e){return e.page_views}),visible:!1,color:e.getOptions().colors[3],fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,e.getOptions().colors[3]],[1,e.Color(e.getOptions().colors[3]).setOpacity(0).get("rgba")]]}},{name:"\u0412\u0438\u0437\u0438\u0442\u044b",pointInterval:864e5,pointStart:new Date(t.first().date).getTime(),data:t.map(function(e){return e.visits}),visible:!1,color:e.getOptions().colors[1],fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,e.getOptions().colors[1]],[1,e.Color(e.getOptions().colors[1]).setOpacity(0).get("rgba")]]}},{name:"\u0423\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u0441\u0435\u0442\u0438\u0442\u0435\u043b\u0438",pointInterval:864e5,pointStart:new Date(t.first().date).getTime(),data:t.map(function(e){return e.visitors}),color:e.getOptions().colors[0],fillColor:{linearGradient:{x1:0,y1:0,x2:0,y2:1},stops:[[0,e.getOptions().colors[0]],[1,e.Color(e.getOptions().colors[0]).setOpacity(0).get("rgba")]]}}]}))},r=function(e){return $.extend(!0,{chart:{zoomType:"x",type:"areaspline"},title:null,xAxis:{type:"datetime",title:null,maxZoom:12096e5,dateTimeLabelFormats:{millisecond:"%H:%M:%S.%L",second:"%H:%M:%S",minute:"%H:%M",hour:"%H:%M",day:"%e. %b",week:"%e. %b",month:"%b",year:"%Y"}},yAxis:{title:null,gridLineColor:"#eaeaea",min:0},tooltip:{shared:!0},legend:{borderRadius:0,borderWidth:0},plotOptions:{areaspline:{lineWidth:1,fillOpacity:.5,marker:{enabled:!1},shadow:!1,states:{hover:{lineWidth:1}},threshold:null}},credits:!1},e)}},function(e,t,n){pageLoad("tests_vue",function(){return n.e(6).then(function(){var e,t;return t=n(72).Vue,e=n(562).default,new t({el:"#vue_app",render:function(t){return t(e)}})}.bind(null,n)).catch(n.oe)})},function(e,t){pageLoad("topics_new","topics_edit","topics_create","topics_update",function(){var e,t,n,r,i;if(e=$(".b-form.edit_topic, .b-form.new_topic"),r=$("#topic_linked",e),t=$("#topic_linked_type",e),n=$(".topic-link",e),e.length)return i=$("#topic_linked_type").val()||$("option",".topic_linked select.type").val(),$(".topic_linked select.type").on("change",function(){return t.val(this.value),r.data({autocomplete:r.data(this.value.toLowerCase()+"-autocomplete")}).attr({placeholder:r.data(this.value.toLowerCase()+"-placeholder")}).trigger("flushCache")}).val(i).trigger("change"),$(".b-shiki_editor",e).shikiEditor(),$("#topic_forum_id",e).trigger("change"),$(".topic_linked .remove",e).on("click",function(){return n.find("a").remove(),$("#topic_linked_id",e).val(""),$("#topic_linked",e).val(""),r.show(),$(".topic_linked select.type").show(),n.hide()}),r.completable().on("autocomplete:success",function(i,o){return $("#topic_linked_id",e).val(o.id),$("#topic_linked_type",e).val(t.val()),this.value="",n.find("a").remove(),n.prepend("<a href='/"+t.val().toLowerCase()+"s/"+o.id+"' class='bubbled b-link'>"+o.name+"</a>"),n.process(),r.hide(),$(".topic_linked select.type").hide(),$(".topic-link",e).show()}).on("keypress",function(e){if(10===e.keyCode||13===e.keyCode)return e.preventDefault(),!1})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i,o,a,s=n(8);pageLoad("topics_new","topics_edit","topics_create","topics_update",function(){var e,t,n,c,u,l,d,f;return t=$(".b-form.edit_topic, .b-form.new_topic"),n=$("#topic_linked_id",t),c=$("#topic_linked_type",t),d=$(".topic_posters .b-dropzone",t),f=d.find(".b-shiki_wall"),d.shikiFile({progress:d.find(".b-upload_progress"),input:d.find("input[type=file]")}).on("upload:success",function(e,t){var n;return n=$("<a href='"+t.url+"' rel='new-wall' class='b-image b-link' id='"+t.id+"'><img src='"+t.preview+"' class=''> <div class='mobile-edit'></div><div class='controls'> <div class='delete'></div><div class='confirm'></div><div class='cancel'></div></div></a>").appendTo(f),$(".confirm",n).on("click",function(){return o(n,f)}),a(f)}),$(".b-image .confirm",d).on("click",function(){return o($(this).closest(".b-image").remove(),f)}),(u=$(".topic_video",t)).data("video_id")&&r({video_id:u.data("video_id"),content:u.data("content")},u,f),l=$(".form",u),(e=$(".attach",l)).on("click",function(){var t,o,a;return t=i(c,n),a=e.data("url").replace("ANIME_ID",t||0),o={video:{anime_id:t,url:$("#topic_video_url",l).val(),kind:$("#topic_video_kind",l).val(),name:$("#topic_video_name",l).val()}},u.addClass("b-ajax"),s.default.post(a,o).then(function(e){return r(e.data,u,f)})}),t.on("submit",function(){var e,n;if(e=$(".attachments",t).empty(),$(".b-dropzone a",t).map(function(){return $(this).attr("id")}).each(function(t,n){return e.append('<input type="hidden" name="topic[wall_ids][]" value="'+n+'"/>')}),n=u.data("video_id"))return e.append('<input type="hidden" name="topic[video_id]" value="'+n+'"/>')})}),o=function(e,t){return e.remove(),a(t),!1},a=function(e){return e.find("img").css({width:"",height:""}),new Wall.Gallery(e)},i=function(e,t){if("Anime"===e.val())return t.val()},r=function(e,t,n){var r,i,s,c;return i=$(".form",t),s=$(".remove",t),r=$(".errors",t),t.removeClass("b-ajax"),e.errors?r.show().html(e.errors.join(", ")):(r.hide(),t.data({video_id:e.video_id}),i.hide(),s.removeClass("hidden"),c=$(e.content).prependTo(n),a(n),s.one("click",function(){return t.data({video_id:null}),i.show(),s.addClass("hidden"),o(c,n)}))}},function(e,t){pageLoad("topics_show",function(){var e=$(".body-inner .review-stars");if(e.length){var t=$(".body-inner img.b-poster").first();t.imagesLoaded(function(){var n=t.offset();n&&n.top===e.offset().top+e.outerHeight()&&t.addClass("review-poster")})}})},function(e,t,n){var r;r=n(217),pageLoad("translations_show",function(){return new r($(".translations")[0],{itemSelector:".animes"})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(91),i=n(84);pageLoad("userlist_comparer_show",function(){new r.default(".b-collection_search"),$("tr.unprocessed").removeClass("unprocessed").find("a.tooltipped").tooltip(Object.add(i.b,{offset:[-95,10],position:"bottom right",opacity:1}))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(2),o=n.n(i),a=n(15),s=n.n(a),c=this;pageLoad("users_similar",(r=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!$("p.pending").exists()){e.next=5;break}return t=document.location.href,e.next=4,o()(5e3);case 4:t===document.location.href&&s.a.visit(document.location.href,!0);case 5:case"end":return e.stop()}},e,c)}),function(){var e=r.apply(this,arguments);return new Promise(function(t,n){return function r(i,o){try{var a=e[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});t(s)}("next")})}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=this;function o(e){$(".video-preview").show().html(e),$(".create-buttons").show(),$(".create-buttons .b-errors").toggle(!e),$(".create-buttons .buttons").toggle(!!e)}pageLoad("anime_videos_new","anime_videos_edit","anime_videos_create","anime_videos_update",function(){var e=$("form");e.on("submit",function(t){e.data("blocked")?t.preventDefault():e.data({blocked:!0})});var t,n,a=$("#anime_video_url"),s=$("#anime_video_episode"),c=$(".video-preview");c.data("player_html")&&o(c.data("player_html")),""===s.val()?s.focus():a.focus(),$(".do-preview").on("click",(t=regeneratorRuntime.mark(function t(n){var a,s,c,u=n.currentTarget;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(a=$("#anime_video_url").val(),$(".anime_video_url .error").remove(),a){t.next=6;break}return $(".anime_video_url").append('<div class="error">\u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c</div>'),$("#anime_video_url").focus(),t.abrupt("return");case 6:return e.addClass("b-ajax"),$(".video-preview").removeClass("hidden"),t.next=10,r.default.post($(u).data("href"),{url:a}).catch(function(){return{data:null}});case 10:s=t.sent,c=s.data,e.removeClass("b-ajax"),o(c?c.player_html:null);case 14:case"end":return t.stop()}},t,i)}),n=function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(i,o){try{var a=e[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});t(s)}("next")})},function(e){return n.apply(this,arguments)})),$(".continue").on("click",function(){return $("#continue").val("true")}),$("#anime_video_author_name").completable().on("autocomplete:success autocomplete:text",function(e,t){this.value=(null!=t?t.value:void 0)||t})})},function(e,t,n){(function(e){$(document).on("click",".click-loader",function(){var t,n;if(!(t=$(this)).data("locked"))return t.data({locked:!0}),t.trigger("ajax:before"),t.data({html:t.html()}).html("<div class='ajax-loading vk-like' title='"+e.t("frontend.blocks.click_loader.loading")+"' />"),n="json"===t.data("format")?"getJSON":"get",$[n](t.data("href")).success(function(e,n,r){return t.data({locked:!1}).trigger("ajax:success",[e])})})}).call(t,n(1))},function(e,t){$(document).on("click",".collapse",function(e,t){var n,r,i,o,a,s;for(a=$(this).children(".action").html().match(/\u0441\u0432\u0435\u0440\u043d\u0443\u0442\u044c|\u0441\u043f\u0440\u044f\u0442\u0430\u0442\u044c|collapse|hide/),$(this).toggleClass("triggered",a),(r=$(this).next()).hasClass("collapsed")||(r=r.next()),(n=r.next()).exists()||(n=$(this).parent().next());n.last().next().hasClass("collapse-merged");)n=n.add(n.last().next());return n.length>1&&(n=n.filter(":not(.collapse-ignored)")),a?(r.show(),n.hide()):(n.show(),r.hide()),$(this).children(".action").html(function(){var e;return(e=$(this)).hasClass("half-hidden")&&(a?e.hide():e.show()),a?e.html().replace("\u0441\u0432\u0435\u0440\u043d\u0443\u0442\u044c","\u0440\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c").replace("\u0441\u043f\u0440\u044f\u0442\u0430\u0442\u044c","\u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c").replace("hide","show").replace("collapse","expand"):e.html().replace("\u0440\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c","\u0441\u0432\u0435\u0440\u043d\u0443\u0442\u044c").replace("\u043f\u043e\u043a\u0430\u0437\u0430\u0442\u044c","\u0441\u043f\u0440\u044f\u0442\u0430\u0442\u044c").replace("show","hide").replace("expand","collapse")}),t||(o=$(this).attr("id"))&&""!==o&&-1!==o.indexOf("-")&&(s=o.split("-").slice(1).join("-")+";",i=$.cookie("collapses")||"",a&&-1===i.indexOf(s)?$.cookie("collapses",i+s,{expires:730,path:"/"}):a||-1===i.indexOf(s)||$.cookie("collapses",i.replace(s,""),{expires:730,path:"/"})),r.next().trigger("show")}),$(document).on("click",".collapsed",function(){var e;return(e=$(this).prev()).hasClass("collapse")||(e=e.prev()),e.trigger("click")}),$(document).on("click",".hide-expanded",function(){return $(this).parent().prev().trigger("click")}),$(document).on("click",".spoiler.target",function(){if($(this).hasClass("dashed"))return $(this).hide().prev().show().prev().show()})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var t=n(89),r=n(10);$(document).on("turbolinks:load",function(){var n;return n=$(".b-feedback"),$(".marker-positioner",n).on("ajax:success",function(n,i){var o,a;return(o=$(i)).find(".b-shiki_editor.unprocessed").shikiEditor(),a=new t.default(o),o.one("mouseover",function(){var e;if((e=o.find("input[data-antispam]")).length)return e.val(e.data("token").replace("antispam-",""))}).on("ajax:success",function(){return r.a.notice(e.t("frontend.blocks.feedback.message_sent")),a.close()})})})}.call(t,n(1))},function(e,t){$(document).on("turbolinks:load",function(){return $(".b-lang_trigger").on("click",function(){var e;return(e=$(".english")).is(":visible")?(e.hide(),$(".russian").show(),$(".changes").show(),$(this).children().html("eng")):(e.show(),$(".russian").hide(),$(".changes").hide(),$(this).children().html("\u0440\u0443\u0441"))})})},function(e,t){$(document).on("turbolinks:load",function(){var e,t;if((e=$(".menu-toggler")).exists())return e.on("click",function(){return $(".l-page").toggleClass("menu-expanded")}),$.detectSwipe.threshold=150,$.detectSwipe.preventDefault=!1,t=$(".l-page").on("swipeleft",function(){return t.addClass("menu-expanded")}).on("swiperight",function(){return t.removeClass("menu-expanded")})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(250),o=n.n(i),a=n(32),s=n.n(a),c=n(31),u=this;$(document).on("turbolinks:load",(r=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("pages_my_target_ad"!==document.body.id){e.next=2;break}return e.abrupt("return");case 2:if("production"===window.ENV){e.next=4;break}return e.abrupt("return");case 4:if(c.mobileDetect.phone()||c.mobileDetect.tablet()){e.next=6;break}return e.abrupt("return");case 6:if("shikimori.org"===s()(document.location.href).domain()){e.next=8;break}return e.abrupt("return");case 8:if(!window.MRGtag){e.next=12;break}window.MRGtag.push({}),e.next=15;break;case 12:return e.next=14,o()("//ad.mail.ru/static/ads-async.js");case 14:(window.MRGtag=window.MRGtag||[]).push({});case 15:case"end":return e.stop()}},e,u)}),function(){var e=r.apply(this,arguments);return new Promise(function(t,n){return function r(i,o){try{var a=e[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});t(s)}("next")})}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n.n(r);$(function(){return $(window).on("resize:debounced",function(){return $(".packery").each((e=regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(t=$(this).data("packery")).layout(),e.next=4,i()(1250);case 4:t.layout();case 5:case"end":return e.stop()}},e,this)}),function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}("next")})}));var e})})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var t,r,i=n(8),o=this;function a(e,t,n){var r=$("."+n,t).toArray().map(function(e){return e.id}).filter(function(e){return e}).map(function(e){return"."+n+"#"+e}).join(",");e.children().filter(r).remove()}$(function(){return $(".b-postloader").appear()}),$(document).on("click appear",".b-postloader",(t=regeneratorRuntime.mark(function t(n){var r,s,c,u,l,d,f,p,h=n.currentTarget,m=n.type;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!((r=$(h)).data("locked")||"appear"===m&&r.data("ignore-appear"))){t.next=3;break}return t.abrupt("return");case 3:return s=e.t("frontend.lib.postloader.loading"),c=r.data("remote"),u=r.data("filter"),r.html('<div class="ajax-loading vk-like" title="'+s+'..." />').data({locked:!0}),t.next=9,i.default.get(c);case 9:l=t.sent,d=l.data,f=$("<div>").append(""+d.content+d.postloader),u&&a(f,r.parent(),u),r.trigger("postloader:before",[f,d]),f.process(d.JS_EXPORTS),p=f.children(),r.replaceWith(p),p.first().trigger("postloader:success"),r.data({locked:!1});case 19:case"end":return t.stop()}},t,o)}),r=function(){var e=t.apply(this,arguments);return new Promise(function(t,n){return function r(i,o){try{var a=e[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});t(s)}("next")})},function(e){return r.apply(this,arguments)}))}.call(t,n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n.n(r),o=this;$(document).on("turbolinks:load",function(){var e,t;$(".b-hot_topics-v2.red-alert .b-close").on("click",(e=regeneratorRuntime.mark(function e(t){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=$(".b-hot_topics-v2.red-alert"),$.cookie($(t.currentTarget).data("cookie-name"),"1",{expires:720}),n.addClass("removing"),e.next=5,i()(1e3);case 5:n.remove();case 6:case"end":return e.stop()}},e,o)}),t=function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}("next")})},function(e){return t.apply(this,arguments)}))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(31),i=null,o=null,a=!1,s=!1;function c(){a||($(window).scrollTop()>$(".l-top_menu-v2").height()?null!==i&&!1!==i||(o.addClass("active"),i=!0):u())}function u(){null!==i&&!0!==i||(o.removeClass("active"),i=!1)}$(document).on("turbolinks:load",function(){Object(r.isMobile)()||(o=$(".b-to-top"),i=null,c(),o.on("click",function(){u(),a=!0,$("body,html").animate({scrollTop:0},50,function(){return a=!1})}),s||(s=!0,$(window).on("scroll:throttled",c)))})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n.n(r),o=n(43),a=n(133),s=n(254),c=n(31),u=this;var l=void 0;function d(){var e=$(".l-top_menu-v2.is-search-mobile .search.mobile");e.length&&(e.click(),l.cancel())}$(document).on("turbolinks:load",function(){var e=$(".l-top_menu-v2 .global-search");e.length&&(l=new a.default(e)),e.find(".clear").on("click",d),$(".l-top_menu-v2 .menu-dropdown").each(function(e,t){var n,r,a=$(t),l=a.children("span"),f=a.children(".submenu").show(),p=f.children("a").on("focus",function(e){var t,n=e.currentTarget;return(t=n).setAttribute("tabindex",0),void t.classList.add("active")}).on("blur",function(e){var t,n=e.currentTarget;return(t=n).setAttribute("tabindex",-1),void t.classList.remove("active")}).hover(function(e){var t=e.currentTarget;return $(t).focus()},function(e){var t=e.currentTarget;return $(t).blur()}),h=function(e){e.preventDefault(),e.stopImmediatePropagation();var t=p.filter(".active");t.length&&$(p[p.index(t)-1]).focus()},m=function(e){e.preventDefault(),e.stopImmediatePropagation();var t=p.filter(".active");t.length?$(p[p.index(t)+1]).focus():p.first().focus()},_=function(){a.addClass("active"),$(".l-top_menu-v2").addClass("is-submenu"),s.a.on("up",h).on("down",m),d()},v=function(){a.removeClass("active"),$(".l-top_menu-v2 .menu-dropdown.active").length||$(".l-top_menu-v2").removeClass("is-submenu"),s.a.off("up",h).off("down",m)},g=!!l.children("a").length;!function(e){var t=e.$modal,n=e.$trigger,r=e.$outerNode,o=e.show,a=e.hide,s=e.onlyShow,c=e.isIgnored,u=e.isHidden,l=!1;function d(){return u?u():"none"!==t.css("display")}function f(e){var n=e.type;if("focus"===n||!c||!c()){var r=d()||"focus"===n?"modal:show":"modal:hide";"modal:hide"===r&&s||l||(t.trigger(r),l=!0,i()().then(function(){return l=!1}))}}function p(e){var n=e.target,i=$(n);n!==(r||t)[0]&&!i.closest(r||t).length&&i.parents("html").length&&t.trigger("modal:hide")}function h(e){27===e.keyCode&&t.trigger("modal:hide")}n.constructor===String?$(document).on("mousedown focus",n,f):n.on("mousedown focus",f),t.on("modal:show",function(){d()&&(o?o():t.show(),i()().then(function(){$(document.body).on("click",p),$(document.body).on("focus","*",p),$(document.body).on("keydown",h),$(document).one("turbolinks:before-cache",function(){$(document.body).off("click",p),$(document.body).off("focus","*",p),$(document.body).off("keydown",h)})}))}).on("modal:hide",function(){d()||(a?a():t.hide(),$(document.body).off("click",p),$(document.body).off("focus","*",p),$(document.body).off("keydown",h),n.is(":focus")&&n.blur())})}({$modal:f,$outerNode:a,$trigger:l,show:_,hide:(n=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return v(),e.next=3,i()();case 3:l.blur();case 4:case"end":return e.stop()}},e,u)}),r=function(){var e=n.apply(this,arguments);return new Promise(function(t,n){return function r(i,o){try{var a=e[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});t(s)}("next")})},function(){return r.apply(this,arguments)}),isIgnored:function(){return!Object(c.isTablet)()&&!Object(c.isMobile)()&&g},isHidden:function(){return!a.hasClass("active")}});var y=Object(o.a)(200,function(){b&&v()}),b=!1;a.hover(function(){Object(c.isTablet)()||Object(c.isMobile)()||(b=!1,_())},function(){Object(c.isTablet)()||Object(c.isMobile)()||(b=!0,y())})}),$(".l-top_menu-v2 .search.mobile").on("click",function(t){var n=t.currentTarget;$(n).toggleClass("active"),$(".l-top_menu-v2").toggleClass("is-search-mobile"),n.classList.contains("active")&&e.find("input").focus()})}),$(document).on("turbolinks:before-cache",function(){l&&(l.cancel(),l=void 0),$(".l-top_menu-v2").removeClass("is-submenu is-search-mobile"),$(".l-top_menu-v2 .submenu").prop("style",!1),$(".l-top_menu-v2 .active").removeClass("active")})},function(e,t){$(document).on("click",".user-defined",function(){return this.classList.toggle("active")})},,,,,,,,,,function(e,t,n){n(338),n(537),n(539)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var t=n(339),r=(n.n(t),n(340)),i=(n.n(r),n(345)),o=(n.n(i),n(346)),a=(n.n(o),n(347)),s=(n.n(a),n(348)),c=(n.n(s),n(349)),u=(n.n(c),n(350)),l=(n.n(u),n(351)),d=(n.n(l),n(352)),f=(n.n(d),n(353)),p=(n.n(f),n(355)),h=(n.n(p),n(356)),m=(n.n(h),n(357)),_=(n.n(m),n(358)),v=(n.n(_),n(359)),g=(n.n(v),n(361)),y=(n.n(g),n(362)),b=(n.n(y),n(363)),w=(n.n(b),n(364)),$=(n.n(w),n(365)),k=(n.n($),n(366)),x=(n.n(k),n(367)),j=(n.n(x),n(368)),C=(n.n(j),n(369)),O=(n.n(C),n(370)),S=(n.n(O),n(371)),T=(n.n(S),n(372)),P=(n.n(T),n(376)),E=(n.n(P),n(379)),I=(n.n(E),n(380)),A=(n.n(I),n(381)),M=(n.n(A),n(382)),R=(n.n(M),n(383)),L=(n.n(R),n(384)),D=(n.n(L),n(385)),N=(n.n(D),n(386)),z=(n.n(N),n(387)),q=(n.n(z),n(388)),H=(n.n(q),n(389)),U=(n.n(H),n(390)),F=(n.n(U),n(392)),W=(n.n(F),n(393)),B=(n.n(W),n(394)),V=(n.n(B),n(395)),G=(n.n(V),n(397)),Q=(n.n(G),n(398)),K=(n.n(Q),n(399)),Y=(n.n(K),n(400)),J=(n.n(Y),n(401)),X=(n.n(J),n(403)),Z=(n.n(X),n(404)),ee=(n.n(Z),n(405)),te=(n.n(ee),n(406)),ne=(n.n(te),n(407)),re=(n.n(ne),n(408)),ie=(n.n(re),n(409)),oe=(n.n(ie),n(410)),ae=(n.n(oe),n(411)),se=(n.n(ae),n(412)),ce=(n.n(se),n(110)),ue=(n.n(ce),n(413)),le=(n.n(ue),n(414)),de=(n.n(le),n(415)),fe=(n.n(de),n(416)),pe=(n.n(fe),n(417)),he=(n.n(pe),n(418)),me=(n.n(he),n(419)),_e=(n.n(me),n(420)),ve=(n.n(_e),n(421)),ge=(n.n(ve),n(422)),ye=(n.n(ge),n(423)),be=(n.n(ye),n(424)),we=(n.n(be),n(425)),$e=(n.n(we),n(426)),ke=(n.n($e),n(427)),xe=(n.n(ke),n(429)),je=(n.n(xe),n(430)),Ce=(n.n(je),n(431)),Oe=(n.n(Ce),n(432)),Se=(n.n(Oe),n(433)),Te=(n.n(Se),n(434)),Pe=(n.n(Te),n(435)),Ee=(n.n(Pe),n(436)),Ie=(n.n(Ee),n(437)),Ae=(n.n(Ie),n(438)),Me=(n.n(Ae),n(439)),Re=(n.n(Me),n(440)),Le=(n.n(Re),n(441)),De=(n.n(Le),n(442)),Ne=(n.n(De),n(443)),ze=(n.n(Ne),n(444)),qe=(n.n(ze),n(445)),He=(n.n(qe),n(446)),Ue=(n.n(He),n(447)),Fe=(n.n(Ue),n(117)),We=n.n(Fe),Be=n(169),Ve=n.n(Be),Ge=n(15),Qe=n.n(Ge),Ke=n(56),Ye=n.n(Ke),Je=n(2),Xe=n.n(Je),Ze=n(452),et=(n.n(Ze),n(453)),tt=(n.n(et),n(454)),nt=(n.n(tt),n(455)),rt=(n.n(nt),n(457)),it=(n.n(rt),n(458)),ot=(n.n(it),n(459)),at=(n.n(ot),n(460)),st=(n.n(at),n(461)),ct=(n.n(st),n(462)),ut=(n.n(ct),n(43)),lt=n(463),dt=n(464),ft=n(512),pt=n(513),ht=n(532),mt=n(533),_t=n(120),vt=n(534),gt=(n.n(vt),n(535)),yt=(n.n(gt),n(536));n.n(yt);window.$=Ve.a,window.jQuery=window.$,We.a.extend(),Qe.a.start();var bt=n(450);bt.keys().forEach(bt),n(456),n(188),window.pageLoad=lt.a,window.pageUnload=dt.a;var wt=n(465);wt.keys().forEach(wt);var $t=n(505);$t.keys().forEach($t);var kt=n(509);kt.keys().forEach(kt);var xt=n(510);xt.keys().forEach(xt);var jt=n(511);jt.keys().forEach(jt),Ve()(document).on(Object.keys(_t.a).join(" "),function(e){_t.a[e.type].forEach(function(e){var t=void 0;t=e.conditions.length&&"."===e.conditions[0][0]?e.conditions.filter(function(e){return"."===e[0]}).map(function(e){return"p-"+e.slice(1)+" "}):[],e.conditions.length?t&&t.some(function(e){return-1!==document.body.className.indexOf(e)})?e.callback():e.conditions.some(function(e){return document.body.id===e})&&e.callback():e.callback()})}),Ve()(function(){window.JS_EXPORTS||(window.JS_EXPORTS={});var t=Ve()(document.body);window.ENV=t.data("env"),window.SHIKI_USER=new ft.a(t.data("user")),window.LOCALE=t.data("locale"),window.FAYE_URL=t.data("faye_url"),window.CAMO_URL=t.data("camo_url"),window.SHIKI_USER&&(window.FAYE_CHANNEL=t.data("faye")),window.I18n=e,e.locale=window.LOCALE,Ye.a.locale(window.LOCALE),window.MOMENT_DIFF=Ye()(t.data("server_time")).diff(new Date),window.SHIKI_USER.isSignedIn&&!window.SHIKI_FAYE_LOADER&&(window.SHIKI_COMMENTS_NOTIFIER=new ht.a,window.SHIKI_ACHIEVEMENTS_NOTIFIER=new mt.a,Xe()(150).then(function(){return window.SHIKI_FAYE_LOADER=new pt.a})),Ve()(".b-appear_marker.active").appear(),Ve.a.formNavigate({size:250,message:e.t("frontend.application.sure_to_leave_page")});var n=window.location.hash.match(/^#(comment-\d+)$/);n&&Ve()("a[name="+n[1]+"]").closest(".b-comment").yellowFade(),Ve()(window).on("resize",Object(ut.a)(500,function(){return Ve()(document.body).trigger("resize:debounced")})),Ve()(window).on("scroll",Object(ut.b)(750,function(){return Ve()(document.body).trigger("scroll:throttled")}))})}.call(t,n(1))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){var r={"./highcharts_colors":80,"./highcharts_colors.coffee":80,"./jquery-migrate-1.3.0":172,"./jquery-migrate-1.3.0.js":172,"./jquery.autocomplete":173,"./jquery.autocomplete.js":173,"./jquery.cacheimage":174,"./jquery.cacheimage.js":174,"./jquery.color":175,"./jquery.color.js":175,"./jquery.cookie":176,"./jquery.cookie.js":176,"./jquery.cursor_message":177,"./jquery.cursor_message.js":177,"./jquery.detect_swipe":178,"./jquery.detect_swipe.js":178,"./jquery.featureList-1.0.0":179,"./jquery.featureList-1.0.0.js":179,"./jquery.filedrop":180,"./jquery.filedrop.js":180,"./jquery.injectCSS":181,"./jquery.injectCSS.js":181,"./jquery.mousewheel":182,"./jquery.mousewheel.js":182,"./jquery.serialize-hash":183,"./jquery.serialize-hash.js":183,"./jquery.tipsy":184,"./jquery.tipsy.js":184,"./jquery.tools":185,"./jquery.tools.js":185,"./jquery.tooltip":186,"./jquery.tooltip.js":186,"./modernizr":187,"./modernizr.js":187,"./sugar":117,"./sugar.js":117};function i(e){return n(o(e))}function o(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=450},,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(120);t.a=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=Math.max(t.length,1),o=t.slice(0,i-1),a=t[i-1];r.a["turbolinks:load"].push({conditions:o,callback:a})}},function(e,t,n){"use strict";var r=n(120);t.a=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var i=Math.max(t.length,1),o=t.slice(0,i-1),a=t[i-1];r.a["turbolinks:before-cache"].push({conditions:o,callback:a})}},function(e,t,n){var r={"./jquery.align_posters":189,"./jquery.align_posters.js":189,"./jquery.animated":190,"./jquery.animated.js":190,"./jquery.appear":191,"./jquery.appear.js":191,"./jquery.bar":192,"./jquery.bar.coffee":192,"./jquery.change_tag.js":193,"./jquery.change_tag.js.coffee":193,"./jquery.check_height":194,"./jquery.check_height.coffee":194,"./jquery.completable.js":195,"./jquery.completable.js.coffee":195,"./jquery.exists":196,"./jquery.exists.js":196,"./jquery.form_navigate.js":197,"./jquery.form_navigate.js.coffee":197,"./jquery.gallery_options":198,"./jquery.gallery_options.coffee":198,"./jquery.image_editable":199,"./jquery.image_editable.js":199,"./jquery.insert_at_caret.js":200,"./jquery.insert_at_caret.js.coffee":200,"./jquery.livetime.js":201,"./jquery.livetime.js.coffee":201,"./jquery.magnific_rel_gallery.js":202,"./jquery.magnific_rel_gallery.js.coffee":202,"./jquery.magnific_webm":203,"./jquery.magnific_webm.coffee":203,"./jquery.normalize_image":204,"./jquery.normalize_image.js":204,"./jquery.process":205,"./jquery.process.js":205,"./jquery.process_hiddent_content":234,"./jquery.process_hiddent_content.js":234,"./jquery.rateable":235,"./jquery.rateable.coffee":235,"./jquery.scroll_to":236,"./jquery.scroll_to.js":236,"./jquery.set_cursor_position.js":237,"./jquery.set_cursor_position.js.coffee":237,"./jquery.shiki_editor":238,"./jquery.shiki_editor.js":238,"./jquery.shiki_file":239,"./jquery.shiki_file.coffee":239,"./jquery.shiki_image":240,"./jquery.shiki_image.js":240,"./jquery.shiki_video":241,"./jquery.shiki_video.js":241,"./jquery.show_more":242,"./jquery.show_more.js":242,"./jquery.spoiler":243,"./jquery.spoiler.js":243,"./jquery.tag_name":244,"./jquery.tag_name.js":244,"./jquery.trigger_with_return":245,"./jquery.trigger_with_return.js":245,"./jquery.view":246,"./jquery.view.js":246,"./jquery.yellow_fade":247,"./jquery.yellow_fade.js":247,"./rails_ujs_modified":248,"./rails_ujs_modified.js":248};function i(e){return n(o(e))}function o(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=465},,function(e,t,n){var r;r=n(468),e.exports=function(){function e(){}return e.track=function(e,t){if(!Object.isEmpty(null!=e?e.topics:void 0))return e.topics.forEach(function(e){return new r(e,t)}),e.topics=null},e}()},function(e,t,n){var r;r=n(54).default,e.exports=function(){function e(e,t){r(this._selector(e),t).data({model:e})}return e.prototype._selector=function(e){return".b-topic#"+e.id},e}()},function(e,t,n){var r;r=n(470),e.exports=function(){function e(){}return e.track=function(e,t){if(!Object.isEmpty(null!=e?e.comments:void 0))return e.comments.forEach(function(e){return new r(e,t)}),e.comments=null},e}()},function(e,t,n){var r;r=n(54).default,e.exports=function(){function e(e,t){r(this._selector(e),t).data({model:e})}return e.prototype._selector=function(e){return".b-comment#"+e.id},e}()},function(e,t,n){var r;r=n(472),e.exports=function(){function e(){}return e.track=function(e,t){if(!Object.isEmpty(null!=e?e.polls:void 0))return e.polls.forEach(function(e){return new r(e,t)}),e.polls=null},e}()},function(e,t,n){var r;r=n(54).default,e.exports=function(){function e(e,t){r(this._selector(e),t).data({model:e}).each(function(t,n){return new Polls.View(n,e)})}return e.prototype._selector=function(e){return".poll-placeholder#"+e.id},e}()},,,function(e,t,n){"use strict";(function(e){var r=n(10),i=n(3),o=n(82),a={}.hasOwnProperty;t.a=function(t){var n;function s(){return s.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)a.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(s,i["default"]),n="frontend.dynamic_elements.day_registered_action",s.prototype.initialize=function(){return this.$node.on("click",function(t){return window.SHIKI_USER.isSignedIn?window.SHIKI_USER.isDayRegistered?void 0:(r.a.info(e.t(n+".action_will_be_available")),t.stopImmediatePropagation(),!1):(r.a.info(e.t(o.a.I18N_KEY+".register_to_complete_action")),t.stopImmediatePropagation(),!1)})},s}()}).call(t,n(1))},function(e,t,n){"use strict";(function(e){var r=n(10),i=n(3),o=n(82),a={}.hasOwnProperty;t.a=function(t){var n;function s(){return s.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)a.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(s,i["default"]),n="frontend.dynamic_elements.week_registered_action",s.prototype.initialize=function(){return this.$node.on("click",function(t){return window.SHIKI_USER.isSignedIn?window.SHIKI_USER.isWeekRegistered?void 0:(r.a.info(e.t(n+".action_will_be_available")),t.stopImmediatePropagation(),!1):(r.a.info(e.t(o.a.I18N_KEY+".register_to_complete_action")),t.stopImmediatePropagation(),!1)})},s}()}).call(t,n(1))},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";(function(e){var r=n(44),i={}.hasOwnProperty;t.a=function(t){var n;function o(){return o.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(o,r["default"]),n=["faye:comment:marked","faye:comment:created","faye:comment:updated","faye:comment:deleted","faye:topic:updated","faye:topic:deleted","faye:comment:set_replies"],o.prototype.initialize=function(){var e;return this.on(n.join(" "),(e=this,function(t,n){var r;if(!window.SHIKI_USER.isTopicIgnored(n.topic_id)&&!window.SHIKI_USER.isUserIgnored(n.user_id))return(r=e.$(".b-topic#"+n.topic_id)).exists()?r.trigger(t.type,n):"faye:comment:created"===t.type?(e._faye_placeholder(n.topic_id),$(document.body).trigger("faye:added")):void 0})),this.on("faye:topic:created",function(e){return function(t,n){if(!window.SHIKI_USER.isUserIgnored(n.user_id))return e._faye_placeholder(n.topic_id),$(document.body).trigger("faye:added")}}(this))},o.prototype._faye_placeholder=function(t){var n,r;return(n=this.$(">.faye-loader")).exists()||(n=$('<div class="click-loader faye-loader" data-format="json"></div>').prependTo(this.$root).data({ids:[]}).on("ajax:success",function(e,t){var r;return r=$(t.content).process(t.JS_EXPORTS),n.replaceWith(r)})),-1===n.data("ids").indexOf(t)&&(n.data({ids:n.data("ids").add(t)}),n.data({href:"/topics/chosen/"+n.data("ids").join(",")}),r=n.data("ids").length,n.html(p(r,e.t("frontend.lib.jquery_shiki_forum.new_topics_added.one",{count:r}),e.t("frontend.lib.jquery_shiki_forum.new_topics_added.few",{count:r}),e.t("frontend.lib.jquery_shiki_forum.new_topics_added.many",{count:r})))),n},o}()}).call(t,n(1))},,,,,,function(e,t,n){"use strict";(function(e){var r=n(219),i={}.hasOwnProperty;t.a=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,r["a"]),n.prototype._type=function(){return"message"},n.prototype._type_label=function(){return e.t("frontend.dynamic_elements.message.type_label")},n.prototype._deactivate_inaccessible_buttons=function(){},n}()}).call(t,n(1))},function(e,t,n){"use strict";(function(e){var r=n(124),i={}.hasOwnProperty;t.a=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return function(e,t){for(var n in t)i.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(n,r["a"]),n.prototype.initialize=function(){return this._check_height(),this.on("appear",this._appear),this.$(".item-reply").on("click",(e=this,function(t){return e.$(".b-new_marker.active").click(),!0}));var e},n.prototype._check_height=function(){return this.$inner.checkHeight({max_height:this.MAX_PREVIEW_HEIGHT,collapsed_height:this.COLLAPSED_HEIGHT})},n.prototype._type=function(){return"dialog"},n.prototype._type_label=function(){return e.t("frontend.dynamic_elements.dialog.type_label")},n}()}).call(t,n(1))},function(e,t,n){var r={"./achievements/notifier":220,"./achievements/notifier.jade":220,"./animes/watch_online_button/censored":221,"./animes/watch_online_button/censored.jade":221,"./animes/watch_online_button/licensed":222,"./animes/watch_online_button/licensed.jade":222,"./animes/watch_online_button/upload":223,"./animes/watch_online_button/upload.jade":223,"./animes/watch_online_button/watch":224,"./animes/watch_online_button/watch.jade":224,"./comments/notifier":225,"./comments/notifier.jade":225,"./images/image":226,"./images/image.jade":226,"./polls/poll":227,"./polls/poll.jade":227,"./search/nothing_found":228,"./search/nothing_found.jade":228,"./search/options":229,"./search/options.jade":229,"./user_rates/button":230,"./user_rates/button.jade":230,"./user_rates/extended":231,"./user_rates/extended.jade":231,"./user_rates/score":232,"./user_rates/score.jade":232};function i(e){return n(o(e))}function o(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=503},function(e,t){},function(e,t,n){var r={"./ads/mytarget":249,"./ads/mytarget.coffee":249,"./ads/view":85,"./ads/view.coffee":85,"./ads/yandex":251,"./ads/yandex.coffee":251,"./animes/catalog_filters":86,"./animes/catalog_filters.coffee":86,"./animes/cosplay":127,"./animes/cosplay.js":127,"./animes/menu":87,"./animes/menu.js":87,"./animes/paginated_catalog":128,"./animes/paginated_catalog.js":128,"./animes/watch_online_button":252,"./animes/watch_online_button.coffee":252,"./application/date_picker":129,"./application/date_picker.coffee":129,"./application/favorite_star":65,"./application/favorite_star.js":65,"./application/shiki_editable":83,"./application/shiki_editable.coffee":83,"./application/shiki_editor":33,"./application/shiki_editor.coffee":33,"./application/shiki_gallery":63,"./application/shiki_gallery.js":63,"./application/shiki_html5_video":81,"./application/shiki_html5_video.js":81,"./application/shiki_modal":89,"./application/shiki_modal.js":89,"./application/shiki_view":44,"./application/shiki_view.coffee":44,"./application/view":3,"./application/view.coffee":3,"./comments/ban_form":62,"./comments/ban_form.js":62,"./contests/match":130,"./contests/match.js":130,"./contests/round":131,"./contests/round.js":131,"./images/imageboard_gallery":67,"./images/imageboard_gallery.js":67,"./images/preloaded_gallery":68,"./images/preloaded_gallery.js":68,"./polls/view":253,"./polls/view.coffee":253,"./search/autocomplete_engine":132,"./search/autocomplete_engine.js":132,"./search/collection":91,"./search/collection.js":91,"./search/global":133,"./search/global.js":133,"./search/index_engine":90,"./search/index_engine.js":90,"./styles/body_background":134,"./styles/body_background.js":134,"./styles/edit":92,"./styles/edit.js":92,"./styles/page_background_color":136,"./styles/page_background_color.js":136,"./styles/predefined_checkbox":135,"./styles/predefined_checkbox.js":135,"./wall/cluster":255,"./wall/cluster.coffee":255,"./wall/gallery":256,"./wall/gallery.coffee":256,"./wall/image":137,"./wall/image.coffee":137,"./wall/video":257,"./wall/video.coffee":257};function i(e){return n(o(e))}function o(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=505},,,,function(e,t,n){var r={"./p-age_restricted":258,"./p-age_restricted.coffee":258,"./p-anime_video_authors":259,"./p-anime_video_authors.coffee":259,"./p-animes":260,"./p-animes.coffee":260,"./p-animes/art":261,"./p-animes/art.js":261,"./p-animes/cosplay":262,"./p-animes/cosplay.js":262,"./p-animes/coub":263,"./p-animes/coub.js":263,"./p-animes/files.js":264,"./p-animes/files.js.coffee":264,"./p-animes/franchise.js":265,"./p-animes/franchise.js.coffee":265,"./p-animes/screenshots":266,"./p-animes/screenshots.js":266,"./p-animes/show.js":267,"./p-animes/show.js.coffee":267,"./p-animes_collection-index":268,"./p-animes_collection-index.js":268,"./p-characters":269,"./p-characters.js":269,"./p-club_pages/form":270,"./p-club_pages/form.coffee":270,"./p-club_topics":271,"./p-club_topics.coffee":271,"./p-clubs/_menu":272,"./p-clubs/_menu.coffee":272,"./p-clubs/broadcast":273,"./p-clubs/broadcast.coffee":273,"./p-clubs/edit":274,"./p-clubs/edit.coffee":274,"./p-clubs/images":275,"./p-clubs/images.js":275,"./p-clubs/new":276,"./p-clubs/new.js":276,"./p-clubs/show":277,"./p-clubs/show.js":277,"./p-collections/_form":278,"./p-collections/_form.coffee":278,"./p-comments":279,"./p-comments.js":279,"./p-contests.js":280,"./p-contests.js.coffee":280,"./p-contests/_form":281,"./p-contests/_form.js":281,"./p-contests/_proposing":282,"./p-contests/_proposing.js":282,"./p-contests/grid.js":283,"./p-contests/grid.js.coffee":283,"./p-contests/show":284,"./p-contests/show.js":284,"./p-dashboards":285,"./p-dashboards.js":285,"./p-db_entries/edit_field":286,"./p-db_entries/edit_field.coffee":286,"./p-dialogs":287,"./p-dialogs.js":287,"./p-list_imports":288,"./p-list_imports.js":288,"./p-messages.js":289,"./p-messages.js.coffee":289,"./p-moderations":290,"./p-moderations.js":290,"./p-oauth_applications":291,"./p-oauth_applications.js":291,"./p-pages/about":292,"./p-pages/about.coffee":292,"./p-pages/development":293,"./p-pages/development.coffee":293,"./p-pages/oauth":294,"./p-pages/oauth.coffee":294,"./p-people":295,"./p-people.js":295,"./p-polls":296,"./p-polls.coffee":296,"./p-profiles/comments":297,"./p-profiles/comments.js":297,"./p-profiles/edit":298,"./p-profiles/edit.coffee":298,"./p-profiles/moderation":299,"./p-profiles/moderation.js":299,"./p-profiles/show":300,"./p-profiles/show.coffee":300,"./p-profiles/videos.js":301,"./p-profiles/videos.js.coffee":301,"./p-recommendations-index":302,"./p-recommendations-index.js":302,"./p-reviews/_form.js":303,"./p-reviews/_form.js.coffee":303,"./p-statistics":304,"./p-statistics.coffee":304,"./p-tests":305,"./p-tests.js":305,"./p-tests/achievements_notification":306,"./p-tests/achievements_notification.js":306,"./p-tests/show":307,"./p-tests/show.coffee":307,"./p-tests/vue":308,"./p-tests/vue.coffee":308,"./p-topics":93,"./p-topics/":93,"./p-topics/_form":309,"./p-topics/_form.coffee":309,"./p-topics/_news_form":310,"./p-topics/_news_form.coffee":310,"./p-topics/index":93,"./p-topics/index.js":93,"./p-topics/show":311,"./p-topics/show.js":311,"./p-translations.js":312,"./p-translations.js.coffee":312,"./p-user_rates":94,"./p-user_rates/":94,"./p-user_rates/index":94,"./p-user_rates/index.js":94,"./p-userlist_comparer":313,"./p-userlist_comparer.js":313,"./p-users/similar":314,"./p-users/similar.js":314};function i(e){return n(o(e))}function o(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=509},function(e,t,n){var r={"./p-anime_videos":95,"./p-anime_videos/":95,"./p-anime_videos/form":315,"./p-anime_videos/form.js":315,"./p-anime_videos/index":95,"./p-anime_videos/index.js":95};function i(e){return n(o(e))}function o(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=510},function(e,t,n){var r={"./click_loader":316,"./click_loader.coffee":316,"./collapse":317,"./collapse.coffee":317,"./feedback":318,"./feedback.coffee":318,"./lang_trigger":319,"./lang_trigger.coffee":319,"./menu-toggler":320,"./menu-toggler.coffee":320,"./my_target_ad":321,"./my_target_ad.js":321,"./packery":322,"./packery.js":322,"./postloader":323,"./postloader.js":323,"./red_alert":324,"./red_alert.js":324,"./to_top":325,"./to_top.js":325,"./top_menu":326,"./top_menu.js":326,"./user-defined":327,"./user-defined.coffee":327};function i(e){return n(o(e))}function o(e){var t=r[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id=511},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=["id","url","is_moderator","is_day_registered","is_week_registered","is_ignore_copyright","is_comments_auto_collapsed","is_comments_auto_loaded"],o=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=t,this.isSignedIn=!!this.data.id,i.forEach(function(e){return n[e.camelize(!1)]=n.data[e]})}return r(e,[{key:"isTopicIgnored",value:function(e){return-1!==this.data.ignored_topics.indexOf(e)}},{key:"isUserIgnored",value:function(e){return-1!==this.data.ignored_users.indexOf(e)}},{key:"ignoreTopic",value:function(e){return this.data.ignored_topics.push(parseInt(e))}},{key:"unignoreTopic",value:function(e){return this.data.ignored_topics.remove(parseInt(e))}}]),e}()},function(e,t,n){"use strict";var r=n(514),i=n.n(r),o=function(e,t){return function(){return e.apply(t,arguments)}};n(531),t.a=function(){var e,t;function n(){var n;this._apply=o(this._apply,this),this.client=null,this.subscriptions={},this._apply(),$(document).on(t.join(" "),this._apply),idle({onIdle:(n=this,function(){if(n.client)return console.log("faye disconnect on idle"),n._disconnect()}),onActive:function(e){return function(){if(!e.client)return console.log("faye connect on active"),e._connect(),e._apply()}}(this),idle:e}).start()}return t=["turbolinks:load","ajax:success","postloader:success"],e=6e5,n.prototype.id=function(){var e,t;return null!=(e=this.client)&&null!=(t=e._dispatcher)?t.clientId:void 0},n.prototype._apply=function(){var e,t;return(e=$(".b-forum")).length||(e=$(".b-topic")),this.client||!e.length&&!window.FAYE_CHANNEL||this._connect(),t={},window.FAYE_CHANNEL&&(t[window.FAYE_CHANNEL]=$(document.body)),e.each(function(e,n){var r;if(!1!==(r=$(n).data("faye"))&&Object.isEmpty(r)&&console.warn("no faye channels found for",n),r)return r.forEach(function(e){return t["/"+e]=$(n)})}),this._unsubscribe(t),this._update(t),this._subscribe(t)},n.prototype._connect=function(){if("development"===ENV?":9292":"","development"===ENV?location.hostname:"faye."+location.hostname,this.client=new i.a.Client(window.FAYE_URL,{timeout:300,retry:5}),$.cookie("faye-disable-websocket"))return this.client.disable("websocket")},n.prototype._disconnect=function(){return this.client.disconnect(),this.client=null,this.subscriptions={}},n.prototype._unsubscribe=function(e){var t,n;return t=Object.keys(e),Object.keys(this.subscriptions).subtract(t).forEach((n=this,function(e){return n.client.unsubscribe(e),delete n.subscriptions[e],console.log("faye unsubscribed "+e)}))},n.prototype._update=function(e){return Object.keys(e).intersect(Object.keys(this.subscriptions)).forEach((t=this,function(n){return t.subscriptions[n].node=e[n]}));var t},n.prototype._subscribe=function(e){return Object.keys(e).subtract(Object.keys(this.subscriptions)).forEach((t=this,function(n){var r;return r=t.client.subscribe(n,function(e){if(console.log(["faye:received",n,e]),e.publisher_faye_id!==t.id())return t.subscriptions[n].node.trigger("faye:"+e.event,e)}),t.subscriptions[n]={node:e[n],channel:r},console.log("faye subscribed "+n)}));var t},n}()},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(2),i=n.n(r),o=n(24),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var s=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$container=null,this.currentCounter=0,this.maxTop=48,this.blockTop=0,$(document).on("turbolinks:before-cache",function(){return t._cleanup()}),$(document).on("appear",function(e,n,r){return t._appear(e,n,r)}),$(document).on("faye:added",function(){return t._incrementCounter()}),$(document).on("turbolinks:load faye:loaded ajax:success postloader:success",function(){return t._refresh()}),$(document).on("disappear",function(){return t._decrementCounter()}),$(document).on("reappear",function(){return t._incrementCounter()}),this._refresh(),$(window).scroll(function(){t.$container&&!t.isStickyMenu&&(t.scroll=$(window).scrollTop(),(t.scroll<=t.maxTop||t.scroll>t.maxTop&&0!==t.blockTop)&&t._move())})}return a(e,[{key:"_$container",value:function(){return this.$container||(this.$container=$(this._render()).appendTo(document.body).on("click",function(){var e=$("div.b-appear_marker.active, .faye-loader").first();$.scrollTo(e)}),this.scroll=$(window).scrollTop()),this.$container}},{key:"_render",value:function(){return o.default["comments/notifier"]()}},{key:"_cleanup",value:function(){this.$container&&(this.$container.remove(),this.$container=null)}},{key:"_refresh",value:function(){var e,t=(e=regeneratorRuntime.mark(function e(){var t,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i()();case 2:this.scroll=$(window).scrollTop(),this.isStickyMenu="sticky"===$(".l-top_menu-v2").css("position"),t=$("div.b-appear_marker.active"),n=$(".faye-loader"),r=t.length,n.each(function(){r+=$(this).data("ids").length}),this._update(r);case 9:case"end":return e.stop()}},e,this)}),function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}("next")})});return function(){return t.apply(this,arguments)}}()},{key:"_update",value:function(e){this.currentCounter=e,e>0?this._$container().show().html(this.currentCounter):this.$container&&this._$container().hide()}},{key:"_appear",value:function(e,t,n){var r=t.filter("div.b-appear_marker.active, .faye-loader").not(function(){return $(this).data("disabled")});this._update(this.currentCounter-r.length)}},{key:"_decrementCounter",value:function(){this._update(this.currentCounter-1)}},{key:"_incrementCounter",value:function(){this._update(this.currentCounter+1)}},{key:"_move",value:function(){this.blockTop=[0,this.maxTop-this.scroll].max(),this._$container().css({top:this.blockTop})}}]),e}()},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(24),i=n(2),o=n.n(i),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function s(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,n){return function r(i,o){try{var a=t[i](o),s=a.value}catch(e){return void n(e)}if(!a.done)return Promise.resolve(s).then(function(e){r("next",e)},function(e){r("throw",e)});e(s)}("next")})}}var c=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.$container=null,this.achievementsToNotify=[],$(document).on("faye:achievements",function(e,n){return t.notify(n.achievements)})}return a(e,[{key:"notify",value:function(e){var t,n=this;e.length>7||e.forEach((t=s(regeneratorRuntime.mark(function e(t,r){var i,a;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r>0)){e.next=3;break}return e.next=3,o()(750*r);case 3:return i=null,a=$(n._render(t)).addClass("appearing").appendTo(n._$container()).on("click",function(){var e=s(regeneratorRuntime.mark(function e(t){var r=t.target;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("A"!==r.tagName){e.next=2;break}return e.abrupt("return");case 2:if(!a.hasClass("removing")){e.next=4;break}return e.abrupt("return");case 4:return a.addClass("removing"),e.next=7,o()(1e3);case 7:i&&a.remove();case 8:case"end":return e.stop()}},e,n)}));return function(t){return e.apply(this,arguments)}}()).on("mouseover",function(){i&&(clearTimeout(i),a.removeClass("removing"),i=null)}).on("mouseleave",function(){i=setTimeout(function(){return a.click()},5e3)}),e.next=7,o()();case 7:a.removeClass("appearing"),i=setTimeout(function(){return a.click()},3e4);case 9:case"end":return e.stop()}},e,n)})),function(e,n){return t.apply(this,arguments)}))}},{key:"_$container",value:function(){return this.$container||(this.$container=$('<div class="b-achievements_notifier"></div>'),$(document.body).append(this.$container)),this.$container}},{key:"_render",value:function(e,t){return r.default["achievements/notifier"]({achievement:e,event:t})}}]),e}()},function(e,t){window.using=function(e){var t=window;return e.split(".").forEach(function(e){return t[e]||(t[e]={}),t=t[e]})}},function(e,t){window.p=function(e){var t=parseInt(e,10),n=t%10===1&&t%100!==11?0:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?1:2;return n=0===t?0:n,arguments.length<=n+1?void 0:arguments[n+1]}},function(e,t,n){(function(e){e.translations||(e.translations={}),e.translations.ru=e.extend(e.translations.ru||{},{actions:{accept:"\u041f\u0440\u0438\u043d\u044f\u0442\u044c",actions:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044f",add:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c",apply:"\u041f\u0440\u0438\u043d\u044f\u0442\u044c",cancel:"\u041e\u0442\u043c\u0435\u043d\u0430",cancel_delete:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435",confirm:"\u042d\u0442\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u043d\u0435\u043e\u0431\u0440\u0430\u0442\u0438\u043c\u043e. \u0422\u043e\u0447\u043d\u043e?",confirm_delete:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435",create:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",delete:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c",delete_all:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u0441\u0451",edit:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",ignore:"\u0418\u0433\u043d\u043e\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c",markers:{offtopic:{add:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0435\u0442\u043a\u0443 \u043e\u0444\u0444\u0442\u043e\u043f\u0438\u043a\u0430",confirm_add:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0435\u0442\u043a\u0443 \u043e\u0444\u0444\u0442\u043e\u043f\u0438\u043a\u0430?",confirm_remove:"\u0421\u043d\u044f\u0442\u044c \u043c\u0435\u0442\u043a\u0443 \u043e\u0444\u0444\u0442\u043e\u043f\u0438\u043a\u0430?",remove:"\u0421\u043d\u044f\u0442\u044c \u043c\u0435\u0442\u043a\u0443 \u043e\u0444\u0444\u0442\u043e\u043f\u0438\u043a\u0430"},summary:{add:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0435\u0442\u043a\u0443 \u043e\u0442\u0437\u044b\u0432\u0430",confirm_add:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043c\u0435\u0442\u043a\u0443 \u043e\u0442\u0437\u044b\u0432\u0430?",confirm_remove:"\u0421\u043d\u044f\u0442\u044c \u043c\u0435\u0442\u043a\u0443 \u043e\u0442\u0437\u044b\u0432\u0430?",remove:"\u0421\u043d\u044f\u0442\u044c \u043c\u0435\u0442\u043a\u0443 \u043e\u0442\u0437\u044b\u0432\u0430"}},moderate:"\u041d\u0430 \u043c\u043e\u0434\u0435\u0440\u0430\u0446\u0438\u044e",moderation:{abuse:"\u041d\u0430\u0440\u0443\u0448\u0435\u043d\u0438\u0435 \u043f\u0440\u0430\u0432\u0438\u043b",ban:"\u0417\u0430\u0431\u0430\u043d\u0438\u0442\u044c",explain:{abuse:"\u0423\u0442\u043e\u0447\u043d\u0438\u0442\u0435, \u0447\u0442\u043e \u0437\u0430 \u043d\u0430\u0440\u0443\u0448\u0435\u043d\u0438\u0435 (\u0437\u0430\u043f\u043e\u043b\u043d\u044f\u0442\u044c \u043d\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)",spoiler:"\u0423\u0442\u043e\u0447\u043d\u0438\u0442\u0435, \u0447\u0442\u043e \u0438\u043c\u0435\u043d\u043d\u043e \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0441\u043f\u043e\u0439\u043b\u0435\u0440\u043e\u043c (\u0437\u0430\u043f\u043e\u043b\u043d\u044f\u0442\u044c \u043d\u0435 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e)"},not_offtopic:"\u042d\u0442\u043e \u043d\u0435 \u043e\u0444\u0444\u0442\u043e\u043f\u0438\u043a",not_summary:"\u042d\u0442\u043e \u043d\u0435 \u043e\u0442\u0437\u044b\u0432",offtopic:"\u042d\u0442\u043e \u043e\u0444\u0444\u0442\u043e\u043f\u0438\u043a",spoiler:"\u042d\u0442\u043e \u0441\u043f\u043e\u0439\u043b\u0435\u0440",summary:"\u042d\u0442\u043e \u043e\u0442\u0437\u044b\u0432"},quote:"\u0426\u0438\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",reject:"\u041e\u0442\u043a\u043b\u043e\u043d\u0438\u0442\u044c",reply:"\u041e\u0442\u0432\u0435\u0442\u0438\u0442\u044c",rollback:"\u041e\u0442\u043a\u0430\u0442\u0438\u0442\u044c",start:"\u0417\u0430\u043f\u0443\u0441\u0442\u0438\u0442\u044c",stop:"\u041e\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c",take:"\u0412\u0437\u044f\u0442\u044c",upload:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c",upload_image:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435"},activerecord:{attributes:{anime:{aired_on:"\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430 \u043f\u043e\u043a\u0430\u0437\u0430",cosplay:"\u041a\u043e\u0441\u043f\u043b\u0435\u0439",coub_tags:"\u0422\u0435\u0433\u0438 Coub",description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",description_en:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 (\u0430\u043d\u0433\u043b)",description_en_source:"\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f (\u0430\u043d\u0433\u043b)",description_ru:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",description_ru_source:"\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f",duration:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u044d\u043f\u0438\u0437\u043e\u0434\u0430",episodes:"\u042d\u043f\u0438\u0437\u043e\u0434\u044b",episodes_aired:"\u042d\u043f\u0438\u0437\u043e\u0434\u043e\u0432 \u0432\u044b\u0448\u043b\u043e",external_links:"\u0421\u0441\u044b\u043b\u043a\u0438",franchise:"\u0424\u0440\u0430\u043d\u0448\u0438\u0437\u0430",genre_ids:"\u0416\u0430\u043d\u0440\u044b",genres:"\u0416\u0430\u043d\u0440\u044b",image:"\u041f\u043e\u0441\u0442\u0435\u0440",imageboard_tag:"\u0422\u0435\u0433 \u0438\u043c\u0438\u0434\u0436\u0431\u043e\u0440\u0434",kind:"\u0422\u0438\u043f",license_name_ru:"\u041b\u0438\u0446\u0435\u043d\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u0432 \u0420\u0424 \u043f\u043e\u0434 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435\u043c",name:"\u0410\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",poster:"\u041f\u043e\u0441\u0442\u0435\u0440",rating:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433",released_on:"\u0414\u0430\u0442\u0430 \u043a\u043e\u043d\u0446\u0430 \u043f\u043e\u043a\u0430\u0437\u0430",russian:"\u0420\u0443\u0441\u0441\u043a\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",score:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433",screenshots:"\u041a\u0430\u0434\u0440\u044b",status:"\u0421\u0442\u0430\u0442\u0443\u0441",synonyms:"\u0410\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f",torrents_name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u0430 \u0442\u043e\u0440\u0440\u0435\u043d\u0442\u0430\u0445",videos:"\u0412\u0438\u0434\u0435\u043e"},anime_video:{anime_video_author_id:"\u0410\u0432\u0442\u043e\u0440",author_name:"\u0410\u0432\u0442\u043e\u0440",episode:"\u042d\u043f\u0438\u0437\u043e\u0434",is_first:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u043f\u0435\u0440\u0432\u044b\u043c \u0441\u0440\u0435\u0434\u0438 \u0442\u0430\u043a\u0438\u0445 \u0436\u0435",kind:"\u041f\u0435\u0440\u0435\u0432\u043e\u0434",language:"\u042f\u0437\u044b\u043a \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0430",quality:"\u041a\u0430\u0447\u0435\u0441\u0442\u0432\u043e \u0432\u0438\u0434\u0435\u043e",state:"\u0421\u0442\u0430\u0442\u0443\u0441",url:"Url"},anime_video_author:{is_verified:"\u041f\u0440\u043e\u0432\u0435\u0440\u0435\u043d",name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"},anime_video_report:{kind:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430",message:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043c\u043e\u0434\u0435\u0440\u0430\u0442\u043e\u0440\u0443"},ban:{duration:"\u0421\u0440\u043e\u043a",reason:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430"},character:{cosplay:"\u041a\u043e\u0441\u043f\u043b\u0435\u0439",description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",description_en:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 (\u0430\u043d\u0433\u043b)",description_ru:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",image:"\u041f\u043e\u0441\u0442\u0435\u0440",imageboard_tag:"\u0422\u0435\u0433 \u0438\u043c\u0438\u0434\u0436\u0431\u043e\u0440\u0434",japanese:"\u042f\u043f\u043e\u043d\u0441\u043a\u043e\u0435 \u0438\u043c\u044f",name:"\u0410\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u0435 \u0438\u043c\u044f",poster:"\u041f\u043e\u0441\u0442\u0435\u0440",russian:"\u0420\u0443\u0441\u0441\u043a\u043e\u0435 \u0438\u043c\u044f"},club:{comment_policy:"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f",display_images:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u0440\u0430\u0437\u0434\u0435\u043b \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a",image_upload_policy:"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a",is_censored:"\u0421\u043e\u0434\u0435\u0440\u0436\u0438\u0442 \u043c\u0430\u0442\u0435\u0440\u0438\u0430\u043b\u044b \u0434\u043b\u044f \u0432\u0437\u0440\u043e\u0441\u043b\u044b\u0445 (18+)",join_policy:"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0432\u0441\u0442\u0443\u043f\u043b\u0435\u043d\u0438\u044f",logo:"\u041b\u043e\u0433\u043e\u0442\u0438\u043f",name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",owner:"\u041e\u0441\u043d\u043e\u0432\u0430\u0442\u0435\u043b\u044c",topic_policy:"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e\u0441\u0442\u044c \u0441\u043e\u0437\u0434\u0430\u043d\u0438\u044f \u0442\u043e\u043f\u0438\u043a\u043e\u0432"},club_invite:{dst:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c",dst_id:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c"},club_page:{layout:"\u0420\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435",name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",parent_page_id:"\u0420\u043e\u0434\u0438\u0442\u0435\u043b\u044c\u0441\u043a\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430",text:"\u0422\u0435\u043a\u0441\u0442"},collection:{kind:"\u0422\u0438\u043f",name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",state:"\u0421\u0442\u0430\u0442\u0443\u0441",text:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"},collection_link:{group:"\u0413\u0440\u0443\u043f\u043f\u0430",text:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"},comment:{body:"\u0422\u0435\u043a\u0441\u0442"},contest:{description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",description_en:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 (\u043d\u0430 \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u043c)",description_ru:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",match_duration:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u044f",matches_interval:"\u0427\u0438\u0441\u043b\u043e \u0434\u043d\u0435\u0439 \u043c\u0435\u0436\u0434\u0443 \u044d\u0442\u0430\u043f\u0430\u043c\u0438",matches_per_round:"\u0427\u0438\u0441\u043b\u043e \u0433\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u043d\u0438\u0439 \u044d\u0442\u0430\u043f\u0430",member_type:"\u0422\u0438\u043f \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430",started_on:"\u0414\u0430\u0442\u0430 \u0441\u0442\u0430\u0440\u0442\u0430",strategy_type:"\u0421\u0442\u0440\u0430\u0442\u0435\u0433\u0438\u044f",suggestions_per_user:"\u0427\u0438\u0441\u043b\u043e \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u0432 \u043d\u043e\u043c\u0438\u043d\u0430\u0446\u0438\u0439 \u043e\u0442 \u043e\u0434\u043d\u043e\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",title_en:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 (\u043d\u0430 \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u043c)",title_ru:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",user_vote_key:"\u041a\u043b\u044e\u0447 \u0432 \u0442\u0430\u0431\u043b\u0438\u0446\u0435 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"},"doorkeeper/application":{name:"Name",redirect_uri:"Redirect URI"},external_link:{url:"\u0421\u0441\u044b\u043b\u043a\u0430"},genre:{description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"},list_import:{duplicate_policy:"\u0423\u0436\u0435 \u043d\u0430\u0445\u043e\u0434\u044f\u0449\u0435\u0435\u0441\u044f \u0432 \u0441\u043f\u0438\u0441\u043a\u0435",list:"\u0424\u0430\u0439\u043b \u0441\u043f\u0438\u0441\u043a\u0430",list_type:"\u0422\u0438\u043f \u0441\u043f\u0438\u0441\u043a\u0430",state:"\u0421\u0442\u0430\u0442\u0443\u0441"},manga:{aired_on:"\u0414\u0430\u0442\u0430 \u043d\u0430\u0447\u0430\u043b\u0430 \u0438\u0437\u0434\u0430\u043d\u0438\u044f",chapters:"\u0413\u043b\u0430\u0432\u044b",cosplay:"\u041a\u043e\u0441\u043f\u043b\u0435\u0439",coub_tags:"\u0422\u0435\u0433\u0438 Coub",description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",description_en:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 (\u0430\u043d\u0433\u043b)",description_en_source:"\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f (\u0430\u043d\u0433\u043b)",description_ru:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",description_ru_source:"\u0418\u0441\u0442\u043e\u0447\u043d\u0438\u043a \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f",duration:"\u0414\u043b\u0438\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u044d\u043f\u0438\u0437\u043e\u0434\u0430",episodes:"\u042d\u043f\u0438\u0437\u043e\u0434\u044b",episodes_aired:"\u042d\u043f\u0438\u0437\u043e\u0434\u043e\u0432 \u0432\u044b\u0448\u043b\u043e",external_links:"\u0421\u0441\u044b\u043b\u043a\u0438",franchise:"\u0424\u0440\u0430\u043d\u0448\u0438\u0437\u0430",genre_ids:"\u0416\u0430\u043d\u0440\u044b",genres:"\u0416\u0430\u043d\u0440\u044b",image:"\u041f\u043e\u0441\u0442\u0435\u0440",imageboard_tag:"\u0422\u0435\u0433 \u0438\u043c\u0438\u0434\u0436\u0431\u043e\u0440\u0434",kind:"\u0422\u0438\u043f",license_name_ru:"\u041b\u0438\u0446\u0435\u043d\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u0432 \u0420\u0424 \u043f\u043e\u0434 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435\u043c",name:"\u0410\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",poster:"\u041f\u043e\u0441\u0442\u0435\u0440",rating:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433",released_on:"\u0414\u0430\u0442\u0430 \u0437\u0430\u0432\u0435\u0440\u0448\u0435\u043d\u0438\u044f",russian:"\u0420\u0443\u0441\u0441\u043a\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",score:"\u0420\u0435\u0439\u0442\u0438\u043d\u0433",screenshots:"\u041a\u0430\u0434\u0440\u044b",status:"\u0421\u0442\u0430\u0442\u0443\u0441",synonyms:"\u0410\u043b\u044c\u0442\u0435\u0440\u043d\u0430\u0442\u0438\u0432\u043d\u044b\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f",torrents_name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043d\u0430 \u0442\u043e\u0440\u0440\u0435\u043d\u0442\u0430\u0445",videos:"\u0412\u0438\u0434\u0435\u043e",volumes:"\u0422\u043e\u043c\u0430"},message:{body:"\u0422\u0435\u043a\u0441\u0442"},oauth_application:{description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",description_en:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 (\u043d\u0430 \u0430\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u043c)",description_ru:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",image:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0430",name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",owner:"\u0412\u043b\u0430\u0434\u0435\u043b\u0435\u0446",redirect_uri:"Redirect URI",secret:"Client Secret",uid:"Client ID"},person:{birthday:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",cosplay:"\u041a\u043e\u0441\u043f\u043b\u0435\u0439",description:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",description_en:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 (\u0430\u043d\u0433\u043b)",description_ru:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",image:"\u041f\u043e\u0441\u0442\u0435\u0440",imageboard_tag:"\u0422\u0435\u0433 \u0438\u043c\u0438\u0434\u0436\u0431\u043e\u0440\u0434",japanese:"\u042f\u043f\u043e\u043d\u0441\u043a\u043e\u0435 \u0438\u043c\u044f",name:"\u0410\u043d\u0433\u043b\u0438\u0439\u0441\u043a\u043e\u0435 \u0438\u043c\u044f",poster:"\u041f\u043e\u0441\u0442\u0435\u0440",russian:"\u0420\u0443\u0441\u0441\u043a\u043e\u0435 \u0438\u043c\u044f",website:"\u0421\u0430\u0439\u0442"},poll:{name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",state:"\u0421\u0442\u0430\u0442\u0443\u0441",text:"\u0422\u0435\u043a\u0441\u0442"},ranobe:{"<<":null},review:{animation:"\u0420\u0438\u0441\u043e\u0432\u043a\u0430",characters:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0438",music:"\u0417\u0432\u0443\u043a\u043e\u0432\u043e\u0439 \u0440\u044f\u0434",overall:"\u0418\u0442\u043e\u0433\u043e\u0432\u0430\u044f \u043e\u0446\u0435\u043d\u043a\u0430",storyline:"\u0421\u044e\u0436\u0435\u0442",text:"\u0422\u0435\u043a\u0441\u0442"},style:{css:"CSS",name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435"},topic:{body:"\u0422\u0435\u043a\u0441\u0442",forum_id:"\u0420\u0430\u0437\u0434\u0435\u043b",linked:"\u0421\u0432\u044f\u0437\u0430\u043d\u043d\u043e\u0435",title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",type:"\u0422\u0438\u043f"},user:{avatar:"\u0410\u0432\u0430\u0442\u0430\u0440",birth_on:"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f",current_password:"\u0422\u0435\u043a\u0443\u0449\u0438\u0439 \u043f\u0430\u0440\u043e\u043b\u044c",email:"E-mail",locale:"\u042f\u0437\u044b\u043a \u0438\u043d\u0442\u0435\u0440\u0444\u0435\u0439\u0441\u0430",location:"\u041e\u0442\u043a\u0443\u0434\u0430",name:"\u0420\u0435\u0430\u043b\u044c\u043d\u043e\u0435 \u0438\u043c\u044f",nickname:"\u041b\u043e\u0433\u0438\u043d",notification_settings:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438 \u0443\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0439",password:"\u041f\u0430\u0440\u043e\u043b\u044c",password_confirmation:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u043e\u043b\u044f",sex:"\u041f\u043e\u043b",website:"\u0421\u0430\u0439\u0442"},user_preferences:{about_on_top:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u043d\u0430\u0434 \u0441\u0442\u0430\u0442\u0438\u0441\u0442\u0438\u043a\u043e\u0439",achievements_in_profile:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u0430\u0447\u0438\u0432\u043a\u0438 \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u0435",anime_in_profile:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u0430\u043d\u0438\u043c\u0435 \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u0435",apply_user_styles:"\u041f\u0440\u0438\u043c\u0435\u043d\u044f\u0442\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044c\u0441\u043a\u0438\u0435 \u0441\u0442\u0438\u043b\u0438",body_width:"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u044c\u043d\u0430\u044f \u0448\u0438\u0440\u0438\u043d\u0430 \u0441\u0430\u0439\u0442\u0430",comment_policy:"\u041c\u043e\u0433\u0443\u0442 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043c\u043e\u0439 \u043f\u0440\u043e\u0444\u0438\u043b\u044c",comments_in_profile:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438 \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u0435",favorites_in_profile:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0438\u0437\u0431\u0440\u0430\u043d\u043d\u043e\u0433\u043e \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u0435",is_comments_auto_collapsed:"\u0421\u0432\u043e\u0440\u0430\u0447\u0438\u0432\u0430\u0442\u044c \u0434\u043b\u0438\u043d\u043d\u044b\u0435 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438",is_comments_auto_loaded:"\u0410\u0432\u0442\u043e\u043f\u043e\u0434\u0433\u0440\u0443\u0437\u043a\u0430 \u043d\u043e\u0432\u044b\u0445 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432",list_privacy:"\u041c\u043e\u0433\u0443\u0442 \u0432\u0438\u0434\u0435\u0442\u044c \u043c\u043e\u0439 \u0441\u043f\u0438\u0441\u043e\u043a",manga_in_profile:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u043c\u0430\u043d\u0433\u0443 \u0432 \u043f\u0440\u043e\u0444\u0438\u043b\u0435",postload_in_catalog:"\u041f\u043e\u0434\u0433\u0440\u0443\u0437\u043a\u0430 \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0438\u0445 \u0441\u0442\u0440\u0430\u043d\u0438\u0446 \u043f\u043e \u043c\u0435\u0440\u0435 \u043f\u0440\u043e\u043a\u0440\u0443\u0442\u043a\u0438 \u0442\u0435\u043a\u0443\u0449\u0435\u0439 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b \u0432 \u043a\u0430\u0442\u0430\u043b\u043e\u0433\u0435 \u0430\u043d\u0438\u043c\u0435",russian_genres:"\u0420\u0443\u0441\u0441\u043a\u0438\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f \u0436\u0430\u043d\u0440\u043e\u0432",russian_names:"\u0420\u0443\u0441\u0441\u043a\u0438\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044f \u0430\u043d\u0438\u043c\u0435 \u0438 \u043c\u0430\u043d\u0433\u0438",show_hentai_images:"\u041a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 \u0441 \u0438\u043c\u0438\u0434\u0436\u0431\u043e\u0440\u0434 \u0431\u0435\u0437 \u0446\u0435\u043d\u0437\u0443\u0440\u044b",show_smileys:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u0441\u043c\u0430\u0439\u043b\u0438\u043a\u0438",show_social_buttons:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u043a\u043d\u043e\u043f\u043a\u0438 \u0441\u043e\u0446 \u0441\u0435\u0442\u0435\u0439",volumes_in_manga:"\u041e\u0442\u043e\u0431\u0440\u0430\u0436\u0430\u0442\u044c \u0442\u043e\u043c\u0430 \u0443 \u043c\u0430\u043d\u0433\u0438"},user_rate:{chapters:"\u0413\u043b\u0430\u0432\u044b",episodes:"\u042d\u043f\u0438\u0437\u043e\u0434\u044b",rereads:"\u041a\u043e\u043b-\u0432\u043e \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u044b\u0445 \u0447\u0442\u0435\u043d\u0438\u0439",rewatches:"\u041a\u043e\u043b-\u0432\u043e \u043f\u043e\u0432\u0442\u043e\u0440\u043d\u044b\u0445 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432",score:"\u041e\u0446\u0435\u043d\u043a\u0430",scores:{0:"",1:"\u0425\u0443\u0436\u0435 \u043d\u0435\u043a\u0443\u0434\u0430",10:"\u042d\u043f\u0438\u043a \u0432\u0438\u043d!",2:"\u0423\u0436\u0430\u0441\u043d\u043e",3:"\u041e\u0447\u0435\u043d\u044c \u043f\u043b\u043e\u0445\u043e",4:"\u041f\u043b\u043e\u0445\u043e",5:"\u0411\u043e\u043b\u0435\u0435-\u043c\u0435\u043d\u0435\u0435",6:"\u041d\u043e\u0440\u043c\u0430\u043b\u044c\u043d\u043e",7:"\u0425\u043e\u0440\u043e\u0448\u043e",8:"\u041e\u0442\u043b\u0438\u0447\u043d\u043e",9:"\u0412\u0435\u043b\u0438\u043a\u043e\u043b\u0435\u043f\u043d\u043e"},status:"\u0421\u0442\u0430\u0442\u0443\u0441",statuses:{anime:{completed:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043e",dropped:"\u0411\u0440\u043e\u0448\u0435\u043d\u043e",on_hold:"\u041e\u0442\u043b\u043e\u0436\u0435\u043d\u043e",planned:"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043e",rewatching:"\u041f\u0435\u0440\u0435\u0441\u043c\u0430\u0442\u0440\u0438\u0432\u0430\u044e",watching:"\u0421\u043c\u043e\u0442\u0440\u044e"},manga:{completed:"\u041f\u0440\u043e\u0447\u0438\u0442\u0430\u043d\u043e",dropped:"\u0411\u0440\u043e\u0448\u0435\u043d\u043e",on_hold:"\u041e\u0442\u043b\u043e\u0436\u0435\u043d\u043e",planned:"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043e",rewatching:"\u041f\u0435\u0440\u0435\u0447\u0438\u0442\u044b\u0432\u0430\u044e",watching:"\u0427\u0438\u0442\u0430\u044e"},ranobe:{completed:"\u041f\u0440\u043e\u0447\u0438\u0442\u0430\u043d\u043e",dropped:"\u0411\u0440\u043e\u0448\u0435\u043d\u043e",on_hold:"\u041e\u0442\u043b\u043e\u0436\u0435\u043d\u043e",planned:"\u0417\u0430\u043f\u043b\u0430\u043d\u0438\u0440\u043e\u0432\u0430\u043d\u043e",rewatching:"\u041f\u0435\u0440\u0435\u0447\u0438\u0442\u044b\u0432\u0430\u044e",watching:"\u0427\u0438\u0442\u0430\u044e"}},text:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",volumes:"\u0422\u043e\u043c\u0430"},version:{item_diff:"\u0421\u043f\u0438\u0441\u043e\u043a \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0439",reason:"\u041f\u0440\u0438\u0447\u0438\u043d\u0430 \u043f\u0440\u0430\u0432\u043a\u0438"},video:{hosting:"\u0425\u043e\u0441\u0442\u0438\u043d\u0433",kind:"\u0422\u0438\u043f",name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",url:"Url"}}},frontend:{about:{comments_per_day:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432 \u0437\u0430 \u0434\u0435\u043d\u044c",new_users_per_day:"\u041d\u043e\u0432\u044b\u0445 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0435\u0439 \u0437\u0430 \u0434\u0435\u043d\u044c",unique_visitors:"\u0423\u043d\u0438\u043a\u0430\u043b\u044c\u043d\u044b\u0435 \u043f\u043e\u0441\u0435\u0442\u0438\u0442\u0435\u043b\u0438",views:"\u041f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u044b",visits:"\u041f\u043e\u0441\u0435\u0449\u0435\u043d\u0438\u044f"},achievements:{title:{gained:"\u041e\u0442\u043a\u0440\u044b\u0442\u043e \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u0435",lost:"\u041f\u043e\u0442\u0435\u0440\u044f\u043d\u043e \u0434\u043e\u0441\u0442\u0438\u0436\u0435\u043d\u0438\u0435"}},application:{sure_to_leave_page:"\u0417\u0434\u0435\u0441\u044c \u043d\u0430\u043f\u0438\u0441\u0430\u043d \u0438 \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0451\u043d \u043a\u0430\u043a\u043e\u0439-\u0442\u043e \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439!\n\u0422\u043e\u0447\u043d\u043e \u043f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443?"},blocks:{click_loader:{loading:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."},feedback:{message_sent:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d\u043e"},main_search:{animes:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0430\u043d\u0438\u043c\u0435...",characters:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0430\u043c...",mangakas:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u043c\u0430\u043d\u0433\u0430\u043a\u0430\u043c...",mangas:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u043c\u0430\u043d\u0433\u0435...",people:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0432\u0441\u0435\u043c \u043b\u044e\u0434\u044f\u043c...",producers:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0440\u0435\u0436\u0438\u0441\u0441\u0451\u0440\u0430\u043c...",ranobe:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0440\u0430\u043d\u043e\u0431\u044d...",seyu:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0441\u044d\u0439\u044e...",users:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c..."},tooltip:{loading:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}},collections:{autocomplete:{anime:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0430\u043d\u0438\u043c\u0435",character:"\u0418\u043c\u044f \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0430",manga:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u043c\u0430\u043d\u0433\u0438",person:"\u0418\u043c\u044f \u0447\u0435\u043b\u043e\u0432\u0435\u043a\u0430",ranobe:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0440\u0430\u043d\u043e\u0431\u044d"},disabled_add_group_hint:"\u0414\u043b\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u0441\u043b\u0435\u0434\u0443\u044e\u0449\u0435\u0439 \u0433\u0440\u0443\u043f\u043f\u044b \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u0443\u0441\u0442\u043e\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b",group_name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0433\u0440\u0443\u043f\u043f\u044b",json_warning:"\u041d\u0435 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0443\u0439\u0442\u0435 \u044d\u0442\u043e, \u0435\u0441\u043b\u0438 \u0432\u044b \u043d\u0435 \u0443\u0432\u0435\u0440\u0435\u043d\u044b \u0432 \u0442\u043e\u043c, \u0447\u0442\u043e \u0432\u044b \u0434\u0435\u043b\u0430\u0435\u0442\u0435! \u0412\u0441\u0442\u0430\u0432\u043a\u0430 \u043d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445 \u0441\u043b\u043e\u043c\u0430\u0435\u0442 \u0440\u0430\u0431\u043e\u0442\u0443 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b.",kind:{anime:"\u0410\u043d\u0438\u043c\u0435",character:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u0436\u0438",manga:"\u041c\u0430\u043d\u0433\u0430",person:"\u041b\u044e\u0434\u0438",ranobe:"\u0420\u0430\u043d\u043e\u0431\u044d"}},coub_tags:{name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",nothing_here:"\u041d\u0435\u0442 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0439"},dynamic_elements:{authorized_action:{register_to_complete_action:'\u0414\u043b\u044f \u044d\u0442\u043e\u0433\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f \u0432\u0430\u043c \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u0430 <a href="/users/sign_up">\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f</a> \u043d\u0430 \u0441\u0430\u0439\u0442\u0435.'},check_height:{expand:"\u0440\u0430\u0437\u0432\u0435\u0440\u043d\u0443\u0442\u044c"},comment:{comment_marked_as_offtopic:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043f\u043e\u043c\u0435\u0447\u0435\u043d \u043e\u0444\u0444\u0442\u043e\u043f\u0438\u043a\u043e\u043c",comment_marked_as_summary:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043f\u043e\u043c\u0435\u0447\u0435\u043d \u043e\u0442\u0437\u044b\u0432\u043e\u043c",comment_not_marked_as_offtopic:"\u041c\u0435\u0442\u043a\u0430 \u043e\u0444\u0444\u0442\u043e\u043f\u0438\u043a\u0430 \u0441\u043d\u044f\u0442\u0430",comment_not_marked_as_summary:"\u041c\u0435\u0442\u043a\u0430 \u043e\u0442\u0437\u044b\u0432\u0430 \u0441\u043d\u044f\u0442\u0430",comments_marked_as_offtopic:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0438 \u043f\u043e\u043c\u0435\u0447\u0435\u043d\u044b \u043e\u0444\u0444\u0442\u043e\u043f\u0438\u043a\u043e\u043c",type_label:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439",your_request_will_be_considered:"\u0412\u0430\u0448 \u0437\u0430\u043f\u0440\u043e\u0441 \u0431\u0443\u0434\u0435\u0442 \u0440\u0430\u0441\u0441\u043c\u043e\u0442\u0440\u0435\u043d. \u0414\u043e\u043c\u043e \u0430\u0440\u0438\u0433\u0430\u0442\u043e."},day_registered_action:{action_will_be_available:'\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0441\u0442\u0430\u043d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e \u0447\u0435\u0440\u0435\u0437 \u0441\u0443\u0442\u043a\u0438 \u043f\u043e\u0441\u043b\u0435 <a href="/users/sign_up">\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438</a>.'},dialog:{type_label:"\u0414\u0438\u0430\u043b\u043e\u0433"},message:{type_label:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"},topic:{comment:{few:"\u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f",many:"\u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432",one:"\u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"},load_comments:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0435\u0449\u0451 %{comment_count} %{of_total_comments} %{comment_word}",new_comment_added:{few:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e %{count} \u043d\u043e\u0432\u044b\u0445 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u044f",many:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e %{count} \u043d\u043e\u0432\u044b\u0445 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432",one:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d %{count} \u043d\u043e\u0432\u044b\u0439 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"},new_message_added:{few:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e %{count} \u043d\u043e\u0432\u044b\u0445 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f",many:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e %{count} \u043d\u043e\u0432\u044b\u0445 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0439",one:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e %{count} \u043d\u043e\u0432\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"},of:"\u0438\u0437",summary:{few:"\u043e\u0442\u0437\u044b\u0432\u0430",many:"\u043e\u0442\u0437\u044b\u0432\u043e\u0432",one:"\u043e\u0442\u0437\u044b\u0432"},type_label:"\u0422\u043e\u043f\u0438\u043a"},week_registered_action:{action_will_be_available:'\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0441\u0442\u0430\u043d\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e \u0447\u0435\u0440\u0435\u0437 \u043d\u0435\u0434\u0435\u043b\u044e \u043f\u043e\u0441\u043b\u0435 <a href="/users/sign_up">\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438</a>.'}},external_links:{nothing_here:"\u041d\u0435\u0442 \u0441\u0441\u044b\u043b\u043e\u043a"},images:{cancel:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",confirm:"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c",delete:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"},lib:{comments_notifier:{number_of_unread_comments:"\u0427\u0438\u0441\u043b\u043e \u043d\u0435\u043f\u0440\u043e\u0447\u0438\u0442\u0430\u043d\u043d\u044b\u0445 \u043a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0435\u0432"},jquery_shiki_file:{browser_not_supported:"\u0412\u0430\u0448 \u0431\u0440\u0430\u0443\u0437\u0435\u0440 \u043d\u0435 \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u0438\u0432\u0430\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0439 \u0444\u0443\u043d\u043a\u0446\u0438\u043e\u043d\u0430\u043b",drop_pictures_here:"\u041f\u0435\u0440\u0435\u0442\u0430\u0441\u043a\u0438\u0432\u0430\u0439\u0442\u0435 \u0441\u044e\u0434\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438",file_type_not_allowed:"\u0424\u0430\u0439\u043b \u043d\u0435 \u044f\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435\u043c",loading_file:"\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0444\u0430\u0439\u043b\u0430 %{filename} (%{filesize} \u041a\u0431)...",please_try_again_later:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443 \u043f\u043e\u0437\u0436\u0435",too_large_file:"\u0424\u0430\u0439\u043b \u0441\u043b\u0438\u0448\u043a\u043e\u043c \u0431\u043e\u043b\u044c\u0448\u043e\u0439: \u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c 4 \u043c\u0435\u0433\u0430\u0431\u0430\u0439\u0442\u0430",too_many_files:"\u0421\u043b\u0438\u0448\u043a\u043e\u043c \u043c\u043d\u043e\u0433\u043e \u0444\u0430\u0439\u043b\u043e\u0432: \u043c\u0430\u043a\u0441\u0438\u043c\u0443\u043c %{count} \u0437\u0430 \u0440\u0430\u0437",wait_till_loaded:"\u0414\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438 \u0444\u0430\u0439\u043b\u043e\u0432"},jquery_shiki_forum:{new_topics_added:{few:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u044b %{count} \u043d\u043e\u0432\u044b\u0445 \u0442\u043e\u043f\u0438\u043a\u0430",many:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u043e %{count} \u043d\u043e\u0432\u044b\u0445 \u0442\u043e\u043f\u0438\u043a\u043e\u0432",one:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d %{count} \u043d\u043e\u0432\u044b\u0439 \u0442\u043e\u043f\u0438\u043a"}},paginated_catalog:{please_try_again_later:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443 \u043f\u043e\u0437\u0436\u0435"},postloader:{loading:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."},rails_ujs_modified:{body:"\u0422\u0435\u043a\u0441\u0442",created_at:"",email:"E-mail",forbidden:"",invalid_login_or_password:"\u041d\u0435\u0432\u0435\u0440\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c",nickname:"\u041b\u043e\u0433\u0438\u043d",password:"\u041f\u0430\u0440\u043e\u043b\u044c",please_try_again_later:"\u041f\u043e\u0436\u0430\u043b\u0443\u0439\u0441\u0442\u0430, \u043f\u043e\u0432\u0442\u043e\u0440\u0438\u0442\u0435 \u043f\u043e\u043f\u044b\u0442\u043a\u0443 \u043f\u043e\u0437\u0436\u0435",subject:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",you_are_not_authorized:"\u0423 \u0432\u0430\u0441 \u043d\u0435\u0442 \u043f\u0440\u0430\u0432 \u0434\u043b\u044f \u0434\u0430\u043d\u043d\u043e\u0433\u043e \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u044f"}},pages:{p_animes:{hentai:"\u0425\u0435\u043d\u0442\u0430\u0439 / \u0420\u043e\u0441\u043a\u043e\u043c\u043d\u0430\u0434\u0437\u043e\u0440",licensed:"\u041b\u0438\u0446\u0435\u043d\u0437\u0438\u0440\u043e\u0432\u0430\u043d\u043e \u0432 \u0420\u0424",no_data:"\u041d\u0435\u0442 \u0434\u0430\u043d\u043d\u044b\u0445",watch_online:"\u0421\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043e\u043d\u043b\u0430\u0439\u043d"},p_contests:{candidate:{few:"%{count} \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u0430",many:"%{count} \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432",one:"%{count} \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a",other:"%{count} \u0443\u0447\u0430\u0441\u0442\u043d\u0438\u043a\u043e\u0432"}},p_profiles:{day:{few:"\u0434\u043d\u044f",many:"\u0434\u043d\u0435\u0439",one:"\u0434\u0435\u043d\u044c"},hour:{few:"\u0447\u0430\u0441\u0430",many:"\u0447\u0430\u0441\u043e\u0432",one:"\u0447\u0430\u0441"},label:{full:"%{hours} %{hour_word} \u0441 %{from_date} \u043f\u043e %{to_date} (%{days} %{day_word})",short:"%{hours} %{hour_word} %{date}"},page_is_reloading:"\u041f\u0435\u0440\u0435\u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b..."},p_recommendations_index:{dont_recommend_franchise:"\u0411\u043e\u043b\u044c\u0448\u0435 \u043d\u0435 \u0440\u0435\u043a\u043e\u043c\u0435\u043d\u0434\u043e\u0432\u0430\u0442\u044c \u044d\u0442\u0443 \u0444\u0440\u0430\u043d\u0448\u0438\u0437\u0443"},p_user_rates:{changes_saved:"\u0418\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u044b",error_occurred:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430",insufficient_data:"\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0434\u0430\u043d\u043d\u044b\u0445",reread:{few:"\u043f\u043e\u0432\u0442\u043e\u0440\u043d\u044b\u0445 \u043f\u0440\u043e\u0447\u0442\u0435\u043d\u0438\u044f",many:"\u043f\u043e\u0432\u0442\u043e\u0440\u043d\u044b\u0445 \u043f\u0440\u043e\u0447\u0442\u0435\u043d\u0438\u0439",one:"\u043f\u043e\u0432\u0442\u043e\u0440\u043d\u043e\u0435 \u043f\u0440\u043e\u0447\u0442\u0435\u043d\u0438\u0435"},rewatch:{few:"\u043f\u043e\u0432\u0442\u043e\u0440\u043d\u044b\u0445 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u0430",many:"\u043f\u043e\u0432\u0442\u043e\u0440\u043d\u044b\u0445 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440\u043e\u0432",one:"\u043f\u043e\u0432\u0442\u043e\u0440\u043d\u044b\u0439 \u043f\u0440\u043e\u0441\u043c\u043e\u0442\u0440"}}},poll_variants:{label:"\u0422\u0435\u043a\u0441\u0442",nothing_here:"\u041d\u0435\u0442 \u0432\u0430\u0440\u0438\u0430\u043d\u0442\u043e\u0432"},polls:{abstain:"\u0412\u043e\u0437\u0434\u0435\u0440\u0436\u0430\u0442\u044c\u0441\u044f",vote:"\u0413\u043e\u043b\u043e\u0441\u043e\u0432\u0430\u0442\u044c"},search:{mode:{anime:"\u0410\u043d\u0438\u043c\u0435",character:"\u041f\u0435\u0440\u0441\u043e\u043d\u0430\u0436",index:"\u0422\u0435\u043a\u0443\u0449\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430",manga:"\u041c\u0430\u043d\u0433\u0430",person:"\u0427\u0435\u043b\u043e\u0432\u0435\u043a",ranobe:"\u0420\u0430\u043d\u043e\u0431\u044d"},nothing_found:"\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e."},shiki_editor:{file:"\u0444\u0430\u0439\u043b",not_available:"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u0431\u0443\u0434\u0435\u0442 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u043e \u0447\u0435\u0440\u0435\u0437 \u0441\u0443\u0442\u043a\u0438 \u043f\u043e\u0441\u043b\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438",spoiler:"\u0441\u043f\u043e\u0439\u043b\u0435\u0440",text_cant_be_blank:"\u0422\u0435\u043a\u0441\u0442 \u043d\u0435 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c"},statistics:{anime_in_year:"%{count} %{type} \u0437\u0430 %{year} \u0433\u043e\u0434",anime_of_type:"<b>%{count}</b> \u0430\u043d\u0438\u043c\u0435 \u0442\u0438\u043f\u0430 <b>%{type}</b>",anime_with_rating_in_year:"%{count} \u0430\u043d\u0438\u043c\u0435 \u0443 %{rating} \u0437\u0430 %{year} \u0433\u043e\u0434",anime_with_score:"<b>%{count}</b> \u0430\u043d\u0438\u043c\u0435 \u0441 \u043e\u0446\u0435\u043d\u043a\u043e\u0439 <b>%{score}</b>",genres_share:"%{percent}% \u0443 %{genre} \u0437\u0430 %{year} \u0433\u043e\u0434",number:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e",ratings_share:"%{percent}% \u0443 %{rating} \u0437\u0430 %{year} \u0433\u043e\u0434",share:"\u041f\u0440\u043e\u0446\u0435\u043d\u0442"},synonyms:{name:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",nothing_here:"\u041d\u0435\u0442 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0439"},user_rates:{button:{add_to_list:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0441\u043f\u0438\u0441\u043e\u043a",remove_from_my_list:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430"}}}}),e.translations.en=e.extend(e.translations.en||{},{actions:{accept:"Accept",actions:"Actions",add:"Add",apply:"Apply",cancel:"Cancel",cancel_delete:"Cancel deletion",confirm:"This action is irreversible. Are you sure?",confirm_delete:"Confirm deletion",create:"Create",delete:"Delete",delete_all:"Delete All",edit:"Edit",ignore:"Ignore",markers:{offtopic:{add:"Add offtopic mark",confirm_add:"Add offtopic mark?",confirm_remove:"Remove offtopic mark?",remove:"Remove offtopic mark"},summary:{add:"Add summary mark",confirm_add:"Add summary mark?",confirm_remove:"Remove summary mark?",remove:"Remove summary mark"}},moderate:"Moderate",moderation:{abuse:"Abuse",ban:"Ban",explain:{abuse:"Please describe (optional)",spoiler:"Please describe (optional)"},not_offtopic:"It's not offtopic",not_summary:"It's not summary",offtopic:"It's offtopic",spoiler:"It's spoiler",summary:"It's summary"},quote:"Quote",reject:"Reject",reply:"Reply",rollback:"Rollback",save_apply:"Save & Apply",start:"Start",stop:"Stop",take:"Take",upload:"Upload",upload_image:"Upload image"},activerecord:{attributes:{anime:{aired_on:"Start date",cosplay:"Cosplay",coub_tags:"Coub tags",description:"Synopsis",description_en:"Synopsis",description_en_source:"Synopsis source",description_ru:"Synopsis (rus)",description_ru_source:"Synopsis source (rus)",duration:"Episode duration",episodes:"Episodes",episodes_aired:"Episodes aired",external_links:"Links",franchise:"Franchise",genre_ids:"Genres",genres:"Genres",image:"Poster",imageboard_tag:"Imageboards tag",kind:"Type",license_name_ru:"Licensed in Russia name",name:"Name",poster:"Poster",rating:"Rating",released_on:"End date",russian:"Russian name",score:"Score",screenshots:"Screenshots",status:"Status",synonyms:"Alternative names",torrents_name:"Torrents name",videos:"Videos"},anime_video:{anime_video_author_id:"Author",author_name:"Author",episode:"Episode",kind:"Video Type",language:"Video dub/sub language",quality:"Video quality",state:"Status",url:"Video Link"},anime_video_author:{is_verified:"Verified",name:"Name"},anime_video_report:{kind:"Reason",message:"Message to moderators"},ban:{duration:"Duration",reason:"Reason"},character:{cosplay:"Cosplay",description:"Description",description_en:"Description",description_ru:"Description (rus)",image:"Poster",imageboard_tag:"Imageboards tag",japanese:"Japanese name",name:"Name",poster:"Poster",russian:"Russian name"},club:{comment_policy:"Comments Policy",display_images:"Show Images",image_upload_policy:"Image Upload Policy",is_censored:"Contains adult content (18+)",join_policy:"Terms of Joining",logo:"Logo",name:"Name",owner:"Founder",topic_policy:"Topics Policy"},club_invite:{dst:"User",dst_id:"User"},club_page:{layout:"Layout",name:"Name",parent_page_id:"Parent page",text:"Text"},collection:{kind:"Type",name:"Name",state:"State",text:"Description"},collection_link:{group:"Group",text:"Comment"},comment:{body:"Text"},contest:{description:"Synopsis",description_en:"Description",description_ru:"Description (rus)",match_duration:"Match duration",matches_interval:"Round interval",matches_per_round:"Matches per round",member_type:"Member type",started_on:"Started on",strategy_type:"Strategy",suggestions_per_user:"Number of candidates from one user",title_en:"Title",title_ru:"Title (in russian)",user_vote_key:"User vote key"},"doorkeeper/application":{name:"Name",redirect_uri:"Redirect URI"},external_link:{url:"Url"},genre:{description:"Description"},list_import:{duplicate_policy:"Existing Records",list:"List File",list_type:"List Type",state:"State"},manga:{aired_on:"Start date",chapters:"Chapters",cosplay:"Cosplay",coub_tags:"Coub tags",description:"Synopsis",description_en:"Synopsis",description_en_source:"Synopsis source",description_ru:"Synopsis (rus)",description_ru_source:"Synopsis source (rus)",duration:"Episode duration",episodes:"Episodes",episodes_aired:"Episodes aired",external_links:"Links",franchise:"Franchise",genre_ids:"Genres",genres:"Genres",image:"Poster",imageboard_tag:"Imageboards tag",kind:"Type",license_name_ru:"Licensed in Russia name",name:"Name",poster:"Poster",rating:"Rating",released_on:"End date",russian:"Russian name",score:"Score",screenshots:"Screenshots",status:"Status",synonyms:"Alternative names",torrents_name:"Torrents name",videos:"Videos",volumes:"Volumes"},message:{body:"Text"},oauth_application:{description:"Description",description_en:"Description",description_ru:"Description (rus)",image:"Image",name:"Name",owner:"Owner",redirect_uri:"Redirect URI",secret:"Client Secret",uid:"Client ID"},person:{birthday:"Birthday",cosplay:"Cosplay",description:"Description",description_en:"Description",description_ru:"Description (rus)",image:"Poster",imageboard_tag:"Imageboards tag",japanese:"Japanese name",name:"Name",poster:"Poster",russian:"Russian name",website:"Website"},poll:{name:"Name",state:"State",text:"Text"},ranobe:{"<<":null},review:{animation:"Art",characters:"Characters",music:"Sound",overall:"Overall",storyline:"Story",text:"Text"},style:{css:"CSS",name:"Name"},topic:{body:"Text",forum_id:"Section",linked:"Linked",title:"Title",type:"Type"},user:{avatar:"Avatar",birth_on:"Birthday",current_password:"Current Password",email:"E-mail",locale:"Language",location:"Location",name:"Real Name",nickname:"Nickname",notification_settings:"Notification Settings",password:"Password",password_confirmation:"Password Confirmation",sex:"Gender",website:"Website"},user_preferences:{about_on_top:"Show Above Stats",achievements_in_profile:"Show Achievements in Profile",anime_in_profile:"Show Anime List in Profile",apply_user_styles:"Apply user styles",body_width:"Maximum Site Width",comment_policy:"Can Comment My Profile",comments_in_profile:"Show Comments in Profile",favorites_in_profile:"Number of Favorites in Profile",is_comments_auto_collapsed:"Collapse Long Comments",is_comments_auto_loaded:"Load New Comments Automatically",list_privacy:"Can See My Lists",manga_in_profile:"Show Manga List in Profile",postload_in_catalog:"Autoload Pages in Anime Catalog",show_hentai_images:"Allow Nudity",show_smileys:"Show Smileys",show_social_buttons:"Show Social Media Icons",volumes_in_manga:"Show Manga Volumes"},user_rate:{chapters:"Chapters",episodes:"Episodes",rereads:"Number of Rereads",rewatches:"Number of Rewatches",score:"Score",scores:{0:"",1:"Worst Ever",10:"Masterpiece!",2:"Terrible",3:"Very Bad",4:"Bad",5:"So-so",6:"Fine",7:"Good",8:"Excellent",9:"Great"},status:"Status",statuses:{anime:{completed:"Completed",dropped:"Dropped",on_hold:"On Hold",planned:"Planned to Watch",rewatching:"Rewatching",watching:"Watching"},manga:{completed:"Completed",dropped:"Dropped",on_hold:"On Hold",planned:"Planned to Read",rewatching:"Rereading",watching:"Reading"},ranobe:{completed:"Completed",dropped:"Dropped",on_hold:"On Hold",planned:"Planned to Read",rewatching:"Rereading",watching:"Reading"}},text:"Comments",volumes:"Volumes"},version:{changes:"Changes list",reason:"Change reason"},video:{hosting:"Hosting",kind:"Type",name:"Name",url:"Url"}}},frontend:{about:{comments_per_day:"Comments per day",new_users_per_day:"New users per day",unique_visitors:"Unique visitors",views:"Views",visits:"Visits"},achievements:{title:{gained:"Achievement Gained",lost:"Achievement Lost"}},application:{sure_to_leave_page:"You have not saved your comment!\nAre you sure you want to leave this page?"},blocks:{click_loader:{loading:"Loading..."},feedback:{message_sent:"Message sent"},main_search:{animes:"Anime search...",characters:"Character search...",mangakas:"Mangaka search...",mangas:"Manga search...",people:"Person search...",producers:"Producer search...",ranobe:"Ranobe search...",seyu:"Seyu search...",users:"User search..."},tooltip:{loading:"Loading..."}},collections:{autocomplete:{anime:"Anime title",character:"Character name",manga:"Manga title",person:"Person name",ranobe:"Light Novel title"},disabled_add_group_hint:"To add a new group, fill in the blank group name",group_name:"Group name",json_warning:"Do not edit this if you are not sure what you are doing! Inserting invalid data will break the page.",kind:{anime:"Anime",character:"Characters",manga:"Manga",person:"People",ranobe:"Light Novel"}},coub_tags:{name:"Name",nothing_here:"No names"},dynamic_elements:{authorized_action:{register_to_complete_action:'Please <a href="/users/sign_up">register</a> to complete this action.'},check_height:{expand:"expand"},comment:{comment_marked_as_offtopic:"Comment has been marked as offtopic",comment_marked_as_summary:"Comment has been marked as summary",comment_not_marked_as_offtopic:"Comment is no longer marked as offtopic",comment_not_marked_as_summary:"Comment is no longer marked as summary",comments_marked_as_offtopic:"Comments have been marked as offtopic",type_label:"Comment",your_request_will_be_considered:"Your request will be considered. Domo arigato."},day_registered_action:{action_will_be_available:'Action will be available one day after <a href="/users/sign_up">registration</a>.'},dialog:{type_label:"Dialog"},message:{type_label:"Message"},topic:{comment:{few:"comments",many:"comments",one:"comment"},load_comments:"Load next %{comment_count} %{of_total_comments} %{comment_word}",new_comment_added:{few:"%{count} new comments added",many:"%{count} new comments added",one:"%{count} new comment added"},new_message_added:{few:"%{count} new messages added",many:"%{count} new messages added",one:"%{count} new message added"},of:"of",summary:{few:"summaries",many:"summaries",one:"summary"},type_label:"Topic"},week_registered_action:{action_will_be_available:'Action will be available one day after <a href="/users/sign_up">registration</a>.'}},external_links:{nothing_here:"No external links"},images:{cancel:"Cancel",confirm:"Confirm",delete:"Delete"},lib:{comments_notifier:{number_of_unread_comments:"Number of unread comments"},jquery_shiki_file:{browser_not_supported:"Your browser is not supported",drop_pictures_here:"Drop pictures here",file_type_not_allowed:"The file is not an image",loading_file:"loading file %{filename} (%{filesize} kB)...",please_try_again_later:"Please try again later",too_large_file:"File is too large: 4 MB max",too_many_files:"Too many files: max %{count} files at once",wait_till_loaded:"Wait till files are loaded"},jquery_shiki_forum:{new_topics_added:{few:"%{count} new topics added",many:"%{count} new topics added",one:"%{count} new topic added"}},paginated_catalog:{please_try_again_later:"Please try again later"},postloader:{loading:"Loading..."},rails_ujs_modified:{body:"Text",created_at:"",email:"E-mail",forbidden:"",invalid_login_or_password:"Invalid login or password",nickname:"Nickname",password:"Password",please_try_again_later:"Please try again later",subject:"Subject",title:"Title",you_are_not_authorized:"You are not authorized to perform this action"}},pages:{p_animes:{hentai:"Hentai / Roskomnadzor",licensed:"Licensed in Russia",no_data:"No data",watch_online:"Watch Online"},p_contests:{candidate:{few:"%{count} candidates",many:"%{count} candidates",one:"%{count} candidate",other:"%{count} candidates"}},p_profiles:{day:{few:"days",many:"days",one:"day"},hour:{few:"hours",many:"hours",one:"hour"},label:{full:"%{hours} %{hour_word} since %{from_date} till %{to_date} (%{days} %{day_word})",short:"%{hours} %{hour_word} on %{date}"},page_is_reloading:"Page is reloading..."},p_recommendations_index:{dont_recommend_franchise:"Don't recommend this franchise any more"},p_user_rates:{changes_saved:"Changes saved",error_occurred:"Error occurred",insufficient_data:"Insufficient data",reread:{few:"re-reads",many:"re-reads",one:"re-read"},rewatch:{few:"rewatches",many:"rewatches",one:"rewatch"}}},poll_variants:{label:"Text",nothing_here:"No options"},polls:{abstain:"Abstain",vote:"Vote"},search:{mode:{anime:"Anime",character:"Character",index:"This page",manga:"Manga",person:"Person",ranobe:"Ranobe"},nothing_found:"Nothing found."},shiki_editor:{file:"file",not_available:"Commenting will be available one day after registering",spoiler:"spoiler",text_cant_be_blank:"Text can't be blank"},statistics:{anime_in_year:"%{count} %{type} in %{year}",anime_of_type:"<b>%{count}</b> anime of type <b>%{type}</b>",anime_with_rating_in_year:"%{count} %{rating} anime in %{year}",anime_with_score:"<b>%{count}</b> anime scored <b>%{score}</b>",genres_share:"%{percent}% share of %{genre} in %{year}",number:"Number",ratings_share:"%{percent}% share of %{rating} in %{year}",share:"Share"},synonyms:{name:"Name",nothing_here:"No names"},user_rates:{button:{add_to_list:"Add to My List",remove_from_my_list:"Remove from My List"}}}})}).call(t,n(1))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(15),i=n.n(r),o=n(538),a=n.n(o),s=n(10);$(document).on("turbolinks:load",function(){document.body.classList.add(a.a.name.toLowerCase().replace(/ /g,"_")),$("p.flash-notice").each(function(e,t){t.innerHTML.length&&s.a.notice(t.innerHTML)}),$("p.flash-alert").each(function(e,t){t.innerHTML.length&&s.a.error(t.innerHTML)}),$(document.body).process(),$(".b-list_switchers .switcher").on("click",function(){$.cookie($(this).data("name"),$(this).data("value"),{expires:730,path:"/"}),i.a.visit(document.location.href)})})},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(122);$(document).on("turbolinks:before-cache",function(){$("html").attr("style",null),$(".tipsy").remove(),$("body > .tooltip").remove(),$("[data-dynamic]").addClass(r.a.PENDING_CLASS);var e,t=$(document.body).data("js_export_supervisor_keys");Object.isEmpty(t)||(e={},t.forEach(function(t){var n=t.singularize();$("[data-track_"+n+"]").each(function(r,i){var o=$(i),a=o.view()&&o.view().model||$(i).data("model");if(a)if("user_rate"===n){var s=$(i).data("track_"+n).split(":")[0];if(!a.id)return;e[t]||(e[t]={}),e[t][s]||(e[t][s]=[]),e[t][s].push(a)}else e[t]||(e[t]=[]),e[t].push(a)})}),$("script#js_export").html("window.JS_EXPORTS = "+JSON.stringify(e)+";")),$(".b-video, .b-shiki_wall, .b-tooltipped, .b-spoiler, .b-image, .b-show_more").addClass("unprocessed"),$(".anime-tooltip-processed").removeClass("anime-tooltip-processed").addClass("anime-tooltip"),$(".bubbled-processed").removeClass("bubbled-processed").addClass("bubbled"),$(".b-shiki_editor").addClass("unprocessed"),$(".b-height_shortener").each(function(e,t){$(t).prev().removeClass("shortened").css("height",""),$(t).remove()})})}],[337]);
//# sourceMappingURL=application-72c2fdbb8b0c05595f08.js.map